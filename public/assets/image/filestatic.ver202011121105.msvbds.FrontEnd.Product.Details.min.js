/*!
* Note: While Microsoft is not the author of this file, Microsoft is
* offering you a license subject to the terms of the Microsoft Software
* License Terms for Microsoft ASP.NET Model View Controller 3.
* Microsoft reserves all other rights. The notices below are provided
* for informational purposes only and are not the license terms under
* which Microsoft distributed this file.
*
* jQuery UI 1.8.11
*
* Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
*
* http://docs.jquery.com/UI
*/
function clickImage360(n){var f,t,r,u;$("#divPhoto360Active").contents(":not(.top-controls)").remove();$(n).siblings("li").removeClass("current");$(n).addClass("current");f=-10;$("#divPhoto360Active").hasClass("full-screen")&&(f=0);t=$(n).children("img");r=t.attr("full");r.indexOf("http://")==0&&(r=r.replace("http://","https://"));var s=t.attr("title"),h=$(n).attr("data-order"),e=parseInt(t.attr("top"),0),o=parseInt(t.attr("bot"),0),c=parseInt(t.attr("left"),0),l=parseInt(t.attr("right"),0),a=window.innerWidth,v=screen.height,i=2*Math.atan(a/v*Math.tan((e-o)/360*Math.PI))/Math.PI*180;i=i>120?120:Math.floor(i);i=i<50?50:Math.floor(i);$("#titImg360").text(s);viewer=pannellum.viewer("divPhoto360Active",{panorama:r,autoLoad:!0,showControls:!1,compass:!0,minYaw:c,maxYaw:l,minPitch:o,maxPitch:e,maxHfov:i,northOffset:0,orientationOnByDefault:!0});viewer.id="viewer"+h;u=!1;$.each(viewers,function(n,t){$(t).attr("id")==viewer.id&&(u=!0)});u||viewers.push(viewer);viewer.on("load",function(){$(".pnlm-compass").removeClass("pnlm-controls");$(".pnlm-compass").removeClass("pnlm-control");$(".pnlm-compass").html('<i class="icon-deg360"><\/i>');$(".pnlm-compass").after('<div class="control-img360"><i class="icon-scan360"><\/i><\/div>')})}function onResize(n,t){var i=n.height,r=n.width;setInterval(function(){(n.height!==i||n.width!==r)&&(i=n.height,r=n.width,t())},300)}function detectIE(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1}function showToolTip(n){n.hasClass("tooltip")==!1&&(n.addClass("tooltip"),n.append('<dl class="tooltip-text">Đã sao chép<\/dl>'));$(".tooltip-text").css("display","none");n.hasClass("tooltip")&&n.children(".tooltip-text").css("display","block").animate({opacity:"1"},1e3,"easeInOutQuint").delay(800).animate({opacity:"0"},2e3,"easeInOutQuint",function(){$(this).css("display","none")})}function replaceSpecialRegexChars(n){return n.replace(/\(/ig,"\\(").replace(/\)/ig,"\\)").replace(/\[/ig,"\\[").replace(/\]/ig,"\\]").replace(/\*/ig,"\\*").replace(/\|/ig,"\\|").replace(/\+/ig,"\\+").replace(/\?/ig,"\\?")}function reformatToHideMobileNumber(n){for(var i=n.split("").reverse(),r=[],u=0,t=0;t<i.length;t++){if("0123456789".indexOf(i[t])>=0&&u<3){u++;r.push("*");continue}r.push(i[t])}return r.reverse().join("")}function formatMobileToDisplay(n){return n=$.trim(n),n.substr(0,4)+" "+n.substr(4,3)+" "+n.substr(7,3)}function verifyHeaderFone(n){for(var i,t=0;t<lstHeaderMobile10.length;t++){if(i=lstHeaderMobile10[t],n.indexOf("0"+i)==0)return 10;if(n.indexOf("84"+i)==0)return 11}for(t=0;t<lstHeaderMobile11.length;t++){if(i=lstHeaderMobile11[t],n.indexOf("0"+i)==0)return 11;if(n.indexOf("84"+i)==0)return 12}for(t=0;t<lstHeaderPhone.length;t++){if(i=lstHeaderPhone[t],n.indexOf("0"+i)==0)return 11;if(n.indexOf("84"+i)==0)return 12}for(t=0;t<lstHeaderFone.length;t++){if(i=lstHeaderFone[t],n.indexOf("0"+i)==0)return i.length>=3?11:10;if(n.indexOf("84"+i)==0)return i.length>=3?12:11}return 0}function detectTelNumberNewFromHtml(n,t,i,r){var v,s,f,h,l,y,a,p,o,u,c,w,e,b,k;if(n=n?n:"",v=n.replace(/<[^<>]+>/ig,"#"),v=v.replace(/\/m2/ig,"/m²"),s=[],f=v.trim().match(/\+?([-\.\s\(\)\d])*/g),f!=null&&f.length>0)for(e=0;e<f.length;e++)if((u=f[e],u.length>10&&(u=u.replace(/[^\d]+$/ig,""),u=u.replace(/^[^\d]+/ig,"")),!(u.length<10))&&(h=u.replace(/[^\d]/g,""),!(h.length<10)))try{if(l=verifyHeaderFone(h),l>0){if(h.length>l){for(y=0,a="",h="",o=0;o<u.length;o++)if(a=a+u[o],isFinite(u[o])&&u[o]!=" "&&(y++,h=h+u[o]),y>=l)break;f.push(u.substring(a.length));u=a}if(h.length==l){for(p=!1,u=u.trim(),o=0;o<s.length;o++)if(s[o][0]==u){p=!0;break}p==!1&&s.push([u,h])}}}catch(d){console.log(d)}if(f=n.match(/<a href=\"tel:([^>]+)\">([^>]+)<\/a>/g),f!=null&&f.length>0)for(e=0;e<f.length;e++)u=f[e],c=u.match(/>[^>]+</g),c!=null&&c.length>0&&(c=c[0].replace(">","").replace("<","")),w=RegExp(u,"g"),n=n.replace(w,c);for(s.length>0&&s.sort(function(n,t){return n[0].length<t[0].length?-1:n[0].length>t[0].length?1:0}),e=0;e<s.length;e++){var u=s[e][0],nt=s[e][1],g=RegExp("[>]?[^<>]{0,}"+replaceSpecialRegexChars(u)+"[^<>]{0,}[<]?","g");f=n.match(g);f!=null&&f.length>0?$.each(f,function(f,e){var o=RegExp(replaceSpecialRegexChars(e),"g"),s=RegExp(replaceSpecialRegexChars(u),"g");n=r?n.replace(o,e.replace(s,reformatToHideMobileNumber(u))):t?n.replace(o,e.replace(s,'<span class="hidden-mobile '+i+'">'+u+"<\/span>")):n.replace(o,e.replace(s,'<span class="hidden-phone hidden-mobile '+i+'">'+u+"<\/span>"))}):r?(b=RegExp(replaceSpecialRegexChars(u),"g"),k=RegExp(replaceSpecialRegexChars(u),"g"),n=n.replace(b,u.replace(k,reformatToHideMobileNumber(u)))):n=t?n.replace(u,'<span class="hidden-mobile '+i+'">'+u+"<\/span>"):n.replace(u,'<span class="hidden-phone hidden-mobile'+i+'">'+u+"<\/span>")}return n}function detectTelNumberNew(n,t,i,r,u){var f,w,o,c,v,p,h,g,b,s,y,k,e,a;i===undefined&&(i="");r===undefined&&(r=!1);t===undefined&&(t=!1);try{f=n.html();f=f?f:"";var l=[],p=f.split(/(<br>)/ig),d=/((https:\/\/|http:\/\/|www)[^\s><]+)/ig,h=f.match(d);if(h!=null&&h.length>0)for(s=0;s<h.length;s++){for(w=!1,o=0;o<l.length;o++)if(l[o]==h[s]){w=!0;break}w==!1&&l.push(h[s])}for(o=0;o<l.length;o++)c=RegExp(replaceSpecialRegexChars(l[o]),"ig"),f=f.replace(c,"##URL"+o+"##");for(f=detectTelNumberNewFromHtml(f,t,i,r),o=0;o<l.length;o++)e=l[o],(e.indexOf("sanbatdongsan.info.vn")>0||e.indexOf("nhadatvanminh.com.vn")>0||e.indexOf("nhadatkhachsan24h.com.vn")>0||e.indexOf("phoxanh.vn")>0||e.indexOf("landber.com")>0||e.indexOf("propzy.vn")>0||e.indexOf("enhadat.vn")>0||e.indexOf("homedy.com")>0)&&(e=""),c=RegExp(replaceSpecialRegexChars("##URL"+o+"##"),"ig"),f=f.replace(c,e);if(r)return n.html(f);if(t){n.html(f);return}if(v=null,!n.html().match(/<\/a>/ig))for(p=n.html().split(/(<br>)/ig),s=0;s<p.length;s++)if(h=p[s].match(d),v=h!=null&&h.length>0?h[0]:null,v!=null)break;if(g=/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/g,b=f.match(g),b)for(result=[],$.each(b,function(n,t){for(var r=!1,i=0;i<result.length;i++)if(result[i]==t){r=!0;break}r==!1&&result.push(t)}),s=0;s<result.length;s++)y=result[s],k=RegExp(">[^<>]{0,}"+y+"[^<>]{0,}(<|$)","g"),f.match(k)&&$.each(f.match(k),function(n,t){var i=RegExp(replaceSpecialRegexChars(y),"g"),r=RegExp(replaceSpecialRegexChars(t),"g");f=f.replace(r,t.replace(i,"<a href='mailto:"+y+"'>"+y+"<\/a>"))});return v!=null&&(e=v,a=e,e.toLowerCase().startsWith("https://")==!1&&e.toLowerCase().startsWith("http://")==!1&&(a="http://"+e),(u==undefined||u==!1)&&(a='<a rel="nofollow" target="_blank" href="'+a+'">'+a+"<\/a>"),c="(<([^><]+))"+replaceSpecialRegexChars(e)+"([^><]*)>",c=new RegExp(c,"ig"),f.match(c)||(f=f.replace(new RegExp(replaceSpecialRegexChars(e)),a))),n.html(f)}catch(nt){console.log(nt)}}function copyToClipboard(n){function i(n){var r=navigator.userAgent.match(/ipad|iphone/i),t,i;if(r){var u=n.contentEditable,f=n.readOnly,e=document.scrollingElement.scrollTop;n.contentEditable=!0;n.readOnly=!1;t=document.createRange();t.selectNodeContents(n);i=window.getSelection();i.removeAllRanges();i.addRange(t);n.setSelectionRange(0,999999);n.contentEditable=u;n.readOnly=f;document.scrollingElement.scrollTop=e}else n.select();document.execCommand("copy")}var t=document.createElement("textarea");t.style.position="fixed";t.style.top=0;t.style.left=0;t.style.width="2em";t.style.height="2em";t.style.padding=0;t.style.border="none";t.style.outline="none";t.style.boxShadow="none";t.style.background="transparent";t.value=n;document.body.appendChild(t);i(t);try{return document.execCommand("copy")}catch(r){return console.log("Oops, unable to copy"),!1}finally{document.body.removeChild(t)}}var SearchingHistoriesServices,YourLocationServices,MarkingProductsServices;(function(n,t){function i(t){return!n(t).parents().andSelf().filter(function(){return n.curCSS(this,"visibility")==="hidden"||n.expr.filters.hidden(this)}).length}n.ui=n.ui||{};n.ui.version||(n.extend(n.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),n.fn.extend({_focus:n.fn.focus,focus:function(t,i){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){n(r).focus();i&&i.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=n.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.curCSS(this,"position",1))&&/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length){i=n(this[0]);for(var r;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&r!==0))return r;i=i.parent()}}return 0},disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.each(["Width","Height"],function(i,r){function u(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.curCSS(t,"padding"+this,!0))||0;r&&(i-=parseFloat(n.curCSS(t,"border"+this+"Width",!0))||0);u&&(i-=parseFloat(n.curCSS(t,"margin"+this,!0))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),e={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?e["inner"+r].call(this):this.each(function(){n(this).css(f,u(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return typeof t!="number"?e["outer"+r].call(this,t):this.each(function(){n(this).css(f,u(this,t,!0,i)+"px")})}}),n.extend(n.expr[":"],{data:function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){var r=t.nodeName.toLowerCase(),u=n.attr(t,"tabindex");return"area"===r?(r=t.parentNode,u=r.name,!t.href||!u||r.nodeName.toLowerCase()!=="map")?!1:(t=n("img[usemap=#"+u+"]")[0],!!t&&i(t)):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||!isNaN(u):!isNaN(u))&&i(t)},tabbable:function(t){var i=n.attr(t,"tabindex");return(isNaN(i)||i>=0)&&n(t).is(":focusable")}}),n(function(){var i=document.body,t=i.appendChild(t=document.createElement("div"));n.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});n.support.minHeight=t.offsetHeight===100;n.support.selectstart="onselectstart"in t;i.removeChild(t).style.display="none"}),n.extend(n.ui,{plugin:{add:function(t,i,r){t=n.ui[t].prototype;for(var u in r)t.plugins[u]=t.plugins[u]||[],t.plugins[u].push([i,r[u]])},call:function(n,t,i){if((t=n.plugins[t])&&n.element[0].parentNode)for(var r=0;r<t.length;r++)n.options[t[r][0]]&&t[r][1].apply(n.element,i)}},contains:function(n,t){return document.compareDocumentPosition?n.compareDocumentPosition(t)&16:n!==t&&n.contains(t)},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;i=i&&i==="left"?"scrollLeft":"scrollTop";var r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(n,t,i){return n>t&&n<t+i},isOver:function(t,i,r,u,f,e){return n.ui.isOverAxis(t,r,f)&&n.ui.isOverAxis(i,u,e)}}))})(jQuery);
/*!
 * Note: While Microsoft is not the author of this file, Microsoft is
 * offering you a license subject to the terms of the Microsoft Software
 * License Terms for Microsoft ASP.NET Model View Controller 3.
 * Microsoft reserves all other rights. The notices below are provided
 * for informational purposes only and are not the license terms under
 * which Microsoft distributed this file.
 *
 * jQuery UI Widget 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)\
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(n,t){var i,r;n.cleanData?(i=n.cleanData,n.cleanData=function(t){for(var r=0,u;(u=t[r])!=null;r++)n(u).triggerHandler("remove");i(t)}):(r=n.fn.remove,n.fn.remove=function(t,i){return this.each(function(){return i||(!t||n.filter(t,[this]).length)&&n("*",this).add([this]).each(function(){n(this).triggerHandler("remove")}),r.call(n(this),t,i)})});n.widget=function(t,i,r){var u=t.split(".")[0],f;t=t.split(".")[1];f=u+"-"+t;r||(r=i,i=n.Widget);n.expr[":"][f]=function(i){return!!n.data(i,t)};n[u]=n[u]||{};n[u][t]=function(n,t){arguments.length&&this._createWidget(n,t)};i=new i;i.options=n.extend(!0,{},i.options);n[u][t].prototype=n.extend(!0,i,{namespace:u,widgetName:t,widgetEventPrefix:n[u][t].prototype.widgetEventPrefix||t,widgetBaseClass:f},r);n.widget.bridge(t,n[u][t])};n.widget.bridge=function(i,r){n.fn[i]=function(u){var f=typeof u=="string",e=Array.prototype.slice.call(arguments,1),o=this;return(u=!f&&e.length?n.extend.apply(null,[!0,u].concat(e)):u,f&&u.charAt(0)==="_")?o:(f?this.each(function(){var r=n.data(this,i),f=r&&n.isFunction(r[u])?r[u].apply(r,e):r;if(f!==r&&f!==t)return o=f,!1}):this.each(function(){var t=n.data(this,i);t?t.option(u||{})._init():n.data(this,i,new r(u,this))}),o)}};n.Widget=function(n,t){arguments.length&&this._createWidget(n,t)};n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){n.data(i,this.widgetName,this);this.element=n(i);this.options=n.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return n.metadata&&n.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,r){var u=i;if(arguments.length===0)return n.extend({},this.options);if(typeof i=="string"){if(r===t)return this.options[i];u={};u[i]=r}return this._setOptions(u),this},_setOptions:function(t){var i=this;return n.each(t,function(n,t){i._setOption(n,t)}),this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,r){var f=this.options[t],u;if(i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r=r||{},i.originalEvent)for(t=n.event.props.length;t;)u=n.event.props[--t],i[u]=i.originalEvent[u];return this.element.trigger(i,r),!(n.isFunction(f)&&f.call(this.element[0],i,r)===!1||i.isDefaultPrevented())}}})(jQuery);
/*!
 * Note: While Microsoft is not the author of this file, Microsoft is
 * offering you a license subject to the terms of the Microsoft Software
 * License Terms for Microsoft ASP.NET Model View Controller 3.
 * Microsoft reserves all other rights. The notices below are provided
 * for informational purposes only and are not the license terms under
 * which Microsoft distributed this file.
 *
 * jQuery UI Mouse 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)\
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(n){n.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(t){if(t.originalEvent=t.originalEvent||{},!t.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,r=t.which==1,u=typeof this.options.cancel=="string"?n(t.target).parents().add(t.target).filter(this.options.cancel).length:!1;return!r||u||!this._mouseCapture(t)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted))?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),t.originalEvent.mouseHandled=!0)}},_mouseMove:function(t){return n.browser.msie&&!(document.documentMode>=9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1)?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery),function(n){n.ui=n.ui||{};var t=/left|center|right/,i=/top|center|bottom/,r=n.fn.position,u=n.fn.offset;n.fn.position=function(u){if(!u||!u.of)return r.apply(this,arguments);u=n.extend({},u);var e=n(u.of),l=e[0],c=(u.collision||"flip").split(" "),o=u.offset?u.offset.split(" "):[0,0],s,h,f;return l.nodeType===9?(s=e.width(),h=e.height(),f={top:0,left:0}):l.setTimeout?(s=e.width(),h=e.height(),f={top:e.scrollTop(),left:e.scrollLeft()}):l.preventDefault?(u.at="left top",s=h=0,f={top:u.of.pageY,left:u.of.pageX}):(s=e.outerWidth(),h=e.outerHeight(),f=e.offset()),n.each(["my","at"],function(){var n=(u[this]||"").split(" ");n.length===1&&(n=t.test(n[0])?n.concat(["center"]):i.test(n[0])?["center"].concat(n):["center","center"]);n[0]=t.test(n[0])?n[0]:"center";n[1]=i.test(n[1])?n[1]:"center";u[this]=n}),c.length===1&&(c[1]=c[0]),o[0]=parseInt(o[0],10)||0,o.length===1&&(o[1]=o[0]),o[1]=parseInt(o[1],10)||0,u.at[0]==="right"?f.left+=s:u.at[0]==="center"&&(f.left+=s/2),u.at[1]==="bottom"?f.top+=h:u.at[1]==="center"&&(f.top+=h/2),f.left+=o[0],f.top+=o[1],this.each(function(){var i=n(this),r=i.outerWidth(),e=i.outerHeight(),l=parseInt(n.curCSS(this,"marginLeft",!0))||0,a=parseInt(n.curCSS(this,"marginTop",!0))||0,y=r+l+(parseInt(n.curCSS(this,"marginRight",!0))||0),p=e+a+(parseInt(n.curCSS(this,"marginBottom",!0))||0),t=n.extend({},f),v;u.my[0]==="right"?t.left-=r:u.my[0]==="center"&&(t.left-=r/2);u.my[1]==="bottom"?t.top-=e:u.my[1]==="center"&&(t.top-=e/2);t.left=Math.round(t.left);t.top=Math.round(t.top);v={left:t.left-l,top:t.top-a};n.each(["left","top"],function(i,f){n.ui.position[c[i]]&&n.ui.position[c[i]][f](t,{targetWidth:s,targetHeight:h,elemWidth:r,elemHeight:e,collisionPosition:v,collisionWidth:y,collisionHeight:p,offset:o,my:u.my,at:u.at})});n.fn.bgiframe&&i.bgiframe();i.offset(n.extend(t,{using:u.using}))})};n.ui.position={fit:{left:function(t,i){var r=n(window);r=i.collisionPosition.left+i.collisionWidth-r.width()-r.scrollLeft();t.left=r>0?t.left-r:Math.max(t.left-i.collisionPosition.left,t.left)},top:function(t,i){var r=n(window);r=i.collisionPosition.top+i.collisionHeight-r.height()-r.scrollTop();t.top=r>0?t.top-r:Math.max(t.top-i.collisionPosition.top,t.top)}},flip:{left:function(t,i){var r;if(i.at[0]!=="center"){r=n(window);r=i.collisionPosition.left+i.collisionWidth-r.width()-r.scrollLeft();var u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:-i.targetWidth,e=-2*i.offset[0];t.left+=i.collisionPosition.left<0?u+f+e:r>0?u+f+e:0}},top:function(t,i){var r;if(i.at[1]!=="center"){r=n(window);r=i.collisionPosition.top+i.collisionHeight-r.height()-r.scrollTop();var u=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:-i.targetHeight,e=-2*i.offset[1];t.top+=i.collisionPosition.top<0?u+f+e:r>0?u+f+e:0}}}};n.offset.setOffset||(n.offset.setOffset=function(t,i){/static/.test(n.curCSS(t,"position"))&&(t.style.position="relative");var u=n(t),r=u.offset(),f=parseInt(n.curCSS(t,"top",!0),10)||0,e=parseInt(n.curCSS(t,"left",!0),10)||0;r={top:i.top-r.top+f,left:i.left-r.left+e};"using"in i?i.using.call(t,r):u.css(r)},n.fn.offset=function(t){var i=this[0];return!i||!i.ownerDocument?null:t?this.each(function(){n.offset.setOffset(this,t)}):u.call(this)})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper!="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),!this.handle)?!1:!0},_mouseStart:function(t){var i=this.options;return(this.helper=this._createHelper(t),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){if(i=this._uiHash(),this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1,r;return(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),(!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")?!1:(this.options.revert=="invalid"&&!i||this.options.revert=="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?(r=this,n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()})):this._trigger("stop",t)!==!1&&this._clear(),!1)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!n(this.options.handle,this.element).length?!0:!1;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options;return t=n.isFunction(i.helper)?n(i.helper.apply(this.element[0],[t])):i.helper=="clone"?this.element.clone():this.element,t.parents("body").length||t.appendTo(i.appendTo=="parent"?this.element[0].parentNode:i.appendTo),t[0]==this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options,i,r;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);(t.containment=="document"||t.containment=="window")&&(this.containment=[(t.containment=="document"?0:n(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(t.containment=="document"?0:n(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:n(window).scrollLeft())+n(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:n(window).scrollTop())+(n(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array?t.containment.constructor==Array&&(this.containment=t.containment):(i=n(t.containment)[0],i&&(t=n(t.containment).offset(),r=n(i).css("overflow")!="hidden",this.containment=[t.left+(parseInt(n(i).css("borderLeftWidth"),10)||0)+(parseInt(n(i).css("paddingLeft"),10)||0),t.top+(parseInt(n(i).css("borderTopWidth"),10)||0)+(parseInt(n(i).css("paddingTop"),10)||0),t.left+(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n(i).css("borderLeftWidth"),10)||0)-(parseInt(n(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,t.top+(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n(i).css("borderTopWidth"),10)||0)-(parseInt(n(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]))},_convertPositionTo:function(t,i){i||(i=this.position);t=t=="absolute"?1:-1;var r=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():u?0:r.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():u?0:r.scrollLeft())*t)}},_generatePosition:function(t){var u=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName),i=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),u.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/u.grid[1])*u.grid[1],r=this.containment?(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?(r-this.offset.click.top<this.containment[1])?r+u.grid[1]:r-u.grid[1]:r:r,i=this.originalPageX+Math.round((i-this.originalPageX)/u.grid[0])*u.grid[0],i=this.containment?(i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2])?(i-this.offset.click.left<this.containment[0])?i+u.grid[0]:i-u.grid[0]:i:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.extend(n.ui.draggable,{version:"1.8.11"});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n.data(this,"sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("draggable"),u=this;n.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor"));t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}});n.ui.plugin.add("draggable","iframeFix",{start:function(){var t=n(this).data("draggable").options;n(t.iframeFix===!0?"iframe":t.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"><\/div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")})},stop:function(){n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});n.ui.plugin.add("draggable","opacity",{start:function(t,i){t=n(i.helper);i=n(this).data("draggable").options;t.css("opacity")&&(i._opacity=t.css("opacity"));t.css("opacity",i.opacity)},stop:function(t,i){t=n(this).data("draggable").options;t._opacity&&n(i.helper).css("opacity",t._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("draggable");t.scrollParent[0]!=document&&t.scrollParent[0].tagName!="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("draggable"),i=r.options,u=!1;r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"?(i.axis&&i.axis=="x"||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&i.axis=="y"||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&i.axis=="x"||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&i.axis=="y"||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))));u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("draggable"),i=t.options;t.snapElements=[];n(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var d,r=n(this).data("draggable"),k=r.options,u=k.snapTolerance,c=i.offset.left,a=c+r.helperProportions.width,l=i.offset.top,v=l+r.helperProportions.height,f=r.snapElements.length-1;f>=0;f--){var e=r.snapElements[f].left,s=e+r.snapElements[f].width,o=r.snapElements[f].top,h=o+r.snapElements[f].height;if(e-u<c&&c<s+u&&o-u<l&&l<h+u||e-u<c&&c<s+u&&o-u<v&&v<h+u||e-u<a&&a<s+u&&o-u<l&&l<h+u||e-u<a&&a<s+u&&o-u<v&&v<h+u){if(k.snapMode!="inner"){var y=Math.abs(o-v)<=u,p=Math.abs(h-l)<=u,w=Math.abs(e-a)<=u,b=Math.abs(s-c)<=u;y&&(i.position.top=r._convertPositionTo("relative",{top:o-r.helperProportions.height,left:0}).top-r.margins.top);p&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top);w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e-r.helperProportions.width}).left-r.margins.left);b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s}).left-r.margins.left)}d=y||p||w||b;k.snapMode!="outer"&&(y=Math.abs(o-l)<=u,p=Math.abs(h-v)<=u,w=Math.abs(e-c)<=u,b=Math.abs(s-a)<=u,y&&(i.position.top=r._convertPositionTo("relative",{top:o,left:0}).top-r.margins.top),p&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top),w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e}).left-r.margins.left),b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left-r.margins.left));!r.snapElements[f].snapping&&(y||p||w||b||d)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item}));r.snapElements[f].snapping=y||p||w||b||d}else r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1}}});n.ui.plugin.add("draggable","stack",{start:function(){var t=n(this).data("draggable").options,i;t=n.makeArray(n(t.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});t.length&&(i=parseInt(t[0].style.zIndex)||0,n(t).each(function(n){this.style.zIndex=i+n}),this[0].style.zIndex=i+t.length)}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i){t=n(i.helper);i=n(this).data("draggable").options;t.css("zIndex")&&(i._zIndex=t.css("zIndex"));t.css("zIndex",i.zIndex)},stop:function(t,i){t=n(this).data("draggable").options;t._zIndex&&n(i.helper).css("zIndex",t._zIndex)}})}(jQuery),function(n){n.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0;this.isout=1;this.accept=n.isFunction(i)?i:function(n){return n.is(i)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[];n.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var i=n.ui.ddmanager.droppables[this.options.scope],t=0;t<i.length;t++)i[t]==this&&i.splice(t,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){t=="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)});n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]==this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]==this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u;return!r||(r.currentItem||r.element)[0]==this.element[0]?!1:(u=!1,this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.extend(n.ui.droppable,{version:"1.8.11"});n.ui.intersect=function(t,i,r){if(!i.offset)return!1;var e=(t.positionAbs||t.position.absolute).left,s=e+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,h=o+t.helperProportions.height,u=i.offset.left,c=u+i.proportions.width,f=i.offset.top,l=f+i.proportions.height;switch(r){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+t.helperProportions.width/2&&s-t.helperProportions.width/2<c&&f<o+t.helperProportions.height/2&&h-t.helperProportions.height/2<l;case"pointer":return n.ui.isOver((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,f,u,i.proportions.height,i.proportions.width);case"touch":return(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l)&&(e>=u&&e<=c||s>=u&&s<=c||e<u&&s>c);default:return!1}};n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(droppable)").andSelf(),r=0,f;n:for(;r<u.length;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]==u[r].element[0]){u[r].proportions.height=0;continue n}u[r].visible=u[r].element.css("display")!="none";u[r].visible&&(o=="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=r||this._drop.call(this,i)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),r},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){var u,r,f;this.options.disabled||this.greedyChild||!this.visible||(u=n.ui.intersect(t,this,this.options.tolerance),(u=!u&&this.isover==1?"isout":u&&this.isover==0?"isover":null)&&(this.options.greedy&&(f=this.element.parents(":data(droppable):eq(0)"),f.length&&(r=n.data(f[0],"droppable"),r.greedyChild=u=="isover"?1:0)),r&&u=="isover"&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[u]=1,this[u=="isout"?"isover":"isout"]=0,this[u=="isover"?"_over":"_out"].call(this,i),r&&u=="isout"&&(r.isout=0,r.isover=1,r._over.call(r,i))))})}}}(jQuery),function(n){n.widget("ui.resizable",n.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var r=this,t=this.options,e,u,i,f;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&n.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(n('<div class="ui-wrapper" style="overflow: hidden;"><\/div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String)for(this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},u=0;u<e.length;u++)i=n.trim(e[u]),f=n('<div class="ui-resizable-handle ui-resizable-'+i+'"><\/div>'),/sw|se|ne|nw/.test(i)&&f.css({zIndex:++t.zIndex}),"se"==i&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(f);this._renderAxis=function(t){var i,r,u;t=t||this.element;for(i in this.handles)this.handles[i].constructor==String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),u=0,u=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,u),this._proportionallyResize()),n(this.handles[i])};this._renderAxis(this.element);this._handles=n(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!r.resizing){if(this.className)var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);r.axis=n&&n[1]?n[1]:"se"}});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").hover(function(){n(this).removeClass("ui-resizable-autohide");r._handles.show()},function(){r.resizing||(n(this).addClass("ui-resizable-autohide"),r._handles.hide())}));this._mouseInit()},destroy:function(){var i,t;return this._mouseDestroy(),i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()},this.elementIsWrapper&&(i(this.element),t=this.element,t.after(this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")})).remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var r in this.handles)n(this.handles[r])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var u=this.options,f=this.element.position(),r=this.element,e;return this.resizing=!0,this.documentScroll={top:n(document).scrollTop(),left:n(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:f.top,left:f.left}),n.browser.opera&&/relative/.test(r.css("position"))&&r.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),f=i(this.helper.css("left")),e=i(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,u=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",u=="auto"?this.axis+"-resize":u),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(n){var r=this.helper,t=this.originalMousePosition,i=this._change[this.axis];return i?(t=i.apply(this,[n,n.pageX-t.left||0,n.pageY-t.top||0]),(this._aspectRatio||n.shiftKey)&&(t=this._updateRatio(t,n)),t=this._respectSize(t,n),this._propagate("resize",n),r.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(t),this._trigger("resize",n,this.ui()),!1):!1},_mouseStop:function(t){var f,i,r,u,e;return this.resizing=!1,f=this.options,i=this,this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),r=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,u=u?0:i.sizeDiff.width,u={width:i.helper.width()-u,height:i.helper.height()-r},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,e=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,f.animate||this.element.css(n.extend(u,{top:e,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!f.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateCache:function(n){this.offset=this.helper.offset();t(n.left)&&(this.position.left=n.left);t(n.top)&&(this.position.top=n.top);t(n.height)&&(this.size.height=n.height);t(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var i=this.position,t=this.size,r=this.axis;return n.height?n.width=t.height*this.aspectRatio:n.width&&(n.height=t.width/this.aspectRatio),r=="sw"&&(n.left=i.left+(t.width-n.width),n.top=null),r=="nw"&&(n.top=i.top+(t.height-n.height),n.left=i.left+(t.width-n.width)),n},_respectSize:function(n){var i=this.options,r=this.axis,u=t(n.width)&&i.maxWidth&&i.maxWidth<n.width,f=t(n.height)&&i.maxHeight&&i.maxHeight<n.height,e=t(n.width)&&i.minWidth&&i.minWidth>n.width,o=t(n.height)&&i.minHeight&&i.minHeight>n.height;e&&(n.width=i.minWidth);o&&(n.height=i.minHeight);u&&(n.width=i.maxWidth);f&&(n.height=i.maxHeight);var s=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(r);return r=/nw|ne|n/.test(r),e&&c&&(n.left=s-i.minWidth),u&&c&&(n.left=s-i.maxWidth),o&&r&&(n.top=h-i.minHeight),f&&r&&(n.top=h-i.maxHeight),(i=!n.width&&!n.height)&&!n.left&&n.top?n.top=null:i&&!n.top&&n.left&&(n.left=null),n},_proportionallyResize:function(){var i,r,t,u,f;if(this._proportionallyResizeElements.length)for(i=this.helper||this.element,r=0;r<this._proportionallyResizeElements.length;r++)t=this._proportionallyResizeElements[r],this.borderDif||(u=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],f=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")],this.borderDif=n.map(u,function(n,t){return n=parseInt(n,10)||0,t=parseInt(f[t],10)||0,n+t})),n.browser.msie&&(n(i).is(":hidden")||n(i).parents(":hidden").length)||t.css({height:i.height()-this.borderDif[0]-this.borderDif[2]||0,width:i.width()-this.borderDif[1]-this.borderDif[3]||0})},_renderProxy:function(){var r=this.options,t,i;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||n('<div style="overflow:hidden;"><\/div>'),t=n.browser.msie&&n.browser.version<7,i=t?1:0,t=t?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+t,height:this.element.outerHeight()+t,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++r.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(n,t,i){return{top:this.originalPosition.top+i,height:this.originalSize.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);t!="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.extend(n.ui.resizable,{version:"1.8.11"});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).data("resizable").options,i=function(t){n(t).each(function(){var t=n(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};typeof t.alsoResize!="object"||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).data("resizable");t=r.options;var u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0},e=function(t,u){n(t).each(function(){var t=n(this),e=n(this).data("resizable-alsoresize"),f={},s=u&&u.length?u:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(s,function(n,t){(n=(e[t]||0)+(o[t]||0))&&n>=0&&(f[t]=n||null)});n.browser.opera&&/relative/.test(t.css("position"))&&(r._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"}));t.css(f)})};typeof t.alsoResize=="object"&&!t.alsoResize.nodeType?n.each(t.alsoResize,function(n,t){e(n,t)}):e(t.alsoResize)},stop:function(){var i=n(this).data("resizable"),t=i.options,r=function(t){n(t).each(function(){var t=n(this);t.css({position:t.data("resizable-alsoresize").position})})};i._revertToRelativePosition&&(i._revertToRelativePosition=!1,typeof t.alsoResize=="object"&&!t.alsoResize.nodeType?n.each(t.alsoResize,function(n){r(n)}):r(t.alsoResize));n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("resizable"),o=i.options,r=i._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e;u={width:i.size.width-(u?0:i.sizeDiff.width),height:i.size.height-f};f=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null;e=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(u,e&&f?{top:e,left:f}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var t=n(this).data("resizable"),r=t.element,u=t.options.containment,f,e,o,s;(r=u instanceof n?u.get(0):/parent/.test(u)?r.parent().get(0):u)&&(t.containerElement=n(r),/document/.test(u)||u==document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(f=n(r),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=i(f.css("padding"+t))}),t.containerOffset=f.offset(),t.containerPosition=f.position(),t.containerSize={height:f.innerHeight()-e[3],width:f.innerWidth()-e[1]},u=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,s=n.ui.hasScroll(r,"left")?r.scrollWidth:s,o=n.ui.hasScroll(r)?r.scrollHeight:o,t.parentData={element:r,left:u.left,top:u.top,width:s,height:o}))},resize:function(t){var i=n(this).data("resizable"),f=i.options,r=i.containerOffset,e=i.position,u,o;t=i._aspectRatio||t.shiftKey;u={top:0,left:0};o=i.containerElement;o[0]!=document&&/static/.test(o.css("position"))&&(u=r);e.left<(i._helper?r.left:0)&&(i.size.width+=i._helper?i.position.left-r.left:i.position.left-u.left,t&&(i.size.height=i.size.width/f.aspectRatio),i.position.left=f.helper?r.left:0);e.top<(i._helper?r.top:0)&&(i.size.height+=i._helper?i.position.top-r.top:i.position.top,t&&(i.size.width=i.size.height*f.aspectRatio),i.position.top=i._helper?r.top:0);i.offset.left=i.parentData.left+i.position.left;i.offset.top=i.parentData.top+i.position.top;f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width);r=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height);e=i.containerElement.get(0)==i.element.parent().get(0);u=/relative|absolute/.test(i.containerElement.css("position"));e&&u&&(f-=i.parentData.left);f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,t&&(i.size.height=i.size.width/i.aspectRatio));r+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-r,t&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("resizable"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width;i=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:i});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:i})}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var t=n(this).data("resizable"),i=t.options,o=t.size,r=t.originalSize,f=t.originalPosition,e=t.axis,u;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;u=Math.round((o.width-r.width)/(i.grid[0]||1))*(i.grid[0]||1);i=Math.round((o.height-r.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(e)?(t.size.width=r.width+u,t.size.height=r.height+i):/^(ne)$/.test(e)?(t.size.width=r.width+u,t.size.height=r.height+i,t.position.top=f.top-i):(/^(sw)$/.test(e)?(t.size.width=r.width+u,t.size.height=r.height+i):(t.size.width=r.width+u,t.size.height=r.height+i,t.position.top=f.top-i),t.position.left=f.left-u)}});var i=function(n){return parseInt(n,10)||0},t=function(n){return!isNaN(parseInt(n,10))}}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var i=this,t;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var r=this,i;this.opos=[t.pageX,t.pageY];this.options.disabled||(i=this.options,this.selectees=n(i.filter,this.element[0]),this._trigger("start",t),n(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=n.data(this,"selectable-item");i.startselected=!0;t.metaKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,r._trigger("unselecting",t,{unselecting:i.element}))}),n(t.target).parents().andSelf().each(function(){var i=n.data(this,"selectable-item"),u;if(i)return u=!t.metaKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),i.unselecting=!u,i.selecting=u,(i.selected=u)?r._trigger("selecting",t,{selecting:i.element}):r._trigger("unselecting",t,{unselecting:i.element}),!1}))},_mouseDrag:function(t){var e=this,o;if(this.dragged=!0,!this.options.disabled){var s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(o=u,u=i,i=o),r>f&&(o=f,f=r,r=o),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),h;!o||o.element==e.element[0]||(h=!1,s.tolerance=="touch"?h=!(o.left>u||o.right<i||o.top>f||o.bottom<r):s.tolerance=="fit"&&(h=o.left>i&&o.right<u&&o.top>r&&o.bottom<f),h?(o.selected&&(o.$element.removeClass("ui-selected"),o.selected=!1),o.unselecting&&(o.$element.removeClass("ui-unselecting"),o.unselecting=!1),o.selecting||(o.$element.addClass("ui-selecting"),o.selecting=!0,e._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&(t.metaKey&&o.startselected?(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.$element.addClass("ui-selected"),o.selected=!0):(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.startselected&&(o.$element.addClass("ui-unselecting"),o.unselecting=!0),e._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||o.startselected||(o.$element.removeClass("ui-selected"),o.selected=!1,o.$element.addClass("ui-unselecting"),o.unselecting=!0,e._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.extend(n.ui.selectable,{version:"1.8.11"})}(jQuery),function(n){n.widget("ui.sortable",n.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData("sortable-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r,u,f;return this.reverting?!1:this.options.disabled||this.options.type=="static"?!1:(this._refreshItems(t),r=null,u=this,n(t.target).parents().each(function(){if(n.data(this,"sortable-item")==u)return r=n(this),!1}),n.data(t.target,"sortable-item")==u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(f=!1,n(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){i=this.options;var u=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,u._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,u,f;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(i=this.options,r=!1,this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=this.items[i],u=r.item[0],f=this._intersectsWithPointer(r),f&&u!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=u&&!n.ui.contains(this.placeholder[0],u)&&(this.options.type=="semi-dynamic"?!n.ui.contains(this.element[0],u):!0)){if(this.direction=f==1?"down":"up",this.options.tolerance=="pointer"||this._intersectsWithSides(r))this._rearrange(t,r);else break;this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var r=this;i=r.placeholder.offset();r.reverting=!0;n(this.helper).animate({left:i.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){var i=this,t;if(this.dragging)for(this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show(),t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,i._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,i._uiHash(this)),this.containers[t].containerCache.over=0);return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,u=n.left,e=u+n.width,f=n.top,o=f+n.height,r=this.offset.click.top,s=this.offset.click.left;return r=i+r>f&&i+r<o&&t+s>u&&t+s<e,this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?r:u<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<e&&f<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<o},_intersectsWithPointer:function(t){var i=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r;return(t=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=i&&t,t=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection(),!i)?!1:this.floating?r&&r=="right"||t=="down"?2:1:t&&(t=="down"?2:1)},_intersectsWithSides:function(t){var u=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i,r;return t=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection(),this.floating&&r?r=="right"&&t||r=="left"&&!t:i&&(i=="down"&&u||i=="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!=0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!=0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor==String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var o=[],r=[],f=this._connectWith(),e,u,i;if(f&&t)for(t=f.length-1;t>=0;t--)for(e=n(f[t]),u=e.length-1;u>=0;u--)i=n.data(e[u],"sortable"),i&&i!=this&&!i.options.disabled&&r.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(r.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=r.length-1;t>=0;t--)r[t][0].each(function(){o.push(this)});return n(o)},_removeCurrentsFromItems:function(){for(var t,i=this.currentItem.find(":data(sortable-item)"),n=0;n<this.items.length;n++)for(t=0;t<i.length;t++)i[t]==this.items[n].item[0]&&this.items.splice(n,1)},_refreshItems:function(t){var r,e,u,i;this.items=[];this.containers=[this];var s=this.items,o=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],f=this._connectWith();if(f)for(r=f.length-1;r>=0;r--)for(e=n(f[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],"sortable"),i&&i!=this&&!i.options.disabled&&(o.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=o.length-1;r>=0;r--)for(t=o[r][1],f=o[r][0],u=0,e=f.length;u<e;u++)i=n(f[u]),i.data("sortable-item",t),s.push({item:i,instance:t,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,u,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)u=this.items[i],r=this.options.toleranceElement?n(this.options.toleranceElement,u.item):u.item,t||(u.width=r.outerWidth(),u.height=r.outerHeight()),r=r.offset(),u.left=r.left,u.top=r.top;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i=t||this,r=i.options,u;r.placeholder&&r.placeholder.constructor!=String||(u=r.placeholder,r.placeholder={element:function(){var t=n(document.createElement(i.currentItem[0].nodeName)).addClass(u||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return u||(t.style.visibility="hidden"),t},update:function(n,t){u&&!r.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}});i.placeholder=n(r.placeholder.element.call(i.element,i.currentItem));i.currentItem.after(i.placeholder);r.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var e,f,o,u=null,r=null,i=this.containers.length-1;i>=0;i--)n.ui.contains(this.currentItem[0],this.containers[i].element[0])||(this._intersectsWith(this.containers[i].containerCache)?u&&n.ui.contains(this.containers[i].element[0],u.element[0])||(u=this.containers[i],r=i):this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0));if(u)if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){for(u=1e4,i=null,e=this.positionAbs[this.containers[r].floating?"left":"top"],f=this.items.length-1;f>=0;f--)n.ui.contains(this.containers[r].element[0],this.items[f].item[0])&&(o=this.items[f][this.containers[r].floating?"left":"top"],Math.abs(o-e)<u&&(u=Math.abs(o-e),i=this.items[f]));(i||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[r],i?this._rearrange(t,i,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1)}},_createHelper:function(t){var i=this.options;return t=n.isFunction(i.helper)?n(i.helper.apply(this.element[0],[t,this.currentItem])):i.helper=="clone"?this.currentItem.clone():this.currentItem,t.parents("body").length||n(i.appendTo!="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(t[0].style.width==""||i.forceHelperSize)&&t.width(this.currentItem.width()),(t[0].style.height==""||i.forceHelperSize)&&t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options,t,r;i.containment=="parent"&&(i.containment=this.helper[0].parentNode);(i.containment=="document"||i.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],i=n(i.containment).offset(),r=n(t).css("overflow")!="hidden",this.containment=[i.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);t=t=="absolute"?1:-1;var r=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():u?0:r.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():u?0:r.scrollLeft())*t)}},_generatePosition:function(t){var u=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName),i,r;return this.cssPosition!="relative"||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),i=t.pageX,r=t.pageY,this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),u.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/u.grid[1])*u.grid[1],r=this.containment?(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?(r-this.offset.click.top<this.containment[1])?r+u.grid[1]:r-u.grid[1]:r:r,i=this.originalPageX+Math.round((i-this.originalPageX)/u.grid[0])*u.grid[0],i=this.containment?(i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2])?(i-this.offset.click.left<this.containment[0])?i+u.grid[0]:i-u.grid[0]:i:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this,f=this.counter;window.setTimeout(function(){f==u.counter&&u.refreshPositions(!r)},0)},_clear:function(t,i){var u,r;if(this.reverting=!1,u=[],!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(r in this._storedCSS)(this._storedCSS[r]=="auto"||this._storedCSS[r]=="static")&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&u.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!i&&u.push(function(n){this._trigger("update",n,this._uiHash())}),!n.ui.contains(this.element[0],this.currentItem[0]))for(i||u.push(function(n){this._trigger("remove",n,this._uiHash())}),r=this.containers.length-1;r>=0;r--)n.ui.contains(this.containers[r].element[0],this.currentItem[0])&&!i&&(u.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[r])),u.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[r])));for(r=this.containers.length-1;r>=0;r--)i||u.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(u.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.extend(n.ui.sortable,{version:"1.8.11"})}(jQuery),function(n){n.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options,r,u;t.running=0;t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||n(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||n(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||n(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||n(this).removeClass("ui-state-focus")});t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");i.navigation&&(r=t.element.find("a").filter(i.navigationFilter).eq(0),r.length&&(u=r.closest(".ui-accordion-header"),t.active=u.length?u:r.closest(".ui-accordion-content").prev()));t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");t.active.next().addClass("ui-accordion-content-active");t._createIcons();t.resize();t.element.attr("role","tablist");t.headers.attr("role","tab").bind("keydown.accordion",function(n){return t._keydown(n)}).next().attr("role","tabpanel");t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0);n.browser.safari||t.headers.find("a").attr("tabIndex",-1);i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(n){t._clickHandler.call(t,n,this);n.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(n("<span><\/span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options,i;return this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons(),i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled"),(t.autoHeight||t.fillHeight)&&i.css("height",""),n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t=="active"&&this.activate(i);t=="icons"&&(this._destroyIcons(),i&&this._createIcons());t=="disabled"&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target);t.preventDefault()}return r?(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),!1):!0}},resize:function(){var i=this.options,t,r;return i.fillSpace?(n.browser.msie&&(r=this.element.parent().css("overflow"),this.element.parent().css("overflow","hidden")),t=this.element.parent().height(),n.browser.msie&&this.element.parent().css("overflow",r),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):i.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).height("").height())}).height(t)),this},activate:function(n){return this.options.active=n,n=this._findActive(n)[0],this._clickHandler({target:n},n),this},_findActive:function(t){return t?typeof t=="number"?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?n([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var r=this.options,o,s;if(!r.disabled)if(t.target)t=n(t.currentTarget||i),i=t[0]===this.active[0],r.active=r.collapsible&&i?!1:this.headers.index(t),this.running||!r.collapsible&&i||(o=this.active,f=t.next(),u=this.active.next(),e={options:r,newHeader:i&&r.collapsible?n([]):t,oldHeader:this.active,newContent:i&&r.collapsible?n([]):f,oldContent:u},s=this.headers.index(this.active[0])>this.headers.index(t[0]),this.active=i?n([]):t,this._toggle(f,u,e,i,s),o.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),i||(t.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),t.next().addClass("ui-accordion-content-active")));else if(r.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header);this.active.next().addClass("ui-accordion-content-active");var u=this.active.next(),e={options:r,newHeader:n([]),oldHeader:r.active,newContent:n([]),oldContent:u},f=this.active=n([]);this._toggle(f,u,e)}},_toggle:function(t,i,r,u,f){var o=this,e=o.options,h,c,s;o.toShow=t;o.toHide=i;o.data=r;h=function(){if(o)return o._completed.apply(o,arguments)};o._trigger("changestart",null,o.data);o.running=i.size()===0?t.size():i.size();e.animated?(r={},r=e.collapsible&&u?{toShow:n([]),toHide:i,complete:h,down:f,autoHeight:e.autoHeight||e.fillSpace}:{toShow:t,toHide:i,complete:h,down:f,autoHeight:e.autoHeight||e.fillSpace},e.proxied||(e.proxied=e.animated),e.proxiedDuration||(e.proxiedDuration=e.duration),e.animated=n.isFunction(e.proxied)?e.proxied(r):e.proxied,e.duration=n.isFunction(e.proxiedDuration)?e.proxiedDuration(r):e.proxiedDuration,u=n.ui.accordion.animations,c=e.duration,s=e.animated,!s||u[s]||n.easing[s]||(s="slide"),u[s]||(u[s]=function(n){this.slide(n,{easing:s,duration:c||700})}),u[s](r)):(e.collapsible&&u?t.toggle():(i.hide(),t.show()),h(!0));i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur();t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(n){this.running=n?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}});n.extend(n.ui.accordion,{version:"1.8.11",animations:{slide:function(t,i){if(t=n.extend({easing:"swing",duration:300},t,i),t.toHide.size())if(t.toShow.size()){var o=t.toShow.css("overflow"),u=0,r={},f={},e;i=t.toShow;e=i[0].style.width;i.width(parseInt(i.parent().width(),10)-parseInt(i.css("paddingLeft"),10)-parseInt(i.css("paddingRight"),10)-(parseInt(i.css("borderLeftWidth"),10)||0)-(parseInt(i.css("borderRightWidth"),10)||0));n.each(["height","paddingTop","paddingBottom"],function(i,u){f[u]="hide";i=(""+n.css(t.toShow[0],u)).match(/^([\d+-.]+)(.*)$/);r[u]={value:i[1],unit:i[2]||"px"}});t.toShow.css({height:0,overflow:"hidden"}).show();t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(f,{step:function(n,i){i.prop=="height"&&(u=i.end-i.start==0?0:(i.now-i.start)/(i.end-i.start));t.toShow[0].style[i.prop]=u*r[i.prop].value+r[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height","");t.toShow.css({width:e,overflow:o});t.complete()}})}else t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);else t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t)},bounceslide:function(n){this.slide(n,{easing:n.down?"easeOutBounce":"swing",duration:n.down?1e3:200})}}})}(jQuery),function(n){var t=0;n.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t=this,r=this.element[0].ownerDocument,i;this.element.addClass("ui-autocomplete-input").attr("autocomplete","nope").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(r){if(!(t.options.disabled||t.element.attr("readonly"))){i=!1;var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:t._move("previousPage",r);break;case u.PAGE_DOWN:t._move("nextPage",r);break;case u.UP:t._move("previous",r);r.preventDefault();break;case u.DOWN:t._move("next",r);r.preventDefault();break;case u.ENTER:case u.NUMPAD_ENTER:t.menu.active&&(i=!0,r.preventDefault());case u.TAB:if(!t.menu.active)return;t.menu.select(r);break;case u.ESCAPE:t.element.val(t.term);t.close(r);break;default:clearTimeout(t.searching);t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,r))},t.options.delay)}}}).bind("keypress.autocomplete",function(n){i&&(i=!1,n.preventDefault())}).bind("focus.autocomplete",function(){t.options.disabled||(t.selectedItem=null,t.previous=t.element.val())}).bind("blur.autocomplete",function(n){t.options.disabled||(clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(n);t._change(n)},150))});this._initSource();this.response=function(){return t._response.apply(t,arguments)};this.menu=n("<ul><\/ul>").addClass("ui-autocomplete").appendTo(n(this.options.appendTo||"body",r)[0]).mousedown(function(i){var r=t.menu.element[0];n(i.target).closest(".ui-menu-item").length||setTimeout(function(){n(document).one("mousedown",function(i){i.target===t.element[0]||i.target===r||n.ui.contains(r,i.target)||t.close()})},1);setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(n,i){i=i.item.data("item.autocomplete");!1!==t._trigger("focus",n,{item:i})&&/^key/.test(n.originalEvent.type)&&t.element.val(i.value)},selected:function(n,i){var u=i.item.data("item.autocomplete"),f=t.previous;t.element[0]!==r.activeElement&&(t.element.focus(),t.previous=f,setTimeout(function(){t.previous=f;t.selectedItem=u},1));!1!==t._trigger("select",n,{item:u})&&t.element.val(u.value);t.term=t.element.val();t.close(n);t.selectedItem=u},blur:function(){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");n.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t==="source"&&this._initSource();t==="appendTo"&&this.menu.element.appendTo(n(i||"body",this.element[0].ownerDocument)[0]);t==="disabled"&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var i=this,r,u;n.isArray(this.options.source)?(r=this.options.source,this.source=function(t,i){i(n.ui.autocomplete.filter(r,t.term))}):typeof this.options.source=="string"?(u=this.options.source,this.source=function(r,f){i.xhr&&i.xhr.abort();i.xhr=n.ajax({url:u,data:r,dataType:"json",autocompleteRequest:++t,success:function(n){this.autocompleteRequest===t&&f(n)},error:function(){this.autocompleteRequest===t&&f([])}})}):this.source=this.options.source},search:function(n,t){return(n=n!=null?n:this.element.val(),this.term=this.element.val(),n.length<this.options.minLength)?this.close(t):(clearTimeout(this.closing),this._trigger("search",t)!==!1?this._search(n):void 0)},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:n},this.response)},_response:function(n){!this.options.disabled&&n&&n.length?(n=this._normalize(n),this._suggest(n),this._trigger("open")):this.close();this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(n){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",n))},_change:function(n){this.previous!==this.element.val()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t);this.menu.deactivate();this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new n.Event("mouseover"))},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItem(t,i)})},_renderItem:function(t,i){return n("<li><\/li>").data("item.autocomplete",i).append(n("<a><\/a>").text(i.label)).appendTo(t)},_move:function(n,t){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(n)||this.menu.last()&&/^next/.test(n)?(this.element.val(this.term),this.menu.deactivate()):this.menu[n](t):this.search(null,t)},widget:function(){return this.menu.element}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}})}(jQuery),function(n){n.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){n(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))});this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,n(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(n,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,r=this.element.attr("scrollTop"),u=this.element.height();i<0?this.element.attr("scrollTop",r+i):i>=u&&this.element.attr("scrollTop",r+i-u+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",n,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(n){this.move("next",".ui-menu-item:first",n)},previous:function(n){this.move("prev",".ui-menu-item:last",n)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(n,t,i){this.active?(n=this.active[n+"All"](".ui-menu-item").eq(0),n.length?this.activate(i,n):this.activate(i,this.element.children(t))):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll())if(!this.active||this.last())this.activate(t,this.element.children(".ui-menu-item:first"));else{var r=this.active.offset().top,u=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=n(this).offset().top-r-u+n(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last"));this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll())if(!this.active||this.first())this.activate(t,this.element.children(".ui-menu-item:last"));else{var i=this.active.offset().top,r=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=n(this).offset().top-i+r-n(this).height();return t<10&&t>-10});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(n){this._trigger("selected",n,{item:this.active})}})}(jQuery),function(n){var t,r=function(t){n(":ui-button",t.target.form).each(function(){var t=n(this).data("button");setTimeout(function(){t.refresh()},1)})},i=function(t){var i=t.name,r=t.form,u=n([]);return i&&(u=r?n(r).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",r);typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.attr("disabled"));this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var f=this,u=this.options,e=this.type==="checkbox"||this.type==="radio",o="ui-state-hover"+(e?"":" ui-state-active");u.label===null&&(u.label=this.buttonElement.html());this.element.is(":disabled")&&(u.disabled=!0);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){u.disabled||(n(this).addClass("ui-state-hover"),this===t&&n(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){u.disabled||n(this).removeClass(o)}).bind("focus.button",function(){n(this).addClass("ui-state-focus")}).bind("blur.button",function(){n(this).removeClass("ui-state-focus")});e&&this.element.bind("change.button",function(){f.refresh()});this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(u.disabled)return!1;n(this).toggleClass("ui-state-active");f.buttonElement.attr("aria-pressed",f.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(u.disabled)return!1;n(this).addClass("ui-state-active");f.buttonElement.attr("aria-pressed",!0);var t=f.element[0];i(t).not(t).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(u.disabled)return!1;n(this).addClass("ui-state-active");t=this;n(document).one("mouseup",function(){t=null})}).bind("mouseup.button",function(){if(u.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(u.disabled)return!1;(t.keyCode==n.ui.keyCode.SPACE||t.keyCode==n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup.button",function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",u.disabled)},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"){var n=this.element.parents().filter(":last"),t="label[for="+this.element.attr("id")+"]";this.buttonElement=n.find(t);this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t)));this.element.addClass("ui-helper-hidden-accessible");(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",n)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title");n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t==="disabled"&&(i?this.element.attr("disabled",!0):this.element.removeAttr("disabled"));this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t);this.type==="radio"?i(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var i=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),f=n("<span><\/span>").addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",f))):r.push("ui-button-text-only");i.addClass(r.join(" "))}}});n.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,i){t==="disabled"&&this.buttons.button("option",t,i);n.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");n.Widget.prototype.destroy.call(this)}})}(jQuery),function(n,t){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){var u,r;this.originalTitle=this.element.attr("title");typeof this.originalTitle!="string"&&(this.originalTitle="");this.options.title=this.options.title||this.originalTitle;var t=this,i=t.options,o=i.title||"&#160;",e=n.ui.dialog.getTitleId(t.element),f=(t.uiDialog=n("<div><\/div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(r){i.closeOnEscape&&r.keyCode&&r.keyCode===n.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(n){t.moveToTop(!1,n)});t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f);u=(t.uiDialogTitlebar=n("<div><\/div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f);r=n('<a href="#"><\/a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){r.addClass("ui-state-hover")},function(){r.removeClass("ui-state-hover")}).focus(function(){r.addClass("ui-state-focus")}).blur(function(){r.removeClass("ui-state-focus")}).click(function(n){return t.close(n),!1}).appendTo(u);(t.uiDialogTitlebarCloseText=n("<span><\/span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(r);n("<span><\/span>").addClass("ui-dialog-title").attr("id",e).html(o).prependTo(u);n.isFunction(i.beforeclose)&&!n.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose);u.find("*").add(u).disableSelection();i.draggable&&n.fn.draggable&&t._makeDraggable();i.resizable&&n.fn.resizable&&t._makeResizable();t._createButtons(i.buttons);t._isOpen=!1;n.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var n=this;return n.overlay&&n.overlay.destroy(),n.uiDialog.hide(),n.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),n.uiDialog.remove(),n.originalTitle&&n.element.attr("title",n.originalTitle),n},widget:function(){return this.uiDialog},close:function(t){var i=this,r,u;if(!1!==i._trigger("beforeClose",t))return i.overlay&&i.overlay.destroy(),i.uiDialog.unbind("keypress.ui-dialog"),i._isOpen=!1,i.options.hide?i.uiDialog.hide(i.options.hide,function(){i._trigger("close",t)}):(i.uiDialog.hide(),i._trigger("close",t)),n.ui.dialog.overlay.resize(),i.options.modal&&(r=0,n(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(u=n(this).css("z-index"),isNaN(u)||(r=Math.max(r,u)))}),n.ui.dialog.maxZ=r),i},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var r=this,u=r.options;return u.modal&&!t||!u.stack&&!u.modal?r._trigger("focus",i):(u.zIndex>n.ui.dialog.maxZ&&(n.ui.dialog.maxZ=u.zIndex),r.overlay&&(n.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",n.ui.dialog.overlay.maxZ=n.ui.dialog.maxZ)),t={scrollTop:r.element.attr("scrollTop"),scrollLeft:r.element.attr("scrollLeft")},n.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",n.ui.dialog.maxZ),r.element.attr(t),r._trigger("focus",i),r)},open:function(){if(!this._isOpen){var t=this,i=t.options,r=t.uiDialog;return t.overlay=i.modal?new n.ui.dialog.overlay(t):null,t._size(),t._position(i.position),r.show(i.show),t.moveToTop(!0),i.modal&&r.bind("keypress.ui-dialog",function(t){if(t.keyCode===n.ui.keyCode.TAB){var i=n(":tabbable",this),r=i.filter(":first");if(i=i.filter(":last"),t.target!==i[0]||t.shiftKey){if(t.target===r[0]&&t.shiftKey)return i.focus(1),!1}else return r.focus(1),!1}}),n(t.element.find(":tabbable").get().concat(r.find(".ui-dialog-buttonpane :tabbable").get().concat(r.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var i=this,r=!1,u=n("<div><\/div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=n("<div><\/div>").addClass("ui-dialog-buttonset").appendTo(u);i.uiDialog.find(".ui-dialog-buttonpane").remove();typeof t=="object"&&t!==null&&n.each(t,function(){return!(r=!0)});r&&(n.each(t,function(t,r){r=n.isFunction(r)?{click:r,text:t}:r;t=n('<button type="button"><\/button>').attr(r,!0).unbind("click").click(function(){r.click.apply(i.element[0],arguments)}).appendTo(f);n.fn.button&&t.button()}),u.appendTo(i.uiDialog))},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=t.options,u=n(document),f;t.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(u,e){f=r.height==="auto"?"auto":n(this).height();n(this).height(n(this).height()).addClass("ui-dialog-dragging");t._trigger("dragStart",u,i(e))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(e,o){r.position=[o.position.left-u.scrollLeft(),o.position.top-u.scrollTop()];n(this).removeClass("ui-dialog-dragging").height(f);t._trigger("dragStop",e,i(o));n.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function f(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}i=i===t?this.options.resizable:i;var r=this,u=r.options,e=r.uiDialog.css("position");i=typeof i=="string"?i:"n,e,s,w,se,sw,ne,nw";r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:u.maxWidth,maxHeight:u.maxHeight,minWidth:u.minWidth,minHeight:r._minHeight(),handles:i,start:function(t,i){n(this).addClass("ui-dialog-resizing");r._trigger("resizeStart",t,f(i))},resize:function(n,t){r._trigger("resize",n,f(t))},stop:function(t,i){n(this).removeClass("ui-dialog-resizing");u.height=n(this).height();u.width=n(this).width();r._trigger("resizeStop",t,f(i));n.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(t){var i=[],r=[0,0],u;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i.join(" "),at:i.join(" "),offset:r.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position;(u=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(n.extend({of:window},t));u||this.uiDialog.hide()},_setOptions:function(t){var e=this,u={},f=!1;n.each(t,function(n,t){e._setOption(n,t);n in i&&(f=!0);n in r&&(u[n]=t)});f&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(t,i){var r=this,u=r.uiDialog,f;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":r._createButtons(i);break;case"closeText":r.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":u.removeClass(r.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i);break;case"disabled":i?u.addClass("ui-dialog-disabled"):u.removeClass("ui-dialog-disabled");break;case"draggable":f=u.is(":data(draggable)");f&&!i&&u.draggable("destroy");!f&&i&&r._makeDraggable();break;case"position":r._position(i);break;case"resizable":(f=u.is(":data(resizable)"))&&!i&&u.resizable("destroy");f&&typeof i=="string"&&u.resizable("option","handles",i);f||i===!1||r._makeResizable(i);break;case"title":n(".ui-dialog-title",r.uiDialogTitlebar).html(""+(i||"&#160;"))}n.Widget.prototype._setOption.apply(r,arguments)},_size:function(){var t=this.options,i,r,u=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});t.minWidth>t.width&&(t.width=t.minWidth);i=this.uiDialog.css({height:"auto",width:t.width}).height();r=Math.max(0,t.minHeight-i);t.height==="auto"?n.support.minHeight?this.element.css({minHeight:r,height:"auto"}):(this.uiDialog.show(),t=this.element.css("height","auto").height(),u||this.uiDialog.hide(),this.element.height(Math.max(t,r))):this.element.height(Math.max(t.height-i,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});n.extend(n.ui.dialog,{version:"1.8.11",uuid:0,maxZ:0,getTitleId:function(n){return n=n.attr("id"),n||(this.uuid+=1,n=this.uuid),"ui-dialog-title-"+n},overlay:function(t){this.$el=n.ui.dialog.overlay.create(t)}});n.extend(n.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:n.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(n){return n+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){n.ui.dialog.overlay.instances.length&&n(document).bind(n.ui.dialog.overlay.events,function(t){if(n(t.target).zIndex()<n.ui.dialog.overlay.maxZ)return!1})},1),n(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&i.keyCode&&i.keyCode===n.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),n(window).bind("resize.dialog-overlay",n.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||n("<div><\/div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return n.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var r=n.inArray(t,this.instances),i;r!=-1&&this.oldInstances.push(this.instances.splice(r,1)[0]);this.instances.length===0&&n([document,window]).unbind(".dialog-overlay");t.remove();i=0;n.each(this.instances,function(){i=Math.max(i,this.css("z-index"))});this.maxZ=i},height:function(){var t,i;return n.browser.msie&&n.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?n(window).height()+"px":t+"px"):n(document).height()+"px"},width:function(){var t,i;return n.browser.msie&&n.browser.version<7?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?n(window).width()+"px":t+"px"):n(document).width()+"px"},resize:function(){var t=n([]);n.each(n.ui.dialog.overlay.instances,function(){t=t.add(this)});t.css({width:0,height:0}).css({width:n.ui.dialog.overlay.width(),height:n.ui.dialog.overlay.height()})}});n.extend(n.ui.dialog.overlay.prototype,{destroy:function(){n.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(n){n.widget("ui.slider",n.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,i=this.options;if(this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),i.disabled&&this.element.addClass("ui-slider-disabled ui-disabled"),this.range=n([]),i.range&&(i.range===!0?(this.range=n("<div><\/div>"),i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&i.values.length!==2&&(i.values=[i.values[0],i.values[0]])):this.range=n("<div><\/div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),(i.range==="min"||i.range==="max")&&this.range.addClass("ui-slider-range-"+i.range),this.range.addClass("ui-widget-header")),n(".ui-slider-handle",this.element).length===0&&n("<a href='#'><\/a>").appendTo(this.element).addClass("ui-slider-handle"),i.values&&i.values.length)for(;n(".ui-slider-handle",this.element).length<i.values.length;)n("<a href='#'><\/a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=n(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(n){n.preventDefault()}).hover(function(){i.disabled||n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")});this.handles.each(function(t){n(this).data("index.ui-slider-handle",t)});this.handles.keydown(function(i){var o=!0,f=n(this).data("index.ui-slider-handle"),r,u,e;if(!t.options.disabled){switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(o=!1,!t._keySliding&&(t._keySliding=!0,n(this).addClass("ui-state-active"),r=t._start(i,f),r===!1))return}e=t.options.step;r=u=t.options.values&&t.options.values.length?t.values(f):t.value();switch(i.keyCode){case n.ui.keyCode.HOME:u=t._valueMin();break;case n.ui.keyCode.END:u=t._valueMax();break;case n.ui.keyCode.PAGE_UP:u=t._trimAlignValue(r+(t._valueMax()-t._valueMin())/5);break;case n.ui.keyCode.PAGE_DOWN:u=t._trimAlignValue(r-(t._valueMax()-t._valueMin())/5);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===t._valueMax())return;u=t._trimAlignValue(r+e);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===t._valueMin())return;u=t._trimAlignValue(r-e)}return t._slide(i,f,u),o}}).keyup(function(i){var r=n(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(i,r),t._change(i,r),n(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var r=this.options,f,e,i,o,u;return r.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),f=this._normValueFromMouse({x:t.pageX,y:t.pageY}),e=this._valueMax()-this._valueMin()+1,o=this,this.handles.each(function(t){var r=Math.abs(f-o.values(t));e>r&&(e=r,i=n(this),u=t)}),r.range===!0&&this.values(1)===r.min&&(u+=1,i=n(this.handles[u])),this._start(t,u)===!1)?!1:(this._mouseSliding=!0,o._handleIndex=u,i.addClass("ui-state-active").focus(),r=i.offset(),this._clickOffset=n(t.target).parents().andSelf().is(".ui-slider-handle")?{left:t.pageX-r.left-i.width()/2,top:t.pageY-r.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)}:{left:0,top:0},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t=this._normValueFromMouse({x:n.pageX,y:n.pageY});return this._slide(n,this._handleIndex,t),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var t;return this.orientation==="horizontal"?(t=this.elementSize.width,n=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=n/t,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),n=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+t*n)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(r=this.values(),r[t]=i,n=this._trigger("slide",n,{handle:this.handles[t],value:i,values:r}),this.values(t?0:1),n!==!1&&this.values(t,i,!0))):i!==this.value()&&(n=this._trigger("slide",n,{handle:this.handles[t],value:i}),n!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("change",n,i)}},value:function(n){return arguments.length&&(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0)),this._value()},values:function(t,i){var u,f,r;if(arguments.length>1&&(this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t)),arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;n.isArray(this.options.values)&&(u=this.options.values.length);n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var t,i;if(arguments.length)return t=this.options.values[n],this._trimAlignValue(t);for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t;return alignValue=n-i,Math.abs(i)*2>=t&&(alignValue+=i>0?t:-t),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var f=this.options.range,r=this.options,i=this,u=this._animateOff?!1:r.animate,t,e={},s,c,o,h;this.options.values&&this.options.values.length?this.handles.each(function(f){t=(i.values(f)-i._valueMin())/(i._valueMax()-i._valueMin())*100;e[i.orientation==="horizontal"?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](e,r.animate);i.options.range===!0&&(i.orientation==="horizontal"?(f===0&&i.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:r.animate})):(f===0&&i.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:r.animate})));s=t}):(c=this.value(),o=this._valueMin(),h=this._valueMax(),t=h!==o?(c-o)/(h-o)*100:0,e[i.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](e,r.animate),f==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},r.animate),f==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:r.animate}),f==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},r.animate),f==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:r.animate}))}});n.extend(n.ui.slider,{version:"1.8.11"})}(jQuery),function(n,i){function r(){return++f}function u(){return++e}var f=0,e=0;n.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div><\/div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;<\/em>",tabTemplate:"<li><a href='#{href}'><span>#{label}<\/span><\/a><\/li>"},_create:function(){this._tabify(!0)},_setOption:function(n,t){n=="selected"?this.options.collapsible&&t==this.options.selected||this.select(t):(this.options[n]=t,this._tabify())},_tabId:function(n){return n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+r()},_sanitizeSelector:function(n){return n.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+u());return n.cookie.apply(null,[t].concat(n.makeArray(arguments)))},_ui:function(n,t){return{tab:n,panel:t,index:this.anchors.index(n)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=n(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function a(t,i){t.css("display","");!n.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var u=this,r=this.options,v=/^#.+/,o,s,h,f,e,c,l;for(this.list=this.element.find("ol,ul").eq(0),this.lis=n(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return n("a",this)[0]}),this.panels=n([]),this.anchors.each(function(t,i){var f=n(i).attr("href"),e=f.split("#")[0],o;e&&(e===location.toString().split("#")[0]||(o=n("base")[0])&&e===o.href)&&(f=i.hash,i.href=f);v.test(f)?u.panels=u.panels.add(u.element.find(u._sanitizeSelector(f))):f&&f!=="#"?(n.data(i,"href.tabs",f),n.data(i,"load.tabs",f.replace(/#.*$/,"")),f=u._tabId(i),i.href="#"+f,i=u.element.find("#"+f),i.length||(i=n(r.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(u.panels[t-1]||u.list),i.data("destroy.tabs",!0)),u.panels=u.panels.add(i)):r.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),r.selected===i?(location.hash&&this.anchors.each(function(n,t){if(t.hash==location.hash)return r.selected=n,!1}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(u._cookie(),10)),typeof r.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabled=n.unique(r.disabled.concat(n.map(this.lis.filter(".ui-state-disabled"),function(n){return u.lis.index(n)}))).sort(),n.inArray(r.selected,r.disabled)!=-1&&r.disabled.splice(n.inArray(r.selected,r.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),r.selected>=0&&this.anchors.length&&(u.element.find(u._sanitizeSelector(u.anchors[r.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(r.selected).addClass("ui-tabs-selected ui-state-active"),u.element.queue("tabs",function(){u._trigger("show",null,u._ui(u.anchors[r.selected],u.element.find(u._sanitizeSelector(u.anchors[r.selected].hash))[0]))}),this.load(r.selected)),n(window).bind("unload",function(){u.lis.add(u.anchors).unbind(".tabs");u.lis=u.anchors=u.panels=null})):r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[r.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),r.cookie&&this._cookie(r.selected,r.cookie),t=0;o=this.lis[t];t++)n(o)[n.inArray(t,r.disabled)!=-1&&!n(o).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");r.cache===!1&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");r.event!=="mouseover"&&(s=function(n,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+n)},h=function(n,t){t.removeClass("ui-state-"+n)},this.lis.bind("mouseover.tabs",function(){s("hover",n(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",n(this))}),this.anchors.bind("focus.tabs",function(){s("focus",n(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",n(this).closest("li"))}));r.fx&&(n.isArray(r.fx)?(f=r.fx[0],e=r.fx[1]):f=e=r.fx);c=e?function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active");i.hide().removeClass("ui-tabs-hide").animate(e,e.duration||"normal",function(){a(i,e);u._trigger("show",null,u._ui(t,i[0]))})}:function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active");i.removeClass("ui-tabs-hide");u._trigger("show",null,u._ui(t,i[0]))};l=f?function(n,t){t.animate(f,f.duration||"normal",function(){u.lis.removeClass("ui-tabs-selected ui-state-active");t.addClass("ui-tabs-hide");a(t,f);u.element.dequeue("tabs")})}:function(n,t){u.lis.removeClass("ui-tabs-selected ui-state-active");t.addClass("ui-tabs-hide");u.element.dequeue("tabs")};this.anchors.bind(r.event+".tabs",function(){var t=this,i=n(t).closest("li"),f=u.panels.filter(":not(.ui-tabs-hide)"),e=u.element.find(u._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!r.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||u.panels.filter(":animated").length||u._trigger("select",null,u._ui(this,e[0]))===!1)return this.blur(),!1;if(r.selected=u.anchors.index(this),u.abort(),r.collapsible){if(i.hasClass("ui-tabs-selected"))return r.selected=-1,r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){l(t,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){c(t,e)}),u.load(u.anchors.index(this)),this.blur(),!1}if(r.cookie&&u._cookie(r.selected,r.cookie),e.length)f.length&&u.element.queue("tabs",function(){l(t,f)}),u.element.queue("tabs",function(){c(t,e)}),u.load(u.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";n.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$="+n+"]"))),n},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=n.data(this,"href.tabs"),i;t&&(this.href=t);i=n(this).unbind(".tabs");n.each(["href","load","cache"],function(n,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){n.data(this,"destroy.tabs")?n(this).remove():n(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,r,u){var e,o,f;return u===i&&(u=this.anchors.length),e=this,o=this.options,r=n(o.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,r)),t=t.indexOf("#")?this._tabId(n("a",r)[0]):t.replace("#",""),r.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0),f=e.element.find("#"+t),f.length||(f=n(o.panelTemplate).attr("id",t).data("destroy.tabs",!0)),f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),u>=this.lis.length?(r.appendTo(this.list),f.appendTo(this.list[0].parentNode)):(r.insertBefore(this.lis[u]),f.insertBefore(this.panels[u])),o.disabled=n.map(o.disabled,function(n){return n>=u?++n:n}),this._tabify(),this.anchors.length==1&&(o.selected=0,r.addClass("ui-tabs-selected ui-state-active"),f.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[0],e.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[u],this.panels[u])),this},remove:function(t){t=this._getIndex(t);var i=this.options,r=this.lis.eq(t).remove(),u=this.panels.eq(t).remove();return r.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=n.map(n.grep(i.disabled,function(n){return n!=t}),function(n){return n>=t?--n:n}),this._tabify(),this._trigger("remove",null,this._ui(r.find("a")[0],u[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(n.inArray(t,i.disabled)!=-1)return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=n.grep(i.disabled,function(n){return n!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(n){n=this._getIndex(n);var t=this.options;return n!=t.selected&&(this.lis.eq(n).addClass("ui-state-disabled"),t.disabled.push(n),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[n],this.panels[n]))),this},select:function(n){if(n=this._getIndex(n),n==-1)if(this.options.collapsible&&this.options.selected!=-1)n=this.options.selected;else return this;return this.anchors.eq(n).trigger(this.options.event+".tabs"),this},load:function(t){var f;t=this._getIndex(t);var i=this,r=this.options,u=this.anchors.eq(t)[0],e=n.data(u,"load.tabs");if(this.abort(),!e||this.element.queue("tabs").length!==0&&n.data(u,"cache.tabs"))this.element.dequeue("tabs");else return this.lis.eq(t).addClass("ui-state-processing"),r.spinner&&(f=n("span",u),f.data("label.tabs",f.html()).html(r.spinner)),this.xhr=n.ajax(n.extend({},r.ajaxOptions,{url:e,success:function(f,e){i.element.find(i._sanitizeSelector(u.hash)).html(f);i._cleanup();r.cache&&n.data(u,"cache.tabs",!0);i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{r.ajaxOptions.success(f,e)}catch(o){}},error:function(n,f){i._cleanup();i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{r.ajaxOptions.error(n,f,t,u)}catch(e){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(n,t){return this.anchors.eq(n).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}});n.extend(n.ui.tabs,{version:"1.8.11"});n.extend(n.ui.tabs.prototype,{rotation:null,rotate:function(n,i){var r=this,u=this.options,f=r._rotate||(r._rotate=function(t){clearTimeout(r.rotation);r.rotation=setTimeout(function(){var n=u.selected;r.select(++n<r.anchors.length?n:0)},n);t&&t.stopPropagation()});return i=r._unrotate||(r._unrotate=i?function(){t=u.selected;f()}:function(n){n.clientX&&r.rotate(null)}),n?(this.element.bind("tabsshow",f),this.anchors.bind(u.event+".tabs",i),f()):(clearTimeout(r.rotation),this.element.unbind("tabsshow",f),this.anchors.unbind(u.event+".tabs",i),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(n,t){function u(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1};n.extend(this._defaults,this.regional[""]);this.dpDiv=n('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>')}function r(i,r){n.extend(i,r);for(var u in r)(r[u]==null||r[u]==t)&&(i[u]=r[u]);return i}n.extend(n.ui,{datepicker:{version:"1.8.11"}});var i=(new Date).getTime();n.extend(u.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return r(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var f=null,r,u,e;for(r in this._defaults)if(u=t.getAttribute("date:"+r),u){f=f||{};try{f[r]=eval(u)}catch(o){f[r]=u}}r=t.nodeName.toLowerCase();u=r=="div"||r=="span";t.id||(this.uuid+=1,t.id="dp"+this.uuid);e=this._newInst(n(t),u);e.settings=n.extend({},i||{},f||{});r=="input"?this._connectDatepicker(t,e):u&&this._inlineDatepicker(t,e)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>'):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(n,t,r){i.settings[t]=r}).bind("getData.datepicker",function(n,t){return this._get(i,t)}),this._autoSize(i),n.data(t,"datepicker",i))},_attachments:function(t,i){var r=this._get(i,"appendText"),f=this._get(i,"isRTL"),u;i.append&&i.append.remove();r&&(i.append=n('<span class="'+this._appendClass+'">'+r+"<\/span>"),t[f?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();r=this._get(i,"showOn");(r=="focus"||r=="both")&&t.focus(this._showDatepicker);(r=="button"||r=="both")&&(r=this._get(i,"buttonText"),u=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:u,alt:r,title:r}):n('<button type="button"><\/button>').addClass(this._triggerClass).html(u==""?r:n("<img/>").attr({src:u,alt:r,title:r}))),t[f?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput==t[0]?n.datepicker._hideDatepicker():n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){var t,i,r;this._get(n,"autoSize")&&!n.inline&&(t=new Date(2009,11,20),i=this._get(n,"dateFormat"),i.match(/[DM]/)&&(r=function(n){for(var i=0,r=0,t=0;t<n.length;t++)n[t].length>i&&(i=n[t].length,r=t);return r},t.setMonth(r(this._get(n,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(n,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())),n.input.attr("size",this._formatDate(n,t).length))},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv).bind("setData.datepicker",function(n,t,r){i.settings[t]=r}).bind("getData.datepicker",function(n,t){return this._get(i,t)}),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.dpDiv.show())},_dialogDatepicker:function(t,i,u,f,e){return t=this._dialogInst,t||(this.uuid+=1,this._dialogInput=n('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),t=this._dialogInst=this._newInst(this._dialogInput,!1),t.settings={},n.data(this._dialogInput[0],"datepicker",t)),r(t.settings,f||{}),i=i&&i.constructor==Date?this._formatDate(t,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),t.settings.onSelect=u,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",t),this},_destroyDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),i=="input"?(u.append.remove(),u.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(i=="div"||i=="span")&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i=="input"?(t.disabled=!1,u.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i=="div"||i=="span")&&r.children("."+this._inlineClass).children().removeClass("ui-state-disabled"),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}))},_disableDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i=="input"?(t.disabled=!0,u.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i=="div"||i=="span")&&r.children("."+this._inlineClass).children().addClass("ui-state-disabled"),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,u,f){var e=this._getInst(i),o;if(arguments.length==2&&typeof u=="string")return u=="defaults"?n.extend({},n.datepicker._defaults):e?u=="all"?n.extend({},e.settings):this._get(e,u):null;if(o=u||{},typeof u=="string"&&(o={},o[u]=f),e){this._curInst==e&&this._hideDatepicker();var c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max");r(e.settings,o);s!==null&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s));h!==null&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h));this._attachments(n(i),e);this._autoSize(e);this._setDateDatepicker(i,c);this._updateDatepicker(e)}},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){(n=this._getInst(n))&&this._updateDatepicker(n)},_setDateDatepicker:function(n,t){(n=this._getInst(n))&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(n,t){return(n=this._getInst(n))&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var i=n.datepicker._getInst(t.target),r=!0,u=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return r=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),r[0]?n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,r[0]):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,u?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,u?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode==36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var r=n.datepicker._getInst(i.target),u;if(n.datepicker._get(r,"constrainInput"))return r=n.datepicker._possibleChars(n.datepicker._get(r,"dateFormat")),u=String.fromCharCode(i.charCode==t?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||u<" "||!r||r.indexOf(u)>-1},_doKeyUp:function(t){if(t=n.datepicker._getInst(t.target),t.input.val()!=t.lastVal)try{n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,n.datepicker._getFormatConfig(t))&&(n.datepicker._setDateFromField(t),n.datepicker._updateAlternate(t),n.datepicker._updateDatepicker(t))}catch(i){n.datepicker.log(i)}return!0},_showDatepicker:function(t){var i,u,f,e,o;t=t.target||t;t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]);n.datepicker._isDisabledDatepicker(t)||n.datepicker._lastInput==t||(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!=i&&n.datepicker._curInst.dpDiv.stop(!0,!0),u=n.datepicker._get(i,"beforeShow"),r(i.settings,u?u.apply(t,[t,i]):{}),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return f|=n(this).css("position")=="fixed",!f}),f&&n.browser.opera&&(n.datepicker._pos[0]-=document.documentElement.scrollLeft,n.datepicker._pos[1]-=document.documentElement.scrollTop),u={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),u=n.datepicker._checkOffset(i,u,f),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),i.inline||(u=n.datepicker._get(i,"showAnim"),e=n.datepicker._get(i,"duration"),o=function(){var t,r;n.datepicker._datepickerShowing=!0;t=i.dpDiv.find("iframe.ui-datepicker-cover");t.length&&(r=n.datepicker._getBorders(i.dpDiv),t.css({left:-r[0],top:-r[1],width:i.dpDiv.outerWidth(),height:i.dpDiv.outerHeight()}))},i.dpDiv.zIndex(n(t).zIndex()+1),n.effects&&n.effects[u]?i.dpDiv.show(u,n.datepicker._get(i,"showOptions"),e,o):i.dpDiv[u||"show"](u?e:null,o),u&&e||o(),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),n.datepicker._curInst=i))},_updateDatepicker:function(t){var f=this,r=n.datepicker._getBorders(t.dpDiv),i,u;t.dpDiv.empty().append(this._generateHTML(t));i=t.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-r[0],top:-r[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()});t.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){n(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&n(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){f._isDisabledDatepicker(t.inline?t.dpDiv.parent()[0]:t.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&n(this).addClass("ui-datepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();r=this._getNumberOfMonths(t);i=r[1];i>1?t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"):t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");t.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t==n.datepicker._curInst&&n.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus();t.yearshtml&&(u=t.yearshtml,setTimeout(function(){u===t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);u=t.yearshtml=null},0))},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+n(document).scrollLeft(),s=document.documentElement.clientHeight+n(document).scrollTop();return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left==t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top==t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i=this._get(this._getInst(t),"isRTL");t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return t=n(t).offset(),[t.left,t.top]},_hideDatepicker:function(t){var i=this._curInst,u,r;!i||t&&i!=n.data(t,"datepicker")||this._datepickerShowing&&(t=this._get(i,"showAnim"),u=this._get(i,"duration"),r=function(){n.datepicker._tidyDialog(i);this._curInst=null},n.effects&&n.effects[t]?i.dpDiv.hide(t,n.datepicker._get(i,"showOptions"),u,r):i.dpDiv[t=="slideDown"?"slideUp":t=="fadeIn"?"fadeOut":"hide"](t?u:null,r),t||r(),(t=this._get(i,"onClose"))&&t.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){n.datepicker._curInst&&(t=n(t.target),t[0].id==n.datepicker._mainDivId||t.parents("#"+n.datepicker._mainDivId).length!=0||t.hasClass(n.datepicker.markerClassName)||t.hasClass(n.datepicker._triggerClass)||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI||n.datepicker._hideDatepicker())},_adjustDate:function(t,i,r){t=n(t);var u=this._getInst(t[0]);this._isDisabledDatepicker(t[0])||(this._adjustInstDate(u,i+(r=="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var i,r;t=n(t);i=this._getInst(t[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(t)},_selectMonthYear:function(t,i,r){t=n(t);var u=this._getInst(t[0]);u._selectingMonthYear=!1;u["selected"+(r=="M"?"Month":"Year")]=u["draw"+(r=="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(t)},_clickMonthYear:function(t){var i=this._getInst(n(t)[0]);i.input&&i._selectingMonthYear&&setTimeout(function(){i.input.focus()},0);i._selectingMonthYear=!i._selectingMonthYear},_selectDay:function(t,i,r,u){var f=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||(f=this._getInst(f[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){t=n(t);this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(t,i){t=this._getInst(n(t)[0]);i=i!=null?i:this._formatDate(t);t.input&&t.input.val(i);this._updateAlternate(t);var r=this._get(t,"onSelect");r?r.apply(t.input?t.input[0]:null,[i,t]):t.input&&t.input.trigger("change");t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],typeof t.input[0]!="object"&&t.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i=this._get(t,"altField");if(i){var r=this._get(t,"altFormat")||this._get(t,"dateFormat"),u=this._getDate(t),f=this.formatDate(r,u,this._getFormatConfig(t));n(i).each(function(){n(this).val(f)})}},noWeekends:function(n){return n=n.getDay(),[n>0&&n<6,""]},iso8601Week:function(n){n=new Date(n.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));var t=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,t,i){var u,r;if(n==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t=="")return null;u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;u=typeof u!="string"?u:(new Date).getFullYear()%100+parseInt(u,10);for(var p=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,w=(i?i.dayNames:null)||this._defaults.dayNames,b=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,k=(i?i.monthNames:null)||this._defaults.monthNames,f=i=-1,o=-1,l=-1,a=!1,c=function(t){return(t=s+1<n.length&&n.charAt(s+1)==t)&&s++,t},h=function(n){var i=c(n);if(n=new RegExp("^\\d{1,"+(n=="@"?14:n=="!"?20:n=="y"&&i?4:n=="o"?3:2)+"}"),n=t.substring(e).match(n),!n)throw"Missing number at position "+e;return e+=n[0].length,parseInt(n[0],10)},y=function(n,i,r){for(n=c(n)?r:i,i=0;i<n.length;i++)if(t.substr(e,n[i].length).toLowerCase()==n[i].toLowerCase())return e+=n[i].length,i+1;throw"Unknown name at position "+e;},v=function(){if(t.charAt(e)!=n.charAt(s))throw"Unexpected literal at position "+e;e++},e=0,s=0;s<n.length;s++)if(a)n.charAt(s)!="'"||c("'")?v():a=!1;else switch(n.charAt(s)){case"d":o=h("d");break;case"D":y("D",p,w);break;case"o":l=h("o");break;case"m":f=h("m");break;case"M":f=y("M",b,k);break;case"y":i=h("y");break;case"@":r=new Date(h("@"));i=r.getFullYear();f=r.getMonth()+1;o=r.getDate();break;case"!":r=new Date((h("!")-this._ticksTo1970)/1e4);i=r.getFullYear();f=r.getMonth()+1;o=r.getDate();break;case"'":c("'")?v():a=!0;break;default:v()}if(i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=u?0:-100)),l>-1){f=1;o=l;do{if(u=this._getDaysInMonth(i,f-1),o<=u)break;f++;o-=u}while(1)}if(r=this._daylightSavingAdjust(new Date(i,f-1,o)),r.getFullYear()!=i||r.getMonth()+1!=f||r.getDate()!=o)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*864e9,formatDate:function(n,t,i){var u;if(!t)return"";var h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort;i=(i?i.monthNames:null)||this._defaults.monthNames;var f=function(t){return(t=u+1<n.length&&n.charAt(u+1)==t)&&u++,t},e=function(n,t,i){if(t=""+t,f(n))for(;t.length<i;)t="0"+t;return t},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)!="'"||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,i);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){return(i=t+1<n.length&&n.charAt(t+1)==i)&&t++,i},t=0;t<n.length;t++)if(r)n.charAt(t)!="'"||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){var u,r,i,f,e;if(n.input.val()!=n.lastVal){u=this._get(n,"dateFormat");r=n.lastVal=n.input?n.input.val():null;i=f=this._getDefaultDate(n);e=this._getFormatConfig(n);try{i=this.parseDate(u,r,e)||f}catch(o){this.log(o);r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var u=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},f=function(i){var o,u;try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(s){}var r=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=r.getFullYear(),e=r.getMonth();for(r=r.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=o.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=o.exec(i)}return new Date(f,e,r)};return(i=(i=i==null||i===""?r:typeof i=="string"?f(i):typeof i=="number"?isNaN(i)?r:u(i):new Date(i.getTime()))&&i.toString()=="Invalid Date"?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var r=!t,u=n.selectedMonth,f=n.selectedYear;t=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=t.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=t.getMonth();n.drawYear=n.selectedYear=n.currentYear=t.getFullYear();u==n.selectedMonth&&f==n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(r?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()==""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_generateHTML:function(t){var p=new Date,e,o,h,ot,k,y,u,st,ht;p=this._daylightSavingAdjust(new Date(p.getFullYear(),p.getMonth(),p.getDate()));var a=this._get(t,"isRTL"),it=this._get(t,"showButtonPanel"),g=this._get(t,"hideIfNoPrevNext"),s=this._get(t,"navigationAsDateFormat"),v=this._getNumberOfMonths(t),r=this._get(t,"showCurrentAtPos"),c=this._get(t,"stepMonths"),rt=v[0]!=1||v[1]!=1,ut=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),b=this._getMinMaxDate(t,"min"),w=this._getMinMaxDate(t,"max");if(r=t.drawMonth-r,e=t.drawYear,r<0&&(r+=12,e--),w)for(o=this._daylightSavingAdjust(new Date(w.getFullYear(),w.getMonth()-v[0]*v[1]+1,w.getDate())),o=b&&o<b?b:o;this._daylightSavingAdjust(new Date(e,r,1))>o;)r--,r<0&&(r=11,e--);t.drawMonth=r;t.drawYear=e;o=this._get(t,"prevText");o=s?this.formatDate(o,this._daylightSavingAdjust(new Date(e,r-c,1)),this._getFormatConfig(t)):o;o=this._canAdjustMonth(t,-1,e,r)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._adjustDate('#"+t.id+"', -"+c+", 'M');\" title=\""+o+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"e":"w")+'">'+o+"<\/span><\/a>":g?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+o+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"e":"w")+'">'+o+"<\/span><\/a>";h=this._get(t,"nextText");h=s?this.formatDate(h,this._daylightSavingAdjust(new Date(e,r+c,1)),this._getFormatConfig(t)):h;g=this._canAdjustMonth(t,1,e,r)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._adjustDate('#"+t.id+"', +"+c+", 'M');\" title=\""+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"w":"e")+'">'+h+"<\/span><\/a>":g?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"w":"e")+'">'+h+"<\/span><\/a>";c=this._get(t,"currentText");h=this._get(t,"gotoCurrent")&&t.currentDay?ut:p;c=s?this.formatDate(c,h,this._getFormatConfig(t)):c;s=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+i+'.datepicker._hideDatepicker();">'+this._get(t,"closeText")+"<\/button>";it=it?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(a?s:"")+(this._isInRange(t,h)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._gotoToday('#"+t.id+"');\">"+c+"<\/button>":"")+(a?"":s)+"<\/div>":"";s=parseInt(this._get(t,"firstDay"),10);s=isNaN(s)?0:s;c=this._get(t,"showWeek");h=this._get(t,"dayNames");this._get(t,"dayNamesShort");var yt=this._get(t,"dayNamesMin"),pt=this._get(t,"monthNames"),wt=this._get(t,"monthNamesShort"),lt=this._get(t,"beforeShowDay"),ft=this._get(t,"showOtherMonths"),bt=this._get(t,"selectOtherMonths");this._get(t,"calculateWeek");for(var at=this._getDefaultDate(t),et="",nt=0;nt<v[0];nt++){for(ot="",k=0;k<v[1];k++){var vt=this._daylightSavingAdjust(new Date(e,r,t.selectedDay)),f=" ui-corner-all",l="";if(rt){if(l+='<div class="ui-datepicker-group',v[1]>1)switch(k){case 0:l+=" ui-datepicker-group-first";f=" ui-corner-"+(a?"right":"left");break;case v[1]-1:l+=" ui-datepicker-group-last";f=" ui-corner-"+(a?"left":"right");break;default:l+=" ui-datepicker-group-middle";f=""}l+='">'}for(l+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+f+'">'+(/all|left/.test(f)&&nt==0?a?g:o:"")+(/all|right/.test(f)&&nt==0?a?o:g:"")+this._generateMonthYearHeader(t,r,e,b,w,nt>0||k>0,pt,wt)+'<\/div><table class="ui-datepicker-calendar"><thead><tr>',y=c?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"<\/th>":"",f=0;f<7;f++)u=(f+s)%7,y+="<th"+((f+s+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+h[u]+'">'+yt[u]+"<\/span><\/th>";for(l+=y+"<\/tr><\/thead><tbody>",y=this._getDaysInMonth(e,r),e==t.selectedYear&&r==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,y)),f=(this._getFirstDayOfMonth(e,r)-s+7)%7,y=rt?6:Math.ceil((f+y)/7),u=this._daylightSavingAdjust(new Date(e,r,1-f)),st=0;st<y;st++){for(l+="<tr>",ht=c?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(u)+"<\/td>":"",f=0;f<7;f++){var tt=lt?lt.apply(t.input?t.input[0]:null,[u]):[!0,""],d=u.getMonth()!=r,ct=d&&!bt||!tt[0]||b&&u<b||w&&u>w;ht+='<td class="'+((f+s+6)%7>=5?" ui-datepicker-week-end":"")+(d?" ui-datepicker-other-month":"")+(u.getTime()==vt.getTime()&&r==t.selectedMonth&&t._keyEvent||at.getTime()==u.getTime()&&at.getTime()==vt.getTime()?" "+this._dayOverClass:"")+(ct?" "+this._unselectableClass+" ui-state-disabled":"")+(d&&!ft?"":" "+tt[1]+(u.getTime()==ut.getTime()?" "+this._currentClass:"")+(u.getTime()==p.getTime()?" ui-datepicker-today":""))+'"'+((!d||ft)&&tt[2]?' title="'+tt[2]+'"':"")+(ct?"":' onclick="DP_jQuery_'+i+".datepicker._selectDay('#"+t.id+"',"+u.getMonth()+","+u.getFullYear()+', this);return false;"')+">"+(d&&!ft?"&#xa0;":ct?'<span class="ui-state-default">'+u.getDate()+"<\/span>":'<a class="ui-state-default'+(u.getTime()==p.getTime()?" ui-state-highlight":"")+(u.getTime()==ut.getTime()?" ui-state-active":"")+(d?" ui-priority-secondary":"")+'" href="#">'+u.getDate()+"<\/a>")+"<\/td>";u.setDate(u.getDate()+1);u=this._daylightSavingAdjust(u)}l+=ht+"<\/tr>"}r++;r>11&&(r=0,e++);l+="<\/tbody><\/table>"+(rt?"<\/div>"+(v[0]>0&&k==v[1]-1?'<div class="ui-datepicker-row-break"><\/div>':""):"");ot+=l}et+=ot}return et+=it+(n.browser.msie&&parseInt(n.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"><\/iframe>':""),t._keyEvent=!1,et},_generateMonthYearHeader:function(t,r,u,f,e,o,s,h){var v=this._get(t,"changeMonth"),y=this._get(t,"changeYear"),w=this._get(t,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',a="",b,c,p;if(o||!v)a+='<span class="ui-datepicker-month">'+s[r]+"<\/span>";else{for(s=f&&f.getFullYear()==u,b=e&&e.getFullYear()==u,a+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+i+".datepicker._selectMonthYear('#"+t.id+"', this, 'M');\" onclick=\"DP_jQuery_"+i+".datepicker._clickMonthYear('#"+t.id+"');\">",c=0;c<12;c++)(!s||c>=f.getMonth())&&(!b||c<=e.getMonth())&&(a+='<option value="'+c+'"'+(c==r?' selected="selected"':"")+">"+h[c]+"<\/option>");a+="<\/select>"}if(w||(l+=a+(o||!(v&&y)?"&#xa0;":"")),t.yearshtml="",o||!y)l+='<span class="ui-datepicker-year">'+u+"<\/span>";else{for(h=this._get(t,"yearRange").split(":"),p=(new Date).getFullYear(),s=function(n){return n=n.match(/c[+-].*/)?u+parseInt(n.substring(1),10):n.match(/[+-].*/)?p+parseInt(n,10):parseInt(n,10),isNaN(n)?p:n},r=s(h[0]),h=Math.max(r,s(h[1]||"")),r=f?Math.max(r,f.getFullYear()):r,h=e?Math.min(h,e.getFullYear()):h,t.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+i+".datepicker._selectMonthYear('#"+t.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+i+".datepicker._clickMonthYear('#"+t.id+"');\">";r<=h;r++)t.yearshtml+='<option value="'+r+'"'+(r==u?' selected="selected"':"")+">"+r+"<\/option>";t.yearshtml+="<\/select>";n.browser.mozilla?l+='<select class="ui-datepicker-year"><option value="'+u+'" selected="selected">'+u+"<\/option><\/select>":(l+=t.yearshtml,t.yearshtml=null)}return l+=this._get(t,"yearSuffix"),w&&(l+=(o||!(v&&y)?"&#xa0;":"")+a),l+"<\/div>"},_adjustInstDate:function(n,t,i){var r=n.drawYear+(i=="Y"?t:0),u=n.drawMonth+(i=="M"?t:0);t=Math.min(n.selectedDay,this._getDaysInMonth(r,u))+(i=="D"?t:0);r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(r,u,t)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();(i=="M"||i=="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min");return n=this._getMinMaxDate(n,"max"),t=i&&t<i?i:t,n&&t>n?n:t},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){return n=this._get(n,"numberOfMonths"),n==null?[1,1]:typeof n=="number"?[1,n]:n},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var u=this._getNumberOfMonths(n);return i=this._daylightSavingAdjust(new Date(i,r+(t<0?t:u[0]*u[1]),1)),t<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())),this._isInRange(n,i)},_isInRange:function(n,t){var i=this._getMinMaxDate(n,"min");return n=this._getMinMaxDate(n,"max"),(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){return t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear),t=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay)),this.formatDate(this._get(n,"dateFormat"),t,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick).find("body").append(n.datepicker.dpDiv),n.datepicker.initialized=!0);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t=="isDisabled"||t=="getDate"||t=="widget")?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})};n.datepicker=new u;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.8.11";window["DP_jQuery_"+i]=n}(jQuery),function(n,t){n.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();n.Widget.prototype.destroy.apply(this,arguments)},value:function(n){return n===t?this._value():(this._setOption("value",n),this)},_setOption:function(t,i){t==="value"&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));n.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var n=this.options.value;return typeof n!="number"&&(n=0),Math.min(this.options.max,Math.max(this.min,n))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var n=this.value(),t=this._percentage();this.oldValue!==n&&(this.oldValue=n,this._trigger("change"));this.valueDiv.toggleClass("ui-corner-right",n===this.options.max).width(t.toFixed(0)+"%");this.element.attr("aria-valuenow",n)}});n.extend(n.ui.progressbar,{version:"1.8.11"})}(jQuery);jQuery.effects||function(n,t){function u(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(t)?o.transparent:o[n.trim(t).toLowerCase()]}function h(t,i){var r;do{if(r=n.curCSS(t,i),r!=""&&r!="transparent"||n.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return u(r)}function f(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={},t,u,r;if(n&&n.length&&n[0]&&n[n[0]])for(r=n.length;r--;)t=n[r],typeof n[t]=="string"&&(u=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i[u]=n[t]);else for(t in n)typeof n[t]=="string"&&(i[t]=n[t]);return i}function e(t){var i,r;for(i in t)r=t[i],(r==null||n.isFunction(r)||i in l||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(r)))&&delete t[i];return t}function c(n,t){var r={_:0};for(var i in t)n[i]!=t[i]&&(r[i]=t[i]);return r}function i(t,i,r,u){return typeof t=="object"&&(u=i,r=null,i=t,t=i.effect),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i=i||{},r=r||i.duration,r=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,u=u||i.complete,[t,i,r,u]}function r(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects[t]?!0:!1}n.effects={};n.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,i){n.fx.step[i]=function(n){n.colorInit||(n.start=h(n.elem,i),n.end=u(n.end),n.colorInit=!0);n.elem.style[i]="rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},s=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.effects.animateClass=function(t,i,r,u){return n.isFunction(r)&&(u=r,r=null),this.queue("fx",function(){var o=n(this),a=o.attr("style")||" ",h=e(f.call(this)),l,v=o.attr("className");n.each(s,function(n,i){t[i]&&o[i+"Class"](t[i])});l=e(f.call(this));o.attr("className",v);o.animate(c(h,l),i,r,function(){n.each(s,function(n,i){t[i]&&o[i+"Class"](t[i])});typeof o.attr("style")=="object"?(o.attr("style").cssText="",o.attr("style").cssText=a):o.attr("style",a);u&&u.apply(this,arguments)});h=n.queue(this);l=h.splice(h.length-1,1)[0];h.splice(1,0,l);n.dequeue(this)})};n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{add:t},i,r,u]):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{remove:t},i,r,u]):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.apply(this,[r?{add:i}:{remove:i},u,f,e]):this._toggleClass(i,r):n.effects.animateClass.apply(this,[{toggle:i},r,u,f])},switchClass:function(t,i,r,u,f){return n.effects.animateClass.apply(this,[{add:i,remove:t},r,u,f])}});n.extend(n.effects,{version:"1.8.11",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data("ec.storage."+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data("ec.storage."+t[i]))},setMode:function(n,t){return t=="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=n[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return t.wrap(r),r=t.parent(),t.css("position")=="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(i).show()},removeWrapper:function(n){return n.parent().is(".ui-effects-wrapper")?n.parent().replaceWith(n):n},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){unit=t.cssUnit(i);unit[0]>0&&(u[i]=unit[0]*r+unit[1])}),u}});n.fn.extend({effect:function(t){var r=i.apply(this,arguments),u={options:r[1],duration:r[2],callback:r[3]},f;return(r=u.options.mode,f=n.effects[t],n.fx.off||!f)?r?this[r](u.duration,u.callback):this.each(function(){u.callback&&u.callback.call(this)}):f.call(this,u)},_show:n.fn.show,show:function(n){if(r(n))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:n.fn.hide,hide:function(n){if(r(n))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(r(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var u=i.apply(this,arguments);return u[1].mode="toggle",this.effect.apply(this,u)},cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}});n.easing.jswing=n.easing.swing;n.extend(n.easing,{def:"easeOutQuad",swing:function(t,i,r,u,f){return n.easing[n.easing.def](t,i,r,u,f)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-n)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*(i/=f)*i*((e+1)*i-e)+r},easeOutBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*((i=i/f-1)*i*((e+1)*i+e)+1)+r},easeInOutBack:function(n,i,r,u,f,e){return(e==t&&(e=1.70158),(i/=f/2)<1)?u/2*i*i*(((e*=1.525)+1)*i-e)+r:u/2*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)+r},easeInBounce:function(t,i,r,u,f){return u-n.easing.easeOutBounce(t,f-i,0,u,f)+r},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,r,u,f){return i<f/2?n.easing.easeInBounce(t,i*2,0,u,f)*.5+r:n.easing.easeOutBounce(t,i*2-f,0,u,f)*.5+u*.5+r}})}(jQuery),function(n){n.effects.blind=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right"],f=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"vertical",r,e,o;n.effects.save(i,s);i.show();r=n.effects.createWrapper(i).css({overflow:"hidden"});e=u=="vertical"?"height":"width";u=u=="vertical"?r.height():r.width();f=="show"&&r.css(e,0);o={};o[e]=f=="show"?u:0;r.animate(o,t.duration,t.options.easing,function(){f=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery),function(n){n.effects.bounce=function(t){return this.queue(function(){var i=n(this),l=["position","top","bottom","left","right"],o=n.effects.setMode(i,t.options.mode||"effect"),u=t.options.direction||"up",r=t.options.distance||20,a=t.options.times||5,s=t.duration||250,f,e,h,c;for(/show|hide/.test(o)&&l.push("opacity"),n.effects.save(i,l),i.show(),n.effects.createWrapper(i),f=u=="up"||u=="down"?"top":"left",u=u=="up"||u=="left"?"pos":"neg",r=t.options.distance||(f=="top"?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3),o=="show"&&i.css("opacity",0).css(f,u=="pos"?-r:r),o=="hide"&&(r/=a*2),o!="hide"&&a--,o=="show"&&(e={opacity:1},e[f]=(u=="pos"?"+=":"-=")+r,i.animate(e,s/2,t.options.easing),r/=2,a--),e=0;e<a;e++)h={},c={},h[f]=(u=="pos"?"-=":"+=")+r,c[f]=(u=="pos"?"+=":"-=")+r,i.animate(h,s/2,t.options.easing).animate(c,s/2,t.options.easing),r=o=="hide"?r*2:r/2;o=="hide"?(e={opacity:0},e[f]=(u=="pos"?"-=":"+=")+r,i.animate(e,s/2,t.options.easing,function(){i.hide();n.effects.restore(i,l);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)})):(h={},c={},h[f]=(u=="pos"?"-=":"+=")+r,c[f]=(u=="pos"?"+=":"-=")+r,i.animate(h,s/2,t.options.easing).animate(c,s/2,t.options.easing,function(){n.effects.restore(i,l);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)}));i.queue("fx",function(){i.dequeue()});i.dequeue()})}}(jQuery),function(n){n.effects.clip=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right","height","width"],e=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"vertical",r,f,o;n.effects.save(i,s);i.show();r=n.effects.createWrapper(i).css({overflow:"hidden"});r=i[0].tagName=="IMG"?r:i;f={size:u=="vertical"?"height":"width",position:u=="vertical"?"top":"left"};u=u=="vertical"?r.height():r.width();e=="show"&&(r.css(f.size,0),r.css(f.position,u/2));o={};o[f.size]=e=="show"?u:0;o[f.position]=e=="show"?0:u/2;r.animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){e=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.drop=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right","opacity"],u=n.effects.setMode(i,t.options.mode||"hide"),r=t.options.direction||"left",f,e,o;n.effects.save(i,s);i.show();n.effects.createWrapper(i);f=r=="up"||r=="down"?"top":"left";r=r=="up"||r=="left"?"pos":"neg";e=t.options.distance||(f=="top"?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2);u=="show"&&i.css("opacity",0).css(f,r=="pos"?-e:e);o={opacity:u=="show"?1:0};o[f]=(u=="show"?r=="pos"?"+=":"-=":r=="pos"?"-=":"+=")+e;i.animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){u=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.explode=function(t){return this.queue(function(){var r=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,u=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,i,e,f;t.options.mode=t.options.mode=="toggle"?n(this).is(":visible")?"hide":"show":t.options.mode;i=n(this).show().css("visibility","hidden");e=i.offset();e.top-=parseInt(i.css("marginTop"),10)||0;e.left-=parseInt(i.css("marginLeft"),10)||0;for(var s=i.outerWidth(!0),h=i.outerHeight(!0),o=0;o<r;o++)for(f=0;f<u;f++)i.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-f*(s/u),top:-o*(h/r)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s/u,height:h/r,left:e.left+f*(s/u)+(t.options.mode=="show"?(f-Math.floor(u/2))*(s/u):0),top:e.top+o*(h/r)+(t.options.mode=="show"?(o-Math.floor(r/2))*(h/r):0),opacity:t.options.mode=="show"?0:1}).animate({left:e.left+f*(s/u)+(t.options.mode=="show"?0:(f-Math.floor(u/2))*(s/u)),top:e.top+o*(h/r)+(t.options.mode=="show"?0:(o-Math.floor(r/2))*(h/r)),opacity:t.options.mode=="show"?1:0},t.duration||500);setTimeout(function(){t.options.mode=="show"?i.css({visibility:"visible"}):i.css({visibility:"visible"}).hide();t.callback&&t.callback.apply(i[0]);i.dequeue();n("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(n){n.effects.fade=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.fold=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right"],r=n.effects.setMode(i,t.options.mode||"hide"),o=t.options.size||15,s=!!t.options.horizFirst,c=t.duration?t.duration/2:n.fx.speeds._default/2,e;n.effects.save(i,h);i.show();var u=n.effects.createWrapper(i).css({overflow:"hidden"}),f=r=="show"!=s,l=f?["width","height"]:["height","width"];f=f?[u.width(),u.height()]:[u.height(),u.width()];e=/([0-9]+)%/.exec(o);e&&(o=parseInt(e[1],10)/100*f[r=="hide"?0:1]);r=="show"&&u.css(s?{height:0,width:o}:{height:o,width:0});s={};e={};s[l[0]]=r=="show"?f[0]:o;e[l[1]]=r=="show"?f[1]:0;u.animate(s,c,t.options.easing).animate(e,c,t.options.easing,function(){r=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery),function(n){n.effects.highlight=function(t){return this.queue(function(){var i=n(this),u=["backgroundImage","backgroundColor","opacity"],r=n.effects.setMode(i,t.options.mode||"show"),f={backgroundColor:i.css("backgroundColor")};r=="hide"&&(f.opacity=0);n.effects.save(i,u);i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(f,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){r=="hide"&&i.hide();n.effects.restore(i,u);r!="show"||n.support.opacity||this.style.removeAttribute("filter");t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.pulsate=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"show");for(times=(t.options.times||5)*2-1,duration=t.duration?t.duration/2:n.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),(r=="hide"&&isVisible||r=="show"&&!isVisible)&&times--,r=0;r<times;r++)i.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,t.options.easing,function(){animateTo==0&&i.hide();t.callback&&t.callback.apply(this,arguments)});i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),function(n){n.effects.puff=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide"),f=parseInt(t.options.percent,10)||150,e=f/100,u={height:i.height(),width:i.width()};n.extend(t.options,{fade:!0,mode:r,percent:r=="hide"?f:100,from:r=="hide"?u:{height:u.height*e,width:u.width*e}});i.effect("scale",t.options,t.duration,t.callback);i.dequeue()})};n.effects.scale=function(t){return this.queue(function(){var i=n(this),r=n.extend(!0,{},t.options),u=n.effects.setMode(i,t.options.mode||"effect"),f=parseInt(t.options.percent,10)||(parseInt(t.options.percent,10)==0?0:u=="hide"?0:100),o=t.options.direction||"both",e=t.options.origin;u!="effect"&&(r.origin=e||["middle","center"],r.restore=!0);e={height:i.height(),width:i.width()};i.from=t.options.from||(u=="show"?{height:0,width:0}:e);f={y:o!="horizontal"?f/100:1,x:o!="vertical"?f/100:1};i.to={height:e.height*f.y,width:e.width*f.x};t.options.fade&&(u=="show"&&(i.from.opacity=0,i.to.opacity=1),u=="hide"&&(i.from.opacity=1,i.to.opacity=0));r.from=i.from;r.to=i.to;r.mode=u;i.effect("size",r,t.duration,t.callback);i.dequeue()})};n.effects.size=function(t){return this.queue(function(){var i=n(this),f=["position","top","bottom","left","right","width","height","overflow","opacity"],v=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],c=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],y=n.effects.setMode(i,t.options.mode||"effect"),l=t.options.restore||!1,h=t.options.scale||"both",s=t.options.origin,u={height:i.height(),width:i.width()},r;i.from=t.options.from||u;i.to=t.options.to||u;s&&(s=n.effects.getBaseline(s,u),i.from.top=(u.height-i.from.height)*s.y,i.from.left=(u.width-i.from.width)*s.x,i.to.top=(u.height-i.to.height)*s.y,i.to.left=(u.width-i.to.width)*s.x);r={from:{y:i.from.height/u.height,x:i.from.width/u.width},to:{y:i.to.height/u.height,x:i.to.width/u.width}};(h=="box"||h=="both")&&(r.from.y!=r.to.y&&(f=f.concat(e),i.from=n.effects.setTransition(i,e,r.from.y,i.from),i.to=n.effects.setTransition(i,e,r.to.y,i.to)),r.from.x!=r.to.x&&(f=f.concat(o),i.from=n.effects.setTransition(i,o,r.from.x,i.from),i.to=n.effects.setTransition(i,o,r.to.x,i.to)));(h=="content"||h=="both")&&r.from.y!=r.to.y&&(f=f.concat(c),i.from=n.effects.setTransition(i,c,r.from.y,i.from),i.to=n.effects.setTransition(i,c,r.to.y,i.to));n.effects.save(i,l?f:v);i.show();n.effects.createWrapper(i);i.css("overflow","hidden").css(i.from);(h=="content"||h=="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(c),o=o.concat(["marginLeft","marginRight"]),a=f.concat(e).concat(o),i.find("*[width]").each(function(){child=n(this);l&&n.effects.save(child,a);var i={height:child.height(),width:child.width()};child.from={height:i.height*r.from.y,width:i.width*r.from.x};child.to={height:i.height*r.to.y,width:i.width*r.to.x};r.from.y!=r.to.y&&(child.from=n.effects.setTransition(child,e,r.from.y,child.from),child.to=n.effects.setTransition(child,e,r.to.y,child.to));r.from.x!=r.to.x&&(child.from=n.effects.setTransition(child,o,r.from.x,child.from),child.to=n.effects.setTransition(child,o,r.to.x,child.to));child.css(child.from);child.animate(child.to,t.duration,t.options.easing,function(){l&&n.effects.restore(child,a)})}));i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i.to.opacity===0&&i.css("opacity",i.from.opacity);y=="hide"&&i.hide();n.effects.restore(i,l?f:v);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.shake=function(t){return this.queue(function(){var i=n(this),c=["position","top","bottom","left","right"],e,o,s,h;n.effects.setMode(i,t.options.mode||"effect");var r=t.options.direction||"left",u=t.options.distance||20,l=t.options.times||3,f=t.duration||t.options.duration||140;for(n.effects.save(i,c),i.show(),n.effects.createWrapper(i),e=r=="up"||r=="down"?"top":"left",o=r=="up"||r=="left"?"pos":"neg",r={},s={},h={},r[e]=(o=="pos"?"-=":"+=")+u,s[e]=(o=="pos"?"+=":"-=")+u*2,h[e]=(o=="pos"?"-=":"+=")+u*2,i.animate(r,f,t.options.easing),u=1;u<l;u++)i.animate(s,f,t.options.easing).animate(h,f,t.options.easing);i.animate(s,f,t.options.easing).animate(r,f/2,t.options.easing,function(){n.effects.restore(i,c);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)});i.queue("fx",function(){i.dequeue()});i.dequeue()})}}(jQuery),function(n){n.effects.slide=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right"],e=n.effects.setMode(i,t.options.mode||"show"),r=t.options.direction||"left",f,u,o;n.effects.save(i,s);i.show();n.effects.createWrapper(i).css({overflow:"hidden"});f=r=="up"||r=="down"?"top":"left";r=r=="up"||r=="left"?"pos":"neg";u=t.options.distance||(f=="top"?i.outerHeight({margin:!0}):i.outerWidth({margin:!0}));e=="show"&&i.css(f,r=="pos"?isNaN(u)?"-"+u:-u:u);o={};o[f]=(e=="show"?r=="pos"?"+=":"-=":r=="pos"?"-=":"+=")+u;i.animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){e=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.transfer=function(t){return this.queue(function(){var i=n(this),r=n(t.options.to),u=r.offset(),f;r={top:u.top,left:u.left,height:r.innerHeight(),width:r.innerWidth()};u=i.offset();f=n('<div class="ui-effects-transfer"><\/div>').appendTo(document.body).addClass(t.options.className).css({top:u.top,left:u.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(r,t.duration,t.options.easing,function(){f.remove();t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery);$.widget("ui.menu",$.extend({},$.ui.menu.prototype,{activate:function(n,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),u=this.element.height();i<0?this.element.scrollTop(r+i):i>=u&&this.element.scrollTop(r+i-u+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",n,{item:t})},hasScroll:function(){return this.element.height()<this.element[$.fn.prop?"prop":"attr"]("scrollHeight")}}));
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(n){function i(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var t=n.ui.mouse.prototype,u=t._mouseInit,f=t._mouseDestroy,r;t._touchStart=function(n){var t=this;!r&&t._mouseCapture(n.originalEvent.changedTouches[0])&&(r=!0,t._touchMoved=!1,i(n,"mouseover"),i(n,"mousemove"),i(n,"mousedown"))};t._touchMove=function(n){r&&(this._touchMoved=!0,i(n,"mousemove"))};t._touchEnd=function(n){r&&(i(n,"mouseup"),i(n,"mouseout"),this._touchMoved||i(n,"click"),r=!1)};t._mouseInit=function(){var t=this;t.element.bind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});u.call(t)};t._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});f.call(t)}}})(jQuery);!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).Swiper=t()}(this,function(){"use strict";function t(n,t){var s=[],u=0,h,c,f,o;if(n&&!t&&n instanceof e)return n;if(n)if("string"==typeof n)if(f=n.trim(),f.indexOf("<")>=0&&f.indexOf(">")>=0)for(o="div",0===f.indexOf("<li")&&(o="ul"),0===f.indexOf("<tr")&&(o="tbody"),0!==f.indexOf("<td")&&0!==f.indexOf("<th")||(o="tr"),0===f.indexOf("<tbody")&&(o="table"),0===f.indexOf("<option")&&(o="select"),(c=r.createElement(o)).innerHTML=f,u=0;u<c.childNodes.length;u+=1)s.push(c.childNodes[u]);else for(h=t||"#"!==n[0]||n.match(/[ .<>:~]/)?(t||r).querySelectorAll(n.trim()):[r.getElementById(n.trim().split("#")[1])],u=0;u<h.length;u+=1)h[u]&&s.push(h[u]);else if(n.nodeType||n===i||n===r)s.push(n);else if(n.length>0&&n[0].nodeType)for(u=0;u<n.length;u+=1)s.push(n[u]);return new e(s)}function ot(n){for(var i=[],t=0;t<n.length;t+=1)-1===i.indexOf(n[t])&&i.push(n[t]);return i}function ki(u){var o=this.touchEventsData,e=this.params,s=this.touches,f,h,l,v;if((!this.animating||!e.preventInteractionOnTransition)&&(f=u,f.originalEvent&&(f=f.originalEvent),h=t(f.target),("wrapper"!==e.touchEventsTarget||h.closest(this.wrapperEl).length)&&(o.isTouchEvent="touchstart"===f.type,(o.isTouchEvent||!("which"in f)||3!==f.which)&&!(!o.isTouchEvent&&"button"in f&&f.button>0||o.isTouched&&o.isMoved))))if(e.noSwiping&&h.closest(e.noSwipingSelector?e.noSwipingSelector:"."+e.noSwipingClass)[0])this.allowClick=!0;else if(!e.swipeHandler||h.closest(e.swipeHandler)[0]){s.currentX="touchstart"===f.type?f.targetTouches[0].pageX:f.pageX;s.currentY="touchstart"===f.type?f.targetTouches[0].pageY:f.pageY;var c=s.currentX,y=s.currentY,p=e.edgeSwipeDetection||e.iOSEdgeSwipeDetection,a=e.edgeSwipeThreshold||e.iOSEdgeSwipeThreshold;p&&(c<=a||c>=i.screen.width-a)||((n.extend(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=c,s.startY=y,o.touchStartTime=n.now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,e.threshold>0&&(o.allowThresholdMove=!1),"touchstart"!==f.type)&&(l=!0,h.is(o.formElements)&&(l=!1),r.activeElement&&t(r.activeElement).is(o.formElements)&&r.activeElement!==h[0]&&r.activeElement.blur(),v=l&&this.allowTouchMove&&e.touchStartPreventDefault,(e.touchStartForcePreventDefault||v)&&f.preventDefault()),this.emit("touchStart",f))}}function di(i){var u=this.touchEventsData,o=this.params,f=this.touches,b=this.rtlTranslate,e=i,l,a,p,s,v,y;if(e.originalEvent&&(e=e.originalEvent),u.isTouched){if(!u.isTouchEvent||"mousemove"!==e.type){var w="touchmove"===e.type&&e.targetTouches&&(e.targetTouches[0]||e.changedTouches[0]),h="touchmove"===e.type?w.pageX:e.pageX,c="touchmove"===e.type?w.pageY:e.pageY;if(e.preventedByNestedSwiper)return f.startX=h,void(f.startY=c);if(!this.allowTouchMove)return this.allowClick=!1,void(u.isTouched&&(n.extend(f,{startX:h,startY:c,currentX:h,currentY:c}),u.touchStartTime=n.now()));if(u.isTouchEvent&&o.touchReleaseOnEdges&&!o.loop)if(this.isVertical()){if(c<f.startY&&this.translate<=this.maxTranslate()||c>f.startY&&this.translate>=this.minTranslate())return u.isTouched=!1,void(u.isMoved=!1)}else if(h<f.startX&&this.translate<=this.maxTranslate()||h>f.startX&&this.translate>=this.minTranslate())return;if(u.isTouchEvent&&r.activeElement&&e.target===r.activeElement&&t(e.target).is(u.formElements))return u.isMoved=!0,void(this.allowClick=!1);if((u.allowTouchCallbacks&&this.emit("touchMove",e),!(e.targetTouches&&e.targetTouches.length>1))&&(f.currentX=h,f.currentY=c,l=f.currentX-f.startX,a=f.currentY-f.startY,!(this.params.threshold&&Math.sqrt(Math.pow(l,2)+Math.pow(a,2))<this.params.threshold)))if(void 0===u.isScrolling&&(this.isHorizontal()&&f.currentY===f.startY||this.isVertical()&&f.currentX===f.startX?u.isScrolling=!1:l*l+a*a>=25&&(p=180*Math.atan2(Math.abs(a),Math.abs(l))/Math.PI,u.isScrolling=this.isHorizontal()?p>o.touchAngle:90-p>o.touchAngle)),u.isScrolling&&this.emit("touchMoveOpposite",e),void 0===u.startMoving&&(f.currentX===f.startX&&f.currentY===f.startY||(u.startMoving=!0)),u.isScrolling)u.isTouched=!1;else if(u.startMoving){if(this.allowClick=!1,o.cssMode||e.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&e.stopPropagation(),u.isMoved||(o.loop&&this.loopFix(),u.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),u.allowMomentumBounce=!1,!o.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",e)),this.emit("sliderMove",e),u.isMoved=!0,s=this.isHorizontal()?l:a,f.diff=s,s*=o.touchRatio,b&&(s=-s),this.swipeDirection=s>0?"prev":"next",u.currentTranslate=s+u.startTranslate,v=!0,y=o.resistanceRatio,o.touchReleaseOnEdges&&(y=0),s>0&&u.currentTranslate>this.minTranslate()?(v=!1,o.resistance&&(u.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+u.startTranslate+s,y))):s<0&&u.currentTranslate<this.maxTranslate()&&(v=!1,o.resistance&&(u.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-u.startTranslate-s,y))),v&&(e.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&u.currentTranslate<u.startTranslate&&(u.currentTranslate=u.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&u.currentTranslate>u.startTranslate&&(u.currentTranslate=u.startTranslate),o.threshold>0){if(!(Math.abs(s)>o.threshold||u.allowThresholdMove))return void(u.currentTranslate=u.startTranslate);if(!u.allowThresholdMove)return u.allowThresholdMove=!0,f.startX=f.currentX,f.startY=f.currentY,u.currentTranslate=u.startTranslate,void(f.diff=this.isHorizontal()?f.currentX-f.startX:f.currentY-f.startY)}o.followFinger&&!o.cssMode&&((o.freeMode||o.watchSlidesProgress||o.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),o.freeMode&&(0===u.velocities.length&&u.velocities.push({position:f[this.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:f[this.isHorizontal()?"currentX":"currentY"],time:n.now()})),this.updateProgress(u.currentTranslate),this.setTranslate(u.currentTranslate))}}}else u.startMoving&&u.isScrolling&&this.emit("touchMoveOpposite",e)}function gi(t){var i=this,u=i.touchEventsData,r=i.params,lt=i.touches,b=i.rtlTranslate,tt=i.$wrapperEl,e=i.slidesGrid,c=i.snapGrid,h=t,l,it,k,d,ut,g,v,y,p,ft,et,nt,st,w;if(h.originalEvent&&(h=h.originalEvent),u.allowTouchCallbacks&&i.emit("touchEnd",h),u.allowTouchCallbacks=!1,!u.isTouched)return u.isMoved&&r.grabCursor&&i.setGrabCursor(!1),u.isMoved=!1,void(u.startMoving=!1);if(r.grabCursor&&u.isMoved&&u.isTouched&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!1),it=n.now(),k=it-u.touchStartTime,i.allowClick&&(i.updateClickedSlide(h),i.emit("tap click",h),k<300&&it-u.lastClickTime<300&&i.emit("doubleTap doubleClick",h)),u.lastClickTime=n.now(),n.nextTick(function(){i.destroyed||(i.allowClick=!0)}),!u.isTouched||!u.isMoved||!i.swipeDirection||0===lt.diff||u.currentTranslate===u.startTranslate)return u.isTouched=!1,u.isMoved=!1,void(u.startMoving=!1);if(u.isTouched=!1,u.isMoved=!1,u.startMoving=!1,l=r.followFinger?b?i.translate:-i.translate:-u.currentTranslate,!r.cssMode)if(r.freeMode){if(l<-i.minTranslate())return void i.slideTo(i.activeIndex);if(l>-i.maxTranslate())return void(i.slides.length<c.length?i.slideTo(c.length-1):i.slideTo(i.slides.length-1));if(r.freeModeMomentum){if(u.velocities.length>1){var rt=u.velocities.pop(),ht=u.velocities.pop(),at=rt.position-ht.position,ct=rt.time-ht.time;i.velocity=at/ct;i.velocity/=2;Math.abs(i.velocity)<r.freeModeMinimumVelocity&&(i.velocity=0);(ct>150||n.now()-rt.time>300)&&(i.velocity=0)}else i.velocity=0;i.velocity*=r.freeModeMomentumVelocityRatio;u.velocities.length=0;var a=1e3*r.freeModeMomentumRatio,vt=i.velocity*a,f=i.translate+vt;if(b&&(f=-f),g=!1,v=20*Math.abs(i.velocity)*r.freeModeMomentumBounceRatio,f<i.maxTranslate())r.freeModeMomentumBounce?(f+i.maxTranslate()<-v&&(f=i.maxTranslate()-v),d=i.maxTranslate(),g=!0,u.allowMomentumBounce=!0):f=i.maxTranslate(),r.loop&&r.centeredSlides&&(ut=!0);else if(f>i.minTranslate())r.freeModeMomentumBounce?(f-i.minTranslate()>v&&(f=i.minTranslate()+v),d=i.minTranslate(),g=!0,u.allowMomentumBounce=!0):f=i.minTranslate(),r.loop&&r.centeredSlides&&(ut=!0);else if(r.freeModeSticky){for(p=0;p<c.length;p+=1)if(c[p]>-f){y=p;break}f=-(f=Math.abs(c[y]-f)<Math.abs(c[y-1]-f)||"next"===i.swipeDirection?c[y]:c[y-1])}if(ut&&i.once("transitionEnd",function(){i.loopFix()}),0!==i.velocity)(a=b?Math.abs((-f-i.translate)/i.velocity):Math.abs((f-i.translate)/i.velocity),r.freeModeSticky)&&(ft=Math.abs((b?-f:f)-i.translate),et=i.slidesSizesGrid[i.activeIndex],a=ft<et?r.speed:ft<2*et?1.5*r.speed:2.5*r.speed);else if(r.freeModeSticky)return void i.slideToClosest();r.freeModeMomentumBounce&&g?(i.updateProgress(d),i.setTransition(a),i.setTranslate(f),i.transitionStart(!0,i.swipeDirection),i.animating=!0,tt.transitionEnd(function(){i&&!i.destroyed&&u.allowMomentumBounce&&(i.emit("momentumBounce"),i.setTransition(r.speed),i.setTranslate(d),tt.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd()}))})):i.velocity?(i.updateProgress(f),i.setTransition(a),i.setTranslate(f),i.transitionStart(!0,i.swipeDirection),i.animating||(i.animating=!0,tt.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd()}))):i.updateProgress(f);i.updateActiveIndex();i.updateSlidesClasses()}else if(r.freeModeSticky)return void i.slideToClosest();(!r.freeModeMomentum||k>=r.longSwipesMs)&&(i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses())}else{for(var o=0,ot=i.slidesSizesGrid[0],s=0;s<e.length;s+=s<r.slidesPerGroupSkip?1:r.slidesPerGroup)nt=s<r.slidesPerGroupSkip-1?1:r.slidesPerGroup,void 0!==e[s+nt]?l>=e[s]&&l<e[s+nt]&&(o=s,ot=e[s+nt]-e[s]):l>=e[s]&&(o=s,ot=e[e.length-1]-e[e.length-2]);if(st=(l-e[o])/ot,w=o<r.slidesPerGroupSkip-1?1:r.slidesPerGroup,k>r.longSwipesMs){if(!r.longSwipes)return void i.slideTo(i.activeIndex);"next"===i.swipeDirection&&(st>=r.longSwipesRatio?i.slideTo(o+w):i.slideTo(o));"prev"===i.swipeDirection&&(st>1-r.longSwipesRatio?i.slideTo(o+w):i.slideTo(o))}else{if(!r.shortSwipes)return void i.slideTo(i.activeIndex);i.navigation&&(h.target===i.navigation.nextEl||h.target===i.navigation.prevEl)?h.target===i.navigation.nextEl?i.slideTo(o+w):i.slideTo(o):("next"===i.swipeDirection&&i.slideTo(o+w),"prev"===i.swipeDirection&&i.slideTo(o))}}}function vt(){var n=this.params,t=this.el;if(!t||0!==t.offsetWidth){n.breakpoints&&this.setBreakpoint();var i=this.allowSlideNext,r=this.allowSlidePrev,u=this.snapGrid;this.allowSlideNext=!0;this.allowSlidePrev=!0;this.updateSize();this.updateSlides();this.updateSlidesClasses();("auto"===n.slidesPerView||n.slidesPerView>1)&&this.isEnd&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0);this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run();this.allowSlidePrev=r;this.allowSlideNext=i;this.params.watchOverflow&&u!==this.snapGrid&&this.checkOverflow()}}function nr(n){this.allowClick||(this.params.preventClicks&&n.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function tr(){var n=this.wrapperEl,i=this.rtlTranslate,t;this.previousTranslate=this.translate;this.translate=this.isHorizontal()?i?n.scrollWidth-n.offsetWidth-n.scrollLeft:-n.scrollLeft:-n.scrollTop;-0===this.translate&&(this.translate=0);this.updateActiveIndex();this.updateSlidesClasses();t=this.maxTranslate()-this.minTranslate();(0===t?0:(this.translate-this.minTranslate())/t)!==this.progress&&this.updateProgress(i?-this.translate:this.translate);this.emit("setTranslate",this.translate,!1)}function ir(){}var r="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,i="undefined"==typeof window?{document:r,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,e=function(n){for(var t=0;t<n.length;t+=1)this[t]=n[t];return this.length=n.length,this},st,yt;t.fn=e.prototype;t.Class=e;t.Dom7=e;st={addClass:function(n){var r,i,t;if(void 0===n)return this;for(r=n.split(" "),i=0;i<r.length;i+=1)for(t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.add(r[i]);return this},removeClass:function(n){for(var t,r=n.split(" "),i=0;i<r.length;i+=1)for(t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.remove(r[i]);return this},hasClass:function(n){return!!this[0]&&this[0].classList.contains(n)},toggleClass:function(n){for(var t,r=n.split(" "),i=0;i<r.length;i+=1)for(t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.toggle(r[i]);return this},attr:function(n,t){var u=arguments,i,r;if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(i=0;i<this.length;i+=1)if(2===u.length)this[i].setAttribute(n,t);else for(r in n)this[i][r]=n[r],this[i].setAttribute(r,n[r]);return this},removeAttr:function(n){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(n);return this},data:function(n,t){var i,r,u;if(void 0!==t){for(r=0;r<this.length;r+=1)(i=this[r]).dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[n]=t;return this}if(i=this[0])return i.dom7ElementDataStorage&&n in i.dom7ElementDataStorage?i.dom7ElementDataStorage[n]:(u=i.getAttribute("data-"+n),u||void 0)},transform:function(n){for(var i,t=0;t<this.length;t+=1)i=this[t].style,i.webkitTransform=n,i.transform=n;return this},transition:function(n){var t,i;for("string"!=typeof n&&(n+="ms"),t=0;t<this.length;t+=1)i=this[t].style,i.webkitTransitionDuration=n,i.transitionDuration=n;return this},on:function(){function y(n){var f=n.target,i,e,r;if(f)if(i=n.target.dom7EventData||[],i.indexOf(n)<0&&i.unshift(n),t(f).is(c))u.apply(f,i);else for(e=t(f).parents(),r=0;r<e.length;r+=1)t(e[r]).is(c)&&u.apply(e[r],i)}function p(n){var t=n&&n.target&&n.target.dom7EventData||[];t.indexOf(n)<0&&t.unshift(n);u.apply(this,t)}for(var a,r,e,l,n,o,s,i=[],h=arguments.length;h--;)i[h]=arguments[h];var v=i[0],c=i[1],u=i[2],f=i[3];for("function"==typeof i[1]&&(v=(a=i)[0],u=a[1],f=a[2],c=void 0),f||(f=!1),e=v.split(" "),l=0;l<this.length;l+=1)if(n=this[l],c)for(r=0;r<e.length;r+=1)o=e[r],n.dom7LiveListeners||(n.dom7LiveListeners={}),n.dom7LiveListeners[o]||(n.dom7LiveListeners[o]=[]),n.dom7LiveListeners[o].push({listener:u,proxyListener:y}),n.addEventListener(o,y,f);else for(r=0;r<e.length;r+=1)s=e[r],n.dom7Listeners||(n.dom7Listeners={}),n.dom7Listeners[s]||(n.dom7Listeners[s]=[]),n.dom7Listeners[s].push({listener:u,proxyListener:p}),n.addEventListener(s,p,f);return this},off:function(){for(var l,v,h,o,c,i,n,f,r,t=[],s=arguments.length;s--;)t[s]=arguments[s];var y=t[0],a=t[1],u=t[2],e=t[3];for("function"==typeof t[1]&&(y=(l=t)[0],u=l[1],e=l[2],a=void 0),e||(e=!1),v=y.split(" "),h=0;h<v.length;h+=1)for(o=v[h],c=0;c<this.length;c+=1)if(i=this[c],n=void 0,!a&&i.dom7Listeners?n=i.dom7Listeners[o]:a&&i.dom7LiveListeners&&(n=i.dom7LiveListeners[o]),n&&n.length)for(f=n.length-1;f>=0;f-=1)r=n[f],u&&r.listener===u||u&&r.listener&&r.listener.dom7proxy&&r.listener.dom7proxy===u?(i.removeEventListener(o,r.proxyListener,e),n.splice(f,1)):u||(i.removeEventListener(o,r.proxyListener,e),n.splice(f,1));return this},trigger:function(){for(var s,e,t,u,n=[],f=arguments.length;f--;)n[f]=arguments[f];for(var h=n[0].split(" "),c=n[1],o=0;o<h.length;o+=1)for(s=h[o],e=0;e<this.length;e+=1){t=this[e];u=void 0;try{u=new i.CustomEvent(s,{detail:c,bubbles:!0,cancelable:!0})}catch(i){(u=r.createEvent("Event")).initEvent(s,!0,!0);u.detail=c}t.dom7EventData=n.filter(function(n,t){return t>0});t.dispatchEvent(u);t.dom7EventData=[];delete t.dom7EventData}return this},transitionEnd:function(n){function u(f){if(f.target===this)for(n.call(this,f),t=0;t<i.length;t+=1)r.off(i[t],u)}var t,i=["webkitTransitionEnd","transitionend"],r=this;if(n)for(t=0;t<i.length;t+=1)r.on(i[t],u);return this},outerWidth:function(n){if(this.length>0){if(n){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(n){if(this.length>0){if(n){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var n=this[0],t=n.getBoundingClientRect(),u=r.body,f=n.clientTop||u.clientTop||0,e=n.clientLeft||u.clientLeft||0,o=n===i?i.scrollY:n.scrollTop,s=n===i?i.scrollX:n.scrollLeft;return{top:t.top+o-f,left:t.left+s-e}}return null},css:function(n,t){var r,u;if(1===arguments.length){if("string"!=typeof n){for(r=0;r<this.length;r+=1)for(u in n)this[r].style[u]=n[u];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(r=0;r<this.length;r+=1)this[r].style[n]=t;return this}return this},each:function(n){if(!n)return this;for(var t=0;t<this.length;t+=1)if(!1===n.call(this[t],t,this[t]))return this;return this},html:function(n){if(void 0===n)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=n;return this},text:function(n){if(void 0===n)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=n;return this},is:function(n){var o,f,u=this[0];if(!u||void 0===n)return!1;if("string"==typeof n){if(u.matches)return u.matches(n);if(u.webkitMatchesSelector)return u.webkitMatchesSelector(n);if(u.msMatchesSelector)return u.msMatchesSelector(n);for(o=t(n),f=0;f<o.length;f+=1)if(o[f]===u)return!0;return!1}if(n===r)return u===r;if(n===i)return u===i;if(n.nodeType||n instanceof e){for(o=n.nodeType?[n]:n,f=0;f<o.length;f+=1)if(o[f]===u)return!0;return!1}return!1},index:function(){var t,n=this[0];if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}},eq:function(n){if(void 0===n)return this;var t,i=this.length;return new e(n>i-1?[]:n<0?(t=i+n)<0?[]:[this[t]]:[this[n]])},append:function(){for(var n,f,t,o,s,i=[],u=arguments.length;u--;)i[u]=arguments[u];for(f=0;f<i.length;f+=1)for(n=i[f],t=0;t<this.length;t+=1)if("string"==typeof n)for(o=r.createElement("div"),o.innerHTML=n;o.firstChild;)this[t].appendChild(o.firstChild);else if(n instanceof e)for(s=0;s<n.length;s+=1)this[t].appendChild(n[s]);else this[t].appendChild(n);return this},prepend:function(n){for(var i,u,t=0;t<this.length;t+=1)if("string"==typeof n)for(u=r.createElement("div"),u.innerHTML=n,i=u.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(u.childNodes[i],this[t].childNodes[0]);else if(n instanceof e)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},next:function(n){return this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?new e([this[0].nextElementSibling]):new e([]):this[0].nextElementSibling?new e([this[0].nextElementSibling]):new e([]):new e([])},nextAll:function(n){var u=[],r=this[0],i;if(!r)return new e([]);for(;r.nextElementSibling;)i=r.nextElementSibling,n?t(i).is(n)&&u.push(i):u.push(i),r=i;return new e(u)},prev:function(n){if(this.length>0){var i=this[0];return n?i.previousElementSibling&&t(i.previousElementSibling).is(n)?new e([i.previousElementSibling]):new e([]):i.previousElementSibling?new e([i.previousElementSibling]):new e([])}return new e([])},prevAll:function(n){var u=[],r=this[0],i;if(!r)return new e([]);for(;r.previousElementSibling;)i=r.previousElementSibling,n?t(i).is(n)&&u.push(i):u.push(i),r=i;return new e(u)},parent:function(n){for(var r=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(n?t(this[i].parentNode).is(n)&&r.push(this[i].parentNode):r.push(this[i].parentNode));return t(ot(r))},parents:function(n){for(var i,r=[],u=0;u<this.length;u+=1)for(i=this[u].parentNode;i;)n?t(i).is(n)&&r.push(i):r.push(i),i=i.parentNode;return t(ot(r))},closest:function(n){var t=this;return void 0===n?new e([]):(t.is(n)||(t=t.parents(n).eq(0)),t)},find:function(n){for(var u,i,r=[],t=0;t<this.length;t+=1)for(u=this[t].querySelectorAll(n),i=0;i<u.length;i+=1)r.push(u[i]);return new e(r)},children:function(n){for(var r,i,u=[],f=0;f<this.length;f+=1)for(r=this[f].childNodes,i=0;i<r.length;i+=1)n?1===r[i].nodeType&&t(r[i]).is(n)&&u.push(r[i]):1===r[i].nodeType&&u.push(r[i]);return new e(ot(u))},filter:function(n){for(var i=[],t=0;t<this.length;t+=1)n.call(this[t],t,this[t])&&i.push(this[t]);return new e(i)},remove:function(){for(var n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this},add:function(){for(var u,f,n,e,i=[],r=arguments.length;r--;)i[r]=arguments[r];for(n=this,u=0;u<i.length;u+=1)for(e=t(i[u]),f=0;f<e.length;f+=1)n[n.length]=e[f],n.length+=1;return n},styles:function(){return this[0]?i.getComputedStyle(this[0],null):{}}};Object.keys(st).forEach(function(n){t.fn[n]=t.fn[n]||st[n]});var n={deleteProps:function(n){var t=n;Object.keys(t).forEach(function(n){try{t[n]=null}catch(n){}try{delete t[n]}catch(n){}})},nextTick:function(n,t){return void 0===t&&(t=0),setTimeout(n,t)},now:function(){return Date.now()},getTranslate:function(n,t){var f,u,e,r;return void 0===t&&(t="x"),r=i.getComputedStyle(n,null),i.WebKitCSSMatrix?((u=r.transform||r.webkitTransform).split(",").length>6&&(u=u.split(", ").map(function(n){return n.replace(",",".")}).join(", ")),e=new i.WebKitCSSMatrix("none"===u?"":u)):f=(e=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(u=i.WebKitCSSMatrix?e.m41:16===f.length?parseFloat(f[12]):parseFloat(f[4])),"y"===t&&(u=i.WebKitCSSMatrix?e.m42:16===f.length?parseFloat(f[13]):parseFloat(f[5])),u||0},parseUrlQuery:function(n){var r,f,u,e,o={},t=n||i.location.href;if("string"==typeof t&&t.length)for(e=(f=(t=t.indexOf("?")>-1?t.replace(/\S*\?/,""):"").split("&").filter(function(n){return""!==n})).length,r=0;r<e;r+=1)u=f[r].replace(/#\S+/g,"").split("="),o[decodeURIComponent(u[0])]=void 0===u[1]?void 0:decodeURIComponent(u[1])||"";return o},isObject:function(n){return"object"==typeof n&&null!==n&&n.constructor&&n.constructor===Object},extend:function(){for(var r,e,i,t,s,u=[],f=arguments.length;f--;)u[f]=arguments[f];for(r=Object(u[0]),e=1;e<u.length;e+=1)if(i=u[e],null!=i)for(var h=Object.keys(Object(i)),o=0,c=h.length;o<c;o+=1)t=h[o],s=Object.getOwnPropertyDescriptor(i,t),void 0!==s&&s.enumerable&&(n.isObject(r[t])&&n.isObject(i[t])?n.extend(r[t],i[t]):!n.isObject(r[t])&&n.isObject(i[t])?(r[t]={},n.extend(r[t],i[t])):r[t]=i[t]);return r}},u={touch:i.Modernizr&&!0===i.Modernizr.touch||!!(i.navigator.maxTouchPoints>0||"ontouchstart"in i||i.DocumentTouch&&r instanceof i.DocumentTouch),pointerEvents:!!i.PointerEvent&&"maxTouchPoints"in i.navigator&&i.navigator.maxTouchPoints>0,observer:"MutationObserver"in i||"WebkitMutationObserver"in i,passiveListener:function(){var n=!1,t;try{t=Object.defineProperty({},"passive",{get:function(){n=!0}});i.addEventListener("testPassiveListener",null,t)}catch(n){}return n}(),gestures:"ongesturestart"in i},l=function(n){void 0===n&&(n={});var t=this;t.params=n;t.eventsListeners={};t.params&&t.params.on&&Object.keys(t.params.on).forEach(function(n){t.on(n,t.params.on[n])})},ni={components:{configurable:!0}};l.prototype.on=function(n,t,i){var r=this,u;return"function"!=typeof t?r:(u=i?"unshift":"push",n.split(" ").forEach(function(n){r.eventsListeners[n]||(r.eventsListeners[n]=[]);r.eventsListeners[n][u](t)}),r)};l.prototype.once=function(n,t,i){function r(){for(var f=[],i=arguments.length;i--;)f[i]=arguments[i];u.off(n,r);r.f7proxy&&delete r.f7proxy;t.apply(u,f)}var u=this;return"function"!=typeof t?u:(r.f7proxy=t,u.on(n,r,i))};l.prototype.off=function(n,t){var i=this;return i.eventsListeners?(n.split(" ").forEach(function(n){void 0===t?i.eventsListeners[n]=[]:i.eventsListeners[n]&&i.eventsListeners[n].length&&i.eventsListeners[n].forEach(function(r,u){(r===t||r.f7proxy&&r.f7proxy===t)&&i.eventsListeners[n].splice(u,1)})}),i):i};l.prototype.emit=function(){for(var i,u,f,t,e,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this,!t.eventsListeners)?t:("string"==typeof n[0]||Array.isArray(n[0])?(i=n[0],u=n.slice(1,n.length),f=t):(i=n[0].events,u=n[0].data,f=n[0].context||t),e=Array.isArray(i)?i:i.split(" "),e.forEach(function(n){if(t.eventsListeners&&t.eventsListeners[n]){var i=[];t.eventsListeners[n].forEach(function(n){i.push(n)});i.forEach(function(n){n.apply(f,u)})}}),t)};l.prototype.useModulesParams=function(t){var i=this;i.modules&&Object.keys(i.modules).forEach(function(r){var u=i.modules[r];u.params&&n.extend(t,u.params)})};l.prototype.useModules=function(n){void 0===n&&(n={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i],u=n[i]||{};r.instance&&Object.keys(r.instance).forEach(function(n){var i=r.instance[n];t[n]="function"==typeof i?i.bind(t):i});r.on&&t.on&&Object.keys(r.on).forEach(function(n){t.on(n,r.on[n])});r.create&&r.create.bind(t)(u)})};ni.components.set=function(n){this.use&&this.use(n)};l.installModule=function(t){for(var i,f,u=[],r=arguments.length-1;r-->0;)u[r]=arguments[r+1];return i=this,i.prototype.modules||(i.prototype.modules={}),f=t.name||Object.keys(i.prototype.modules).length+"_"+n.now(),i.prototype.modules[f]=t,t.proto&&Object.keys(t.proto).forEach(function(n){i.prototype[n]=t.proto[n]}),t.static&&Object.keys(t.static).forEach(function(n){i[n]=t.static[n]}),t.install&&t.install.apply(i,u),i};l.use=function(n){for(var t,r=[],i=arguments.length-1;i-->0;)r[i]=arguments[i+1];return t=this,Array.isArray(n)?(n.forEach(function(n){return t.installModule(n)}),t):t.installModule.apply(t,[n].concat(r))};Object.defineProperties(l,ni);var li={updateSize:function(){var t,i,r=this.$el;t=void 0!==this.params.width?this.params.width:r[0].clientWidth;i=void 0!==this.params.height?this.params.height:r[0].clientHeight;0===t&&this.isHorizontal()||0===i&&this.isVertical()||(t=t-parseInt(r.css("padding-left"),10)-parseInt(r.css("padding-right"),10),i=i-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10),n.extend(this,{width:t,height:i,size:this.isHorizontal()?t:i}))},updateSlides:function(){function lt(n){return!t.cssMode||n!==o.length-1}var t=this.params,p=this.$wrapperEl,c=this.size,ct=this.rtlTranslate,ci=this.wrongRTL,kt=this.virtual&&t.virtual.enabled,li=kt?this.virtual.slides.length:this.slides.length,o=p.children("."+this.params.slideClass),a=kt?this.virtual.slides.length:o.length,r=[],w=[],rt=[],ut=t.slidesOffsetBefore,nt,b,f,h,tt,ot,it,st,pt,wt,ht,bt;"function"==typeof ut&&(ut=t.slidesOffsetBefore.call(this));nt=t.slidesOffsetAfter;"function"==typeof nt&&(nt=t.slidesOffsetAfter.call(this));var ai=this.snapGrid.length,vi=this.snapGrid.length,s=t.spaceBetween,u=-ut,at=0,ft=0;if(void 0!==c){"string"==typeof s&&s.indexOf("%")>=0&&(s=parseFloat(s.replace("%",""))/100*c);this.virtualSize=-s;ct?o.css({marginLeft:"",marginTop:""}):o.css({marginRight:"",marginBottom:""});t.slidesPerColumn>1&&(b=Math.floor(a/t.slidesPerColumn)===a/this.params.slidesPerColumn?a:Math.ceil(a/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(b=Math.max(b,t.slidesPerView*t.slidesPerColumn)));for(var k,v=t.slidesPerColumn,dt=b/v,gt=Math.floor(a/t.slidesPerColumn),e=0;e<a;e+=1){if(f=0,h=o.eq(e),t.slidesPerColumn>1){var d=void 0,g=void 0,y=void 0;if("row"===t.slidesPerColumnFill&&t.slidesPerGroup>1){var et=Math.floor(e/(t.slidesPerGroup*t.slidesPerColumn)),ni=e-t.slidesPerColumn*t.slidesPerGroup*et,ti=0===et?t.slidesPerGroup:Math.min(Math.ceil((a-et*v*t.slidesPerGroup)/v),t.slidesPerGroup);d=(g=ni-(y=Math.floor(ni/ti))*ti+et*t.slidesPerGroup)+y*b/v;h.css({"-webkit-box-ordinal-group":d,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})}else"column"===t.slidesPerColumnFill?(y=e-(g=Math.floor(e/v))*v,(g>gt||g===gt&&y===v-1)&&(y+=1)>=v&&(y=0,g+=1)):g=e-(y=Math.floor(e/dt))*dt;h.css("margin-"+(this.isHorizontal()?"top":"left"),0!==y&&t.spaceBetween&&t.spaceBetween+"px")}if("none"!==h.css("display")){if("auto"===t.slidesPerView){var l=i.getComputedStyle(h[0],null),vt=h[0].style.transform,yt=h[0].style.webkitTransform;if(vt&&(h[0].style.transform="none"),yt&&(h[0].style.webkitTransform="none"),t.roundLengths)f=this.isHorizontal()?h.outerWidth(!0):h.outerHeight(!0);else if(this.isHorizontal()){var ii=parseFloat(l.getPropertyValue("width")),yi=parseFloat(l.getPropertyValue("padding-left")),pi=parseFloat(l.getPropertyValue("padding-right")),ri=parseFloat(l.getPropertyValue("margin-left")),ui=parseFloat(l.getPropertyValue("margin-right")),fi=l.getPropertyValue("box-sizing");f=fi&&"border-box"===fi?ii+ri+ui:ii+yi+pi+ri+ui}else{var ei=parseFloat(l.getPropertyValue("height")),wi=parseFloat(l.getPropertyValue("padding-top")),bi=parseFloat(l.getPropertyValue("padding-bottom")),oi=parseFloat(l.getPropertyValue("margin-top")),si=parseFloat(l.getPropertyValue("margin-bottom")),hi=l.getPropertyValue("box-sizing");f=hi&&"border-box"===hi?ei+oi+si:ei+wi+bi+oi+si}vt&&(h[0].style.transform=vt);yt&&(h[0].style.webkitTransform=yt);t.roundLengths&&(f=Math.floor(f))}else f=(c-(t.slidesPerView-1)*s)/t.slidesPerView,t.roundLengths&&(f=Math.floor(f)),o[e]&&(this.isHorizontal()?o[e].style.width=f+"px":o[e].style.height=f+"px");o[e]&&(o[e].swiperSlideSize=f);rt.push(f);t.centeredSlides?(u=u+f/2+at/2+s,0===at&&0!==e&&(u=u-c/2-s),0===e&&(u=u-c/2-s),Math.abs(u)<.001&&(u=0),t.roundLengths&&(u=Math.floor(u)),ft%t.slidesPerGroup==0&&r.push(u),w.push(u)):(t.roundLengths&&(u=Math.floor(u)),(ft-Math.min(this.params.slidesPerGroupSkip,ft))%this.params.slidesPerGroup==0&&r.push(u),w.push(u),u=u+f+s);this.virtualSize+=f+s;at=f;ft+=1}}if(this.virtualSize=Math.max(this.virtualSize,c)+nt,ct&&ci&&("slide"===t.effect||"coverflow"===t.effect)&&p.css({width:this.virtualSize+t.spaceBetween+"px"}),t.setWrapperSize&&(this.isHorizontal()?p.css({width:this.virtualSize+t.spaceBetween+"px"}):p.css({height:this.virtualSize+t.spaceBetween+"px"})),t.slidesPerColumn>1&&(this.virtualSize=(f+t.spaceBetween)*b,this.virtualSize=Math.ceil(this.virtualSize/t.slidesPerColumn)-t.spaceBetween,this.isHorizontal()?p.css({width:this.virtualSize+t.spaceBetween+"px"}):p.css({height:this.virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){for(k=[],tt=0;tt<r.length;tt+=1)ot=r[tt],t.roundLengths&&(ot=Math.floor(ot)),r[tt]<this.virtualSize+r[0]&&k.push(ot);r=k}if(!t.centeredSlides){for(k=[],it=0;it<r.length;it+=1)st=r[it],t.roundLengths&&(st=Math.floor(st)),r[it]<=this.virtualSize-c&&k.push(st);r=k;Math.floor(this.virtualSize-c)-Math.floor(r[r.length-1])>1&&r.push(this.virtualSize-c)}(0===r.length&&(r=[0]),0!==t.spaceBetween&&(this.isHorizontal()?ct?o.filter(lt).css({marginLeft:s+"px"}):o.filter(lt).css({marginRight:s+"px"}):o.filter(lt).css({marginBottom:s+"px"})),t.centeredSlides&&t.centeredSlidesBounds)&&(pt=0,rt.forEach(function(n){pt+=n+(t.spaceBetween?t.spaceBetween:0)}),wt=(pt-=t.spaceBetween)-c,r=r.map(function(n){return n<0?-ut:n>wt?wt+nt:n}));t.centerInsufficientSlides&&(ht=0,(rt.forEach(function(n){ht+=n+(t.spaceBetween?t.spaceBetween:0)}),(ht-=t.spaceBetween)<c)&&(bt=(c-ht)/2,r.forEach(function(n,t){r[t]=n-bt}),w.forEach(function(n,t){w[t]=n+bt})));n.extend(this,{slides:o,snapGrid:r,slidesGrid:w,slidesSizesGrid:rt});a!==li&&this.emit("slidesLengthChange");r.length!==ai&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange"));w.length!==vi&&this.emit("slidesGridLengthChange");(t.watchSlidesProgress||t.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(n){var t,i=[],r=0,u,f;if("number"==typeof n?this.setTransition(n):!0===n&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)if(this.params.centeredSlides)this.visibleSlides.each(function(n,t){i.push(t)});else for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){if(u=this.activeIndex+t,u>this.slides.length)break;i.push(this.slides.eq(u)[0])}else i.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<i.length;t+=1)void 0!==i[t]&&(f=i[t].offsetHeight,r=f>r?f:r);r&&this.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var t=this.slides,n=0;n<t.length;n+=1)t[n].swiperSlideOffset=this.isHorizontal()?t[n].offsetLeft:t[n].offsetTop},updateSlidesProgress:function(n){var o,r,f,h,e,s;void 0===n&&(n=this&&this.translate||0);var i=this.params,u=this.slides,c=this.rtlTranslate;if(0!==u.length){for(void 0===u[0].swiperSlideOffset&&this.updateSlidesOffset(),o=-n,c&&(o=n),u.removeClass(i.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[],r=0;r<u.length;r+=1)f=u[r],h=(o+(i.centeredSlides?this.minTranslate():0)-f.swiperSlideOffset)/(f.swiperSlideSize+i.spaceBetween),(i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&(e=-(o-f.swiperSlideOffset),s=e+this.slidesSizesGrid[r],(e>=0&&e<this.size-1||s>1&&s<=this.size||e<=0&&s>=this.size)&&(this.visibleSlides.push(f),this.visibleSlidesIndexes.push(r),u.eq(r).addClass(i.slideVisibleClass))),f.progress=c?-h:h;this.visibleSlides=t(this.visibleSlides)}},updateProgress:function(t){var e;void 0===t&&(e=this.rtlTranslate?-1:1,t=this&&this.translate&&this.translate*e||0);var f=this.params,o=this.maxTranslate()-this.minTranslate(),u=this.progress,i=this.isBeginning,r=this.isEnd,s=i,h=r;0===o?(u=0,i=!0,r=!0):(i=(u=(t-this.minTranslate())/o)<=0,r=u>=1);n.extend(this,{progress:u,isBeginning:i,isEnd:r});(f.watchSlidesProgress||f.watchSlidesVisibility||f.centeredSlides&&f.autoHeight)&&this.updateSlidesProgress(t);i&&!s&&this.emit("reachBeginning toEdge");r&&!h&&this.emit("reachEnd toEdge");(s&&!i||h&&!r)&&this.emit("fromEdge");this.emit("progress",u)},updateSlidesClasses:function(){var u,f=this.slides,n=this.params,t=this.$wrapperEl,e=this.activeIndex,o=this.realIndex,s=this.virtual&&n.virtual.enabled,i,r;f.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass);(u=s?this.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]'):f.eq(e)).addClass(n.slideActiveClass);n.loop&&(u.hasClass(n.slideDuplicateClass)?t.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass):t.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass));i=u.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===i.length&&(i=f.eq(0)).addClass(n.slideNextClass);r=u.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===r.length&&(r=f.eq(-1)).addClass(n.slidePrevClass);n.loop&&(i.hasClass(n.slideDuplicateClass)?t.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):t.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),r.hasClass(n.slideDuplicateClass)?t.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):t.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass))},updateActiveIndex:function(t){var f,e=this.rtlTranslate?this.translate:-this.translate,u=this.slidesGrid,o=this.snapGrid,s=this.params,l=this.activeIndex,a=this.realIndex,v=this.snapIndex,r=t,i,h,c;if(void 0===r){for(i=0;i<u.length;i+=1)void 0!==u[i+1]?e>=u[i]&&e<u[i+1]-(u[i+1]-u[i])/2?r=i:e>=u[i]&&e<u[i+1]&&(r=i+1):e>=u[i]&&(r=i);s.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0)}o.indexOf(e)>=0?f=o.indexOf(e):(h=Math.min(s.slidesPerGroupSkip,r),f=h+Math.floor((r-h)/s.slidesPerGroup));(f>=o.length&&(f=o.length-1),r!==l)?(c=parseInt(this.slides.eq(r).attr("data-swiper-slide-index")||r,10),n.extend(this,{snapIndex:f,realIndex:c,previousIndex:l,activeIndex:r}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),a!==c&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")):f!==v&&(this.snapIndex=f,this.emit("snapIndexChange"))},updateClickedSlide:function(n){var u=this.params,i=t(n.target).closest("."+u.slideClass)[0],f=!1,r;if(i)for(r=0;r<this.slides.length;r+=1)this.slides[r]===i&&(f=!0);if(!i||!f)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=i;this.clickedIndex=this.virtual&&this.params.virtual.enabled?parseInt(t(i).attr("data-swiper-slide-index"),10):t(i).index();u.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},ai={getTranslate:function(t){var i;void 0===t&&(t=this.isHorizontal()?"x":"y");var u=this.params,f=this.rtlTranslate,r=this.translate,e=this.$wrapperEl;return u.virtualTranslate?f?-r:r:u.cssMode?r:(i=n.getTranslate(e[0],t),f&&(i=-i),i||0)},setTranslate:function(n,t){var e=this.rtlTranslate,u=this.params,o=this.$wrapperEl,s=this.wrapperEl,h=this.progress,i=0,r=0,f;this.isHorizontal()?i=e?-n:n:r=n;u.roundLengths&&(i=Math.floor(i),r=Math.floor(r));u.cssMode?s[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-i:-r:u.virtualTranslate||o.transform("translate3d("+i+"px, "+r+"px, 0px)");this.previousTranslate=this.translate;this.translate=this.isHorizontal()?i:r;f=this.maxTranslate()-this.minTranslate();(0===f?0:(n-this.minTranslate())/f)!==h&&this.updateProgress(n);this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(n,t,i,r,u){var h,e,c,l,s;void 0===n&&(n=0);void 0===t&&(t=this.params.speed);void 0===i&&(i=!0);void 0===r&&(r=!0);var f=this,a=f.params,o=f.wrapperEl;return f.animating&&a.preventInteractionOnTransition?!1:(c=f.minTranslate(),l=f.maxTranslate(),e=r&&n>c?c:r&&n<l?l:n,f.updateProgress(e),a.cssMode)?(s=f.isHorizontal(),0===t?o[s?"scrollLeft":"scrollTop"]=-e:o.scrollTo?o.scrollTo(((h={})[s?"left":"top"]=-e,h.behavior="smooth",h)):o[s?"scrollLeft":"scrollTop"]=-e,!0):(0===t?(f.setTransition(0),f.setTranslate(e),i&&(f.emit("beforeTransitionStart",t,u),f.emit("transitionEnd"))):(f.setTransition(t),f.setTranslate(e),i&&(f.emit("beforeTransitionStart",t,u),f.emit("transitionStart")),f.animating||(f.animating=!0,f.onTranslateToWrapperTransitionEnd||(f.onTranslateToWrapperTransitionEnd=function(n){f&&!f.destroyed&&n.target===this&&(f.$wrapperEl[0].removeEventListener("transitionend",f.onTranslateToWrapperTransitionEnd),f.$wrapperEl[0].removeEventListener("webkitTransitionEnd",f.onTranslateToWrapperTransitionEnd),f.onTranslateToWrapperTransitionEnd=null,delete f.onTranslateToWrapperTransitionEnd,i&&f.emit("transitionEnd"))}),f.$wrapperEl[0].addEventListener("transitionend",f.onTranslateToWrapperTransitionEnd),f.$wrapperEl[0].addEventListener("webkitTransitionEnd",f.onTranslateToWrapperTransitionEnd))),!0)}},vi={setTransition:function(n,t){this.params.cssMode||this.$wrapperEl.transition(n);this.emit("setTransition",n,t)},transitionStart:function(n,t){var i;void 0===n&&(n=!0);var r=this.activeIndex,f=this.params,u=this.previousIndex;if(!f.cssMode&&(f.autoHeight&&this.updateAutoHeight(),i=t,i||(i=r>u?"next":r<u?"prev":"reset"),this.emit("transitionStart"),n&&r!==u)){if("reset"===i)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart");"next"===i?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(n,t){var i;void 0===n&&(n=!0);var r=this.activeIndex,u=this.previousIndex,f=this.params;if((this.animating=!1,!f.cssMode)&&(this.setTransition(0),i=t,i||(i=r>u?"next":r<u?"prev":"reset"),this.emit("transitionEnd"),n&&r!==u)){if("reset"===i)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd");"next"===i?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},yi={slideTo:function(n,t,i,r){var p,u,f,k,v,o,e,a,y,c;void 0===n&&(n=0);void 0===t&&(t=this.params.speed);void 0===i&&(i=!0);u=this;f=n;f<0&&(f=0);var s=u.params,w=u.snapGrid,d=u.slidesGrid,g=u.previousIndex,l=u.activeIndex,b=u.rtlTranslate,h=u.wrapperEl;if(u.animating&&s.preventInteractionOnTransition)return!1;if(k=Math.min(u.params.slidesPerGroupSkip,f),v=k+Math.floor((f-k)/u.params.slidesPerGroup),v>=w.length&&(v=w.length-1),(l||s.initialSlide||0)===(g||0)&&i&&u.emit("beforeSlideChangeStart"),e=-w[v],u.updateProgress(e),s.normalizeSlideIndex)for(a=0;a<d.length;a+=1)-Math.floor(100*e)>=Math.floor(100*d[a])&&(f=a);return u.initialized&&f!==l&&(!u.allowSlideNext&&e<u.translate&&e<u.minTranslate()||!u.allowSlidePrev&&e>u.translate&&e>u.maxTranslate()&&(l||0)!==f)?!1:(o=f>l?"next":f<l?"prev":"reset",b&&-e===u.translate||!b&&e===u.translate)?(u.updateActiveIndex(f),s.autoHeight&&u.updateAutoHeight(),u.updateSlidesClasses(),"slide"!==s.effect&&u.setTranslate(e),"reset"!==o&&(u.transitionStart(i,o),u.transitionEnd(i,o)),!1):s.cssMode?(y=u.isHorizontal(),c=-e,b&&(c=h.scrollWidth-h.offsetWidth-c),0===t?h[y?"scrollLeft":"scrollTop"]=c:h.scrollTo?h.scrollTo(((p={})[y?"left":"top"]=c,p.behavior="smooth",p)):h[y?"scrollLeft":"scrollTop"]=c,!0):(0===t?(u.setTransition(0),u.setTranslate(e),u.updateActiveIndex(f),u.updateSlidesClasses(),u.emit("beforeTransitionStart",t,r),u.transitionStart(i,o),u.transitionEnd(i,o)):(u.setTransition(t),u.setTranslate(e),u.updateActiveIndex(f),u.updateSlidesClasses(),u.emit("beforeTransitionStart",t,r),u.transitionStart(i,o),u.animating||(u.animating=!0,u.onSlideToWrapperTransitionEnd||(u.onSlideToWrapperTransitionEnd=function(n){u&&!u.destroyed&&n.target===this&&(u.$wrapperEl[0].removeEventListener("transitionend",u.onSlideToWrapperTransitionEnd),u.$wrapperEl[0].removeEventListener("webkitTransitionEnd",u.onSlideToWrapperTransitionEnd),u.onSlideToWrapperTransitionEnd=null,delete u.onSlideToWrapperTransitionEnd,u.transitionEnd(i,o))}),u.$wrapperEl[0].addEventListener("transitionend",u.onSlideToWrapperTransitionEnd),u.$wrapperEl[0].addEventListener("webkitTransitionEnd",u.onSlideToWrapperTransitionEnd))),!0)},slideToLoop:function(n,t,i,r){void 0===n&&(n=0);void 0===t&&(t=this.params.speed);void 0===i&&(i=!0);var u=n;return this.params.loop&&(u+=this.loopedSlides),this.slideTo(u,t,i,r)},slideNext:function(n,t,i){void 0===n&&(n=this.params.speed);void 0===t&&(t=!0);var r=this.params,u=this.animating,f=this.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(u)return!1;this.loopFix();this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+f,n,t,i)},slidePrev:function(n,t,i){function f(n){return n<0?-Math.floor(Math.abs(n)):Math.floor(n)}void 0===n&&(n=this.params.speed);void 0===t&&(t=!0);var s=this.params,l=this.animating,u=this.snapGrid,h=this.slidesGrid,a=this.rtlTranslate;if(s.loop){if(l)return!1;this.loopFix();this._clientLeft=this.$wrapperEl[0].clientLeft}var e,o=f(a?this.translate:-this.translate),c=u.map(function(n){return f(n)}),r=(h.map(function(n){return f(n)}),u[c.indexOf(o)],u[c.indexOf(o)-1]);return void 0===r&&s.cssMode&&u.forEach(function(n){!r&&o>=n&&(r=n)}),void 0!==r&&(e=h.indexOf(r))<0&&(e=this.activeIndex-1),this.slideTo(e,n,t,i)},slideReset:function(n,t,i){return void 0===n&&(n=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,n,t,i)},slideToClosest:function(n,t,i,r){var o,s;void 0===n&&(n=this.params.speed);void 0===t&&(t=!0);void 0===r&&(r=.5);var u=this.activeIndex,h=Math.min(this.params.slidesPerGroupSkip,u),f=h+Math.floor((u-h)/this.params.slidesPerGroup),e=this.rtlTranslate?this.translate:-this.translate;return e>=this.snapGrid[f]?(o=this.snapGrid[f],e-o>(this.snapGrid[f+1]-o)*r&&(u+=this.params.slidesPerGroup)):(s=this.snapGrid[f-1],e-s<=(this.snapGrid[f]-s)*r&&(u-=this.params.slidesPerGroup)),u=Math.max(u,0),u=Math.min(u,this.slidesGrid.length-1),this.slideTo(u,n,t,i)},slideToClickedSlide:function(){var f,i=this,u=i.params,o=i.$wrapperEl,e="auto"===u.slidesPerView?i.slidesPerViewDynamic():u.slidesPerView,r=i.clickedIndex;if(u.loop){if(i.animating)return;f=parseInt(t(i.clickedSlide).attr("data-swiper-slide-index"),10);u.centeredSlides?r<i.loopedSlides-e/2||r>i.slides.length-i.loopedSlides+e/2?(i.loopFix(),r=o.children("."+u.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.'+u.slideDuplicateClass+")").eq(0).index(),n.nextTick(function(){i.slideTo(r)})):i.slideTo(r):r>i.slides.length-e?(i.loopFix(),r=o.children("."+u.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.'+u.slideDuplicateClass+")").eq(0).index(),n.nextTick(function(){i.slideTo(r)})):i.slideTo(r)}else i.slideTo(r)}},pi={loopCreate:function(){var u=this,n=u.params,f=u.$wrapperEl,i,c,l,a,e,o,s,h;if(f.children("."+n.slideClass+"."+n.slideDuplicateClass).remove(),i=f.children("."+n.slideClass),n.loopFillGroupWithBlank&&(c=n.slidesPerGroup-i.length%n.slidesPerGroup,c!==n.slidesPerGroup)){for(l=0;l<c;l+=1)a=t(r.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass),f.append(a);i=f.children("."+n.slideClass)}for("auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),u.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),u.loopedSlides+=n.loopAdditionalSlides,u.loopedSlides>i.length&&(u.loopedSlides=i.length),e=[],o=[],i.each(function(n,r){var f=t(r);n<u.loopedSlides&&o.push(r);n<i.length&&n>=i.length-u.loopedSlides&&e.push(r);f.attr("data-swiper-slide-index",n)}),s=0;s<o.length;s+=1)f.append(t(o[s].cloneNode(!0)).addClass(n.slideDuplicateClass));for(h=e.length-1;h>=0;h-=1)f.prepend(t(e[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var r;this.emit("beforeLoopFix");var n,i=this.activeIndex,u=this.slides,t=this.loopedSlides,e=this.allowSlidePrev,o=this.allowSlideNext,s=this.snapGrid,f=this.rtlTranslate;this.allowSlidePrev=!0;this.allowSlideNext=!0;r=-s[i]-this.getTranslate();i<t?(n=u.length-3*t+i,n+=t,this.slideTo(n,0,!1,!0)&&0!==r&&this.setTranslate((f?-this.translate:this.translate)-r)):i>=u.length-t&&(n=-u.length+i+t,n+=t,this.slideTo(n,0,!1,!0)&&0!==r&&this.setTranslate((f?-this.translate:this.translate)-r));this.allowSlidePrev=e;this.allowSlideNext=o;this.emit("loopFix")},loopDestroy:function(){var t=this.$wrapperEl,n=this.params,i=this.slides;t.children("."+n.slideClass+"."+n.slideDuplicateClass+",."+n.slideClass+"."+n.slideBlankClass).remove();i.removeAttr("data-swiper-slide-index")}},wi={setGrabCursor:function(n){if(!(u.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t=this.el;t.style.cursor="move";t.style.cursor=n?"-webkit-grabbing":"-webkit-grab";t.style.cursor=n?"-moz-grabbin":"-moz-grab";t.style.cursor=n?"grabbing":"grab"}},unsetGrabCursor:function(){u.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},ht,o,f,b,k,ct,y,p,d,ti,ii,ri,lt,at,tt,bi={appendSlide:function(n){var r=this.$wrapperEl,i=this.params,t;if(i.loop&&this.loopDestroy(),"object"==typeof n&&"length"in n)for(t=0;t<n.length;t+=1)n[t]&&r.append(n[t]);else r.append(n);i.loop&&this.loopCreate();i.observer&&u.observer||this.update()},prependSlide:function(n){var i=this.params,f=this.$wrapperEl,e=this.activeIndex,r,t;if(i.loop&&this.loopDestroy(),r=e+1,"object"==typeof n&&"length"in n){for(t=0;t<n.length;t+=1)n[t]&&f.prepend(n[t]);r=e+n.length}else f.prepend(n);i.loop&&this.loopCreate();i.observer&&u.observer||this.update();this.slideTo(r,0,!1)},addSlide:function(n,t){var e=this.$wrapperEl,r=this.params,i=this.activeIndex,s,a,f,o;if(r.loop&&(i-=this.loopedSlides,this.loopDestroy(),this.slides=e.children("."+r.slideClass)),s=this.slides.length,n<=0)this.prependSlide(t);else if(n>=s)this.appendSlide(t);else{for(var h=i>n?i+1:i,c=[],l=s-1;l>=n;l-=1)a=this.slides.eq(l),a.remove(),c.unshift(a);if("object"==typeof t&&"length"in t){for(f=0;f<t.length;f+=1)t[f]&&e.append(t[f]);h=i>n?i+t.length:i}else e.append(t);for(o=0;o<c.length;o+=1)e.append(c[o]);r.loop&&this.loopCreate();r.observer&&u.observer||this.update();r.loop?this.slideTo(h+this.loopedSlides,0,!1):this.slideTo(h,0,!1)}},removeSlide:function(n){var r=this.params,o=this.$wrapperEl,e=this.activeIndex,i,t,f;if(r.loop&&(e-=this.loopedSlides,this.loopDestroy(),this.slides=o.children("."+r.slideClass)),t=e,"object"==typeof n&&"length"in n){for(f=0;f<n.length;f+=1)i=n[f],this.slides[i]&&this.slides.eq(i).remove(),i<t&&(t-=1);t=Math.max(t,0)}else i=n,this.slides[i]&&this.slides.eq(i).remove(),i<t&&(t-=1),t=Math.max(t,0);r.loop&&this.loopCreate();r.observer&&u.observer||this.update();r.loop?this.slideTo(t+this.loopedSlides,0,!1):this.slideTo(t,0,!1)},removeAllSlides:function(){for(var t=[],n=0;n<this.slides.length;n+=1)t.push(n);this.removeSlide(t)}},s=(ht=i.navigator.platform,o=i.navigator.userAgent,f={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!i.cordova&&!i.phonegap),phonegap:!(!i.cordova&&!i.phonegap),electron:!1},b=i.screen.width,k=i.screen.height,ct=o.match(/(Android);?[\s\/]+([\d.]+)?/),y=o.match(/(iPad).*OS\s([\d_]+)/),p=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),ti=o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0,ii=o.indexOf("Edge/")>=0,ri=o.indexOf("Gecko/")>=0&&o.indexOf("Firefox/")>=0,lt="Win32"===ht,at=o.toLowerCase().indexOf("electron")>=0,tt="MacIntel"===ht,!y&&tt&&u.touch&&(1024===b&&1366===k||834===b&&1194===k||834===b&&1112===k||768===b&&1024===k)&&(y=o.match(/(Version)\/([\d.]+)/),tt=!1),f.ie=ti,f.edge=ii,f.firefox=ri,ct&&!lt&&(f.os="android",f.osVersion=ct[2],f.android=!0,f.androidChrome=o.toLowerCase().indexOf("chrome")>=0),(y||d||p)&&(f.os="ios",f.ios=!0),d&&!p&&(f.osVersion=d[2].replace(/_/g,"."),f.iphone=!0),y&&(f.osVersion=y[2].replace(/_/g,"."),f.ipad=!0),p&&(f.osVersion=p[3]?p[3].replace(/_/g,"."):null,f.ipod=!0),f.ios&&f.osVersion&&o.indexOf("Version/")>=0&&"10"===f.osVersion.split(".")[0]&&(f.osVersion=o.toLowerCase().split("version/")[1].split(" ")[0]),f.webView=!(!(d||y||p)||!o.match(/.*AppleWebKit(?!.*Safari)/i)&&!i.navigator.standalone)||i.matchMedia&&i.matchMedia("(display-mode: standalone)").matches,f.webview=f.webView,f.standalone=f.webView,f.desktop=!(f.ios||f.android)||at,f.desktop&&(f.electron=at,f.macos=tt,f.windows=lt,f.macos&&(f.os="macos"),f.windows&&(f.os="windows")),f.pixelRatio=i.devicePixelRatio||1,f);yt=!1;var ui={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},pt={update:li,translate:ai,transition:vi,slide:yi,loop:pi,grabCursor:wi,manipulation:bi,events:{attachEvents:function(){var n=this.params,t=this.touchEvents,i=this.el,o=this.wrapperEl,f,e;this.onTouchStart=ki.bind(this);this.onTouchMove=di.bind(this);this.onTouchEnd=gi.bind(this);n.cssMode&&(this.onScroll=tr.bind(this));this.onClick=nr.bind(this);f=!!n.nested;!u.touch&&u.pointerEvents?(i.addEventListener(t.start,this.onTouchStart,!1),r.addEventListener(t.move,this.onTouchMove,f),r.addEventListener(t.end,this.onTouchEnd,!1)):(u.touch&&(e=!("touchstart"!==t.start||!u.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1},i.addEventListener(t.start,this.onTouchStart,e),i.addEventListener(t.move,this.onTouchMove,u.passiveListener?{passive:!1,capture:f}:f),i.addEventListener(t.end,this.onTouchEnd,e),t.cancel&&i.addEventListener(t.cancel,this.onTouchEnd,e),yt||(r.addEventListener("touchstart",ir),yt=!0)),(n.simulateTouch&&!s.ios&&!s.android||n.simulateTouch&&!u.touch&&s.ios)&&(i.addEventListener("mousedown",this.onTouchStart,!1),r.addEventListener("mousemove",this.onTouchMove,f),r.addEventListener("mouseup",this.onTouchEnd,!1)));(n.preventClicks||n.preventClicksPropagation)&&i.addEventListener("click",this.onClick,!0);n.cssMode&&o.addEventListener("scroll",this.onScroll);n.updateOnWindowResize?this.on(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",vt,!0):this.on("observerUpdate",vt,!0)},detachEvents:function(){var t=this.params,n=this.touchEvents,i=this.el,o=this.wrapperEl,e=!!t.nested,f;!u.touch&&u.pointerEvents?(i.removeEventListener(n.start,this.onTouchStart,!1),r.removeEventListener(n.move,this.onTouchMove,e),r.removeEventListener(n.end,this.onTouchEnd,!1)):(u.touch&&(f=!("onTouchStart"!==n.start||!u.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1},i.removeEventListener(n.start,this.onTouchStart,f),i.removeEventListener(n.move,this.onTouchMove,e),i.removeEventListener(n.end,this.onTouchEnd,f),n.cancel&&i.removeEventListener(n.cancel,this.onTouchEnd,f)),(t.simulateTouch&&!s.ios&&!s.android||t.simulateTouch&&!u.touch&&s.ios)&&(i.removeEventListener("mousedown",this.onTouchStart,!1),r.removeEventListener("mousemove",this.onTouchMove,e),r.removeEventListener("mouseup",this.onTouchEnd,!1)));(t.preventClicks||t.preventClicksPropagation)&&i.removeEventListener("click",this.onClick,!0);t.cssMode&&o.removeEventListener("scroll",this.onScroll);this.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",vt)}},breakpoints:{setBreakpoint:function(){var v=this.activeIndex,h=this.initialized,e=this.loopedSlides,u,f,s,a;void 0===e&&(e=0);var t=this.params,o=this.$el,r=t.breakpoints;if(r&&(!r||0!==Object.keys(r).length)&&(u=this.getBreakpoint(r),u&&this.currentBreakpoint!==u)){f=u in r?r[u]:void 0;f&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(n){var t=f[n];void 0!==t&&(f[n]="slidesPerView"!==n||"AUTO"!==t&&"auto"!==t?"slidesPerView"===n?parseFloat(t):parseInt(t,10):"auto")});var i=f||this.originalParams,c=t.slidesPerColumn>1,l=i.slidesPerColumn>1;c&&!l?o.removeClass(t.containerModifierClass+"multirow "+t.containerModifierClass+"multirow-column"):!c&&l&&(o.addClass(t.containerModifierClass+"multirow"),"column"===i.slidesPerColumnFill&&o.addClass(t.containerModifierClass+"multirow-column"));s=i.direction&&i.direction!==t.direction;a=t.loop&&(i.slidesPerView!==t.slidesPerView||s);s&&h&&this.changeDirection();n.extend(this.params,i);n.extend(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev});this.currentBreakpoint=u;a&&h&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(v-e+this.loopedSlides,0,!1));this.emit("breakpoint",i)}},getBreakpoint:function(n){var u,t,r,f,e;if(n){for(u=!1,t=Object.keys(n).map(function(n){if("string"==typeof n&&0===n.indexOf("@")){var t=parseFloat(n.substr(1));return{value:i.innerHeight*t,point:n}}return{value:n,point:n}}),t.sort(function(n,t){return parseInt(n.value,10)-parseInt(t.value,10)}),r=0;r<t.length;r+=1)f=t[r],e=f.point,f.value<=i.innerWidth&&(u=e);return u||"max"}}},checkOverflow:{checkOverflow:function(){var n=this.params,t=this.isLocked,i=this.slides.length>0&&n.slidesOffsetBefore+n.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;this.isLocked=n.slidesOffsetBefore&&n.slidesOffsetAfter&&i?i<=this.size:1===this.snapGrid.length;this.allowSlideNext=!this.isLocked;this.allowSlidePrev=!this.isLocked;t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock");t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){var i=this.classNames,t=this.params,r=this.rtl,u=this.$el,n=[];n.push("initialized");n.push(t.direction);t.freeMode&&n.push("free-mode");t.autoHeight&&n.push("autoheight");r&&n.push("rtl");t.slidesPerColumn>1&&(n.push("multirow"),"column"===t.slidesPerColumnFill&&n.push("multirow-column"));s.android&&n.push("android");s.ios&&n.push("ios");t.cssMode&&n.push("css-mode");n.forEach(function(n){i.push(t.containerModifierClass+n)});u.addClass(i.join(" "))},removeClasses:function(){var n=this.$el,t=this.classNames;n.removeClass(t.join(" "))}},images:{loadImage:function(n,t,r,u,f,e){function s(){e&&e()}var o;n.complete&&f?s():t?((o=new i.Image).onload=s,o.onerror=s,u&&(o.sizes=u),r&&(o.srcset=r),t&&(o.src=t)):s()},preloadImages:function(){function r(){null!=n&&n&&!n.destroyed&&(void 0!==n.imagesLoaded&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}var n=this,i,t;for(n.imagesToLoad=n.$el.find("img"),i=0;i<n.imagesToLoad.length;i+=1)t=n.imagesToLoad[i],n.loadImage(t,t.currentSrc||t.getAttribute("src"),t.srcset||t.getAttribute("srcset"),t.sizes||t.getAttribute("sizes"),!0,r)}}},wt={},c=function(i){function r(){for(var w,o,e,f,y,s,p,c,l,a,h=[],v=arguments.length;v--;)h[v]=arguments[v];return 1===h.length&&h[0].constructor&&h[0].constructor===Object?e=h[0]:(o=(w=h)[0],e=w[1]),e||(e={}),e=n.extend({},e),o&&!e.el&&(e.el=o),i.call(this,e),Object.keys(pt).forEach(function(n){Object.keys(pt[n]).forEach(function(t){r.prototype[t]||(r.prototype[t]=pt[n][t])})}),f=this,void 0===f.modules&&(f.modules={}),Object.keys(f.modules).forEach(function(n){var r=f.modules[n],t,i;if(r.params){if(t=Object.keys(r.params)[0],i=r.params[t],"object"!=typeof i||null===i)return;if(!(t in e)||!("enabled"in i))return;!0===e[t]&&(e[t]={enabled:!0});"object"!=typeof e[t]||"enabled"in e[t]||(e[t].enabled=!0);e[t]||(e[t]={enabled:!1})}}),y=n.extend({},ui),f.useModulesParams(y),f.params=n.extend({},y,wt,e),f.originalParams=n.extend({},f.params),f.passedParams=n.extend({},e),f.$=t,s=t(f.params.el),(o=s[0])?s.length>1?(p=[],s.each(function(t,i){var u=n.extend({},e,{el:i});p.push(new r(u))}),p):(o.swiper=f,s.data("swiper",f),o&&o.shadowRoot&&o.shadowRoot.querySelector?(c=t(o.shadowRoot.querySelector("."+f.params.wrapperClass))).children=function(n){return s.children(n)}:c=s.children("."+f.params.wrapperClass),n.extend(f,{$el:s,el:o,$wrapperEl:c,wrapperEl:c[0],classNames:[],slides:t(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===f.params.direction},isVertical:function(){return"vertical"===f.params.direction},rtl:"rtl"===o.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===f.params.direction&&("rtl"===o.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===c.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend","touchcancel"],a=["mousedown","mousemove","mouseup"],u.pointerEvents&&(a=["pointerdown","pointermove","pointerup"]),f.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},f.touchEventsDesktop={start:a[0],move:a[1],end:a[2]},u.touch||!f.params.simulateTouch?f.touchEventsTouch:f.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:n.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.useModules(),f.params.init&&f.init(),f):void 0}i&&(r.__proto__=i);r.prototype=Object.create(i&&i.prototype);r.prototype.constructor=r;var f={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return r.prototype.slidesPerViewDynamic=function(){var c=this.params,n=this.slides,h=this.slidesGrid,o=this.size,t=this.activeIndex,u=1,f,s,i,r,e;if(c.centeredSlides){for(s=n[t].swiperSlideSize,i=t+1;i<n.length;i+=1)n[i]&&!f&&(u+=1,(s+=n[i].swiperSlideSize)>o&&(f=!0));for(r=t-1;r>=0;r-=1)n[r]&&!f&&(u+=1,(s+=n[r].swiperSlideSize)>o&&(f=!0))}else for(e=t+1;e<n.length;e+=1)h[e]-h[t]<o&&(u+=1);return u},r.prototype.update=function(){function r(){var t=n.rtlTranslate?-1*n.translate:n.translate,i=Math.min(Math.max(t,n.maxTranslate()),n.minTranslate());n.setTranslate(i);n.updateActiveIndex();n.updateSlidesClasses()}var n=this,i,t;n&&!n.destroyed&&(i=n.snapGrid,t=n.params,t.breakpoints&&n.setBreakpoint(),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.params.freeMode?(r(),n.params.autoHeight&&n.updateAutoHeight()):(("auto"===n.params.slidesPerView||n.params.slidesPerView>1)&&n.isEnd&&!n.params.centeredSlides?n.slideTo(n.slides.length-1,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0))||r(),t.watchOverflow&&i!==n.snapGrid&&n.checkOverflow(),n.emit("update"))},r.prototype.changeDirection=function(n,t){void 0===t&&(t=!0);var i=this.params.direction;return n||(n="horizontal"===i?"vertical":"horizontal"),n===i||"horizontal"!==n&&"vertical"!==n||(this.$el.removeClass(""+this.params.containerModifierClass+i).addClass(""+this.params.containerModifierClass+n),this.params.direction=n,this.slides.each(function(t,i){"vertical"===n?i.style.width="":i.style.height=""}),this.emit("changeDirection"),t&&this.update()),this},r.prototype.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))},r.prototype.destroy=function(t,i){void 0===t&&(t=!0);void 0===i&&(i=!0);var r=this,u=r.params,e=r.$el,o=r.$wrapperEl,f=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),u.loop&&r.loopDestroy(),i&&(r.removeClasses(),e.removeAttr("style"),o.removeAttr("style"),f&&f.length&&f.removeClass([u.slideVisibleClass,u.slideActiveClass,u.slideNextClass,u.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(function(n){r.off(n)}),!1!==t&&(r.$el[0].swiper=null,r.$el.data("swiper",null),n.deleteProps(r)),r.destroyed=!0),null},r.extendDefaults=function(t){n.extend(wt,t)},f.extendedDefaults.get=function(){return wt},f.defaults.get=function(){return ui},f.Class.get=function(){return i},f.$.get=function(){return t},Object.defineProperties(r,f),r}(l),rr={name:"device",proto:{device:s},"static":{device:s}},ur={name:"support",proto:{support:u},"static":{support:u}},it={isEdge:!!i.navigator.userAgent.match(/Edge/g),isSafari:function(){var n=i.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)},fr={name:"browser",proto:{browser:it},"static":{browser:it}},er={name:"resize",create:function(){var t=this;n.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){i.addEventListener("resize",this.resize.resizeHandler);i.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){i.removeEventListener("resize",this.resize.resizeHandler);i.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},rt={func:i.MutationObserver||i.WebkitMutationObserver,attach:function(n,t){void 0===t&&(t={});var r=this,u=new rt.func(function(n){if(1!==n.length){var t=function(){r.emit("observerUpdate",n[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}else r.emit("observerUpdate",n[0])});u.observe(n,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData});r.observer.observers.push(u)},init:function(){if(u.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),n=0;n<t.length;n+=1)this.observer.attach(t[n]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren});this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(n){n.disconnect()});this.observer.observers=[]}},or={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){n.extend(this,{observer:{init:rt.init.bind(this),attach:rt.attach.bind(this),destroy:rt.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},w={update:function(t){function ut(){i.updateSlides();i.updateProgress();i.updateSlidesClasses();i.lazy&&i.params.lazy.enabled&&i.lazy.load()}var i=this,v=i.params,y=v.slidesPerView,c=v.slidesPerGroup,ft=v.centeredSlides,nt=i.params.virtual,tt=nt.addSlidesBefore,it=nt.addSlidesAfter,f=i.virtual,p=f.from,l=f.to,s=f.slides,et=f.slidesGrid,rt=f.renderSlide,ot=f.offset,w,b,k,d,g,a,o,r;i.updateActiveIndex();d=i.activeIndex||0;w=i.rtlTranslate?"right":i.isHorizontal()?"left":"top";ft?(b=Math.floor(y/2)+c+tt,k=Math.floor(y/2)+c+it):(b=y+(c-1)+tt,k=c+it);var u=Math.max((d||0)-k,0),e=Math.min((d||0)+b,s.length-1),h=(i.slidesGrid[u]||0)-(i.slidesGrid[0]||0);if(n.extend(i.virtual,{from:u,to:e,offset:h,slidesGrid:i.slidesGrid}),p===u&&l===e&&!t)return i.slidesGrid!==et&&h!==ot&&i.slides.css(w,h+"px"),void i.updateProgress();if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:h,from:u,to:e,slides:function(){for(var t=[],n=u;n<=e;n+=1)t.push(s[n]);return t}()}),void ut();if(g=[],a=[],t)i.$wrapperEl.find("."+i.params.slideClass).remove();else for(o=p;o<=l;o+=1)(o<u||o>e)&&i.$wrapperEl.find("."+i.params.slideClass+'[data-swiper-slide-index="'+o+'"]').remove();for(r=0;r<s.length;r+=1)r>=u&&r<=e&&(void 0===l||t?a.push(r):(r>l&&a.push(r),r<p&&g.push(r)));a.forEach(function(n){i.$wrapperEl.append(rt(s[n],n))});g.sort(function(n,t){return t-n}).forEach(function(n){i.$wrapperEl.prepend(rt(s[n],n))});i.$wrapperEl.children(".swiper-slide").css(w,h+"px");ut()},renderSlide:function(n,i){var u=this.params.virtual,r;return u.cache&&this.virtual.cache[i]?this.virtual.cache[i]:(r=u.renderSlide?t(u.renderSlide.call(this,n,i)):t('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+i+'">'+n+"<\/div>"),r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",i),u.cache&&(this.virtual.cache[i]=r),r)},appendSlide:function(n){if("object"==typeof n&&"length"in n)for(var t=0;t<n.length;t+=1)n[t]&&this.virtual.slides.push(n[t]);else this.virtual.slides.push(n);this.virtual.update(!0)},prependSlide:function(n){var u=this.activeIndex,f=u+1,e=1,t,i,r;if(Array.isArray(n)){for(t=0;t<n.length;t+=1)n[t]&&this.virtual.slides.unshift(n[t]);f=u+n.length;e=n.length}else this.virtual.slides.unshift(n);this.params.virtual.cache&&(i=this.virtual.cache,r={},Object.keys(i).forEach(function(n){var t=i[n],u=t.attr("data-swiper-slide-index");u&&t.attr("data-swiper-slide-index",parseInt(u,10)+1);r[parseInt(n,10)+e]=t}),this.virtual.cache=r);this.virtual.update(!0);this.slideTo(f,0)},removeSlide:function(n){var t,i;if(null!=n){if(t=this.activeIndex,Array.isArray(n))for(i=n.length-1;i>=0;i-=1)this.virtual.slides.splice(n[i],1),this.params.virtual.cache&&delete this.virtual.cache[n[i]],n[i]<t&&(t-=1),t=Math.max(t,0);else this.virtual.slides.splice(n,1),this.params.virtual.cache&&delete this.virtual.cache[n],n<t&&(t-=1),t=Math.max(t,0);this.virtual.update(!0);this.slideTo(t,0)}},removeAllSlides:function(){this.virtual.slides=[];this.params.virtual.cache&&(this.virtual.cache={});this.virtual.update(!0);this.slideTo(0,0)}},sr={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){n.extend(this,{virtual:{update:w.update.bind(this),appendSlide:w.appendSlide.bind(this),prependSlide:w.prependSlide.bind(this),removeSlide:w.removeSlide.bind(this),removeAllSlides:w.removeAllSlides.bind(this),renderSlide:w.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};n.extend(this.params,t);n.extend(this.originalParams,t);this.params.initialSlide||this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},bt={handle:function(n){var e=this.rtlTranslate,u=n,t,h,c,s,o;if((u.originalEvent&&(u=u.originalEvent),t=u.keyCode||u.charCode,!this.allowSlideNext&&(this.isHorizontal()&&39===t||this.isVertical()&&40===t||34===t))||!this.allowSlidePrev&&(this.isHorizontal()&&37===t||this.isVertical()&&38===t||33===t))return!1;if(!(u.shiftKey||u.altKey||u.ctrlKey||u.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(33===t||34===t||37===t||39===t||38===t||40===t)){if(h=!1,this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var l=i.innerWidth,a=i.innerHeight,f=this.$el.offset();for(e&&(f.left-=this.$el[0].scrollLeft),c=[[f.left,f.top],[f.left+this.width,f.top],[f.left,f.top+this.height],[f.left+this.width,f.top+this.height]],s=0;s<c.length;s+=1)o=c[s],o[0]>=0&&o[0]<=l&&o[1]>=0&&o[1]<=a&&(h=!0);if(!h)return}this.isHorizontal()?(33!==t&&34!==t&&37!==t&&39!==t||(u.preventDefault?u.preventDefault():u.returnValue=!1),(34!==t&&39!==t||e)&&(33!==t&&37!==t||!e)||this.slideNext(),(33!==t&&37!==t||e)&&(34!==t&&39!==t||!e)||this.slidePrev()):(33!==t&&34!==t&&38!==t&&40!==t||(u.preventDefault?u.preventDefault():u.returnValue=!1),34!==t&&40!==t||this.slideNext(),33!==t&&38!==t||this.slidePrev());this.emit("keyPress",t)}},enable:function(){this.keyboard.enabled||(t(r).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(t(r).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},hr={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){n.extend(this,{keyboard:{enabled:!1,enable:bt.enable.bind(this),disable:bt.disable.bind(this),handle:bt.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},a={lastScrollTime:n.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return i.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var n="onwheel"in r,t;return n||(t=r.createElement("div"),t.setAttribute("onwheel","return;"),n="function"==typeof t.onwheel),!n&&r.implementation&&r.implementation.hasFeature&&!0!==r.implementation.hasFeature("","")&&(n=r.implementation.hasFeature("Events.wheel","3.0")),n}()?"wheel":"mousewheel"},normalize:function(n){var u=0,r=0,t=0,i=0;return"detail"in n&&(r=n.detail),"wheelDelta"in n&&(r=-n.wheelDelta/120),"wheelDeltaY"in n&&(r=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(u=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(u=r,r=0),t=10*u,i=10*r,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(t=n.deltaX),n.shiftKey&&!t&&(t=i,i=0),(t||i)&&n.deltaMode&&(1===n.deltaMode?(t*=40,i*=40):(t*=800,i*=800)),t&&!u&&(u=t<1?-1:1),i&&!r&&(r=i<1?-1:1),{spinX:u,spinY:r,pixelX:t,pixelY:i}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(i){var o=i,r=this,v=r.params.mousewheel,b,f,p,k,nt,c,l,w;if(r.params.cssMode&&o.preventDefault(),b=r.$el,"container"!==r.params.mousewheel.eventsTarged&&(b=t(r.params.mousewheel.eventsTarged)),!r.mouseEntered&&!b[0].contains(o.target)&&!v.releaseOnEdges)return!0;o.originalEvent&&(o=o.originalEvent);var u=0,d=r.rtlTranslate?-1:1,s=a.normalize(o);if(v.forceToAxis)if(r.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY)))return!0;u=s.pixelX*d}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX)))return!0;u=s.pixelY}else u=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*d:-s.pixelY;if(0===u)return!0;if(v.invert&&(u=-u),r.params.freeMode){var e={time:n.now(),delta:Math.abs(u),direction:Math.sign(u)},y=r.mousewheel.lastEventBeforeSnap,g=y&&e.time<y.time+500&&e.delta<=y.delta&&e.direction===y.direction;if(!g){r.mousewheel.lastEventBeforeSnap=void 0;r.params.loop&&r.loopFix();var h=r.getTranslate()+u*v.sensitivity,tt=r.isBeginning,it=r.isEnd;if((h>=r.minTranslate()&&(h=r.minTranslate()),h<=r.maxTranslate()&&(h=r.maxTranslate()),r.setTransition(0),r.setTranslate(h),r.updateProgress(),r.updateActiveIndex(),r.updateSlidesClasses(),(!tt&&r.isBeginning||!it&&r.isEnd)&&r.updateSlidesClasses(),r.params.freeModeSticky)&&(clearTimeout(r.mousewheel.timeout),r.mousewheel.timeout=void 0,f=r.mousewheel.recentWheelEvents,f.length>=15&&f.shift(),p=f.length?f[f.length-1]:void 0,k=f[0],(f.push(e),p&&(e.delta>p.delta||e.direction!==p.direction))?f.splice(0):f.length>=15&&e.time-k.time<500&&k.delta-e.delta>=1&&e.delta<=6&&(nt=u>0?.8:.2,r.mousewheel.lastEventBeforeSnap=e,f.splice(0),r.mousewheel.timeout=n.nextTick(function(){r.slideToClosest(r.params.speed,!0,void 0,nt)},0)),r.mousewheel.timeout||(r.mousewheel.timeout=n.nextTick(function(){r.mousewheel.lastEventBeforeSnap=e;f.splice(0);r.slideToClosest(r.params.speed,!0,void 0,.5)},500))),g||r.emit("scroll",o),r.params.autoplay&&r.params.autoplayDisableOnInteraction&&r.autoplay.stop(),h===r.minTranslate()||h===r.maxTranslate())return!0}}else if(c={time:n.now(),delta:Math.abs(u),direction:Math.sign(u),raw:i},l=r.mousewheel.recentWheelEvents,l.length>=2&&l.shift(),w=l.length?l[l.length-1]:void 0,l.push(c),w?(c.direction!==w.direction||c.delta>w.delta)&&r.mousewheel.animateSlider(c):r.mousewheel.animateSlider(c),r.mousewheel.releaseScroll(c))return!0;return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},animateSlider:function(t){return t.delta>=6&&n.now()-this.mousewheel.lastScrollTime<60||(t.direction<0?this.isEnd&&!this.params.loop||this.animating||(this.slideNext(),this.emit("scroll",t.raw)):this.isBeginning&&!this.params.loop||this.animating||(this.slidePrev(),this.emit("scroll",t.raw)),this.mousewheel.lastScrollTime=(new i.Date).getTime(),!1)},releaseScroll:function(n){var t=this.params.mousewheel;if(n.direction<0){if(this.isEnd&&!this.params.loop&&t.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&t.releaseOnEdges)return!0;return!1},enable:function(){var i=a.event(),n;return this.params.cssMode?(this.wrapperEl.removeEventListener(i,this.mousewheel.handle),!0):i?this.mousewheel.enabled?!1:(n=this.$el,"container"!==this.params.mousewheel.eventsTarged&&(n=t(this.params.mousewheel.eventsTarged)),n.on("mouseenter",this.mousewheel.handleMouseEnter),n.on("mouseleave",this.mousewheel.handleMouseLeave),n.on(i,this.mousewheel.handle),this.mousewheel.enabled=!0,!0):!1},disable:function(){var n=a.event(),i;return this.params.cssMode?(this.wrapperEl.addEventListener(n,this.mousewheel.handle),!0):n?this.mousewheel.enabled?(i=this.$el,"container"!==this.params.mousewheel.eventsTarged&&(i=t(this.params.mousewheel.eventsTarged)),i.off(n,this.mousewheel.handle),this.mousewheel.enabled=!1,!0):!1:!1}},g={update:function(){var n=this.params.navigation;if(!this.params.loop){var r=this.navigation,t=r.$nextEl,i=r.$prevEl;i&&i.length>0&&(this.isBeginning?i.addClass(n.disabledClass):i.removeClass(n.disabledClass),i[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](n.lockClass));t&&t.length>0&&(this.isEnd?t.addClass(n.disabledClass):t.removeClass(n.disabledClass),t[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](n.lockClass))}},onPrevClick:function(n){n.preventDefault();this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(n){n.preventDefault();this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var r,u,i=this.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(r=t(i.nextEl),this.params.uniqueNavElements&&"string"==typeof i.nextEl&&r.length>1&&1===this.$el.find(i.nextEl).length&&(r=this.$el.find(i.nextEl))),i.prevEl&&(u=t(i.prevEl),this.params.uniqueNavElements&&"string"==typeof i.prevEl&&u.length>1&&1===this.$el.find(i.prevEl).length&&(u=this.$el.find(i.prevEl))),r&&r.length>0&&r.on("click",this.navigation.onNextClick),u&&u.length>0&&u.on("click",this.navigation.onPrevClick),n.extend(this.navigation,{$nextEl:r,nextEl:r&&r[0],$prevEl:u,prevEl:u&&u[0]}))},destroy:function(){var i=this.navigation,n=i.$nextEl,t=i.$prevEl;n&&n.length&&(n.off("click",this.navigation.onNextClick),n.removeClass(this.params.navigation.disabledClass));t&&t.length&&(t.off("click",this.navigation.onPrevClick),t.removeClass(this.params.navigation.disabledClass))}},ut={update:function(){var g=this.rtl,n=this.params.pagination,f,o,a,i,c,v,s,w;if(n.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var r,h=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,u=this.pagination.$el,e=this.params.loop?Math.ceil((h-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((r=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>h-1-2*this.loopedSlides&&(r-=h-2*this.loopedSlides),r>e-1&&(r-=e),r<0&&"bullets"!==this.params.paginationType&&(r=e+r)):r=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===n.type&&this.pagination.bullets&&this.pagination.bullets.length>0){if(i=this.pagination.bullets,n.dynamicBullets&&(this.pagination.bulletSize=i.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),u.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=r-this.previousIndex,this.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),f=r-this.pagination.dynamicBulletIndex,a=((o=f+(Math.min(i.length,n.dynamicMainBullets)-1))+f)/2),i.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),u.length>1)i.each(function(i,u){var e=t(u),s=e.index();s===r&&e.addClass(n.bulletActiveClass);n.dynamicBullets&&(s>=f&&s<=o&&e.addClass(n.bulletActiveClass+"-main"),s===f&&e.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),s===o&&e.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))});else if(c=i.eq(r),v=c.index(),c.addClass(n.bulletActiveClass),n.dynamicBullets){for(var y=i.eq(f),p=i.eq(o),l=f;l<=o;l+=1)i.eq(l).addClass(n.bulletActiveClass+"-main");if(this.params.loop)if(v>=i.length-n.dynamicMainBullets){for(s=n.dynamicMainBullets;s>=0;s-=1)i.eq(i.length-s).addClass(n.bulletActiveClass+"-main");i.eq(i.length-n.dynamicMainBullets-1).addClass(n.bulletActiveClass+"-prev")}else y.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),p.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next");else y.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),p.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}if(n.dynamicBullets){var nt=Math.min(i.length,n.dynamicMainBullets+4),tt=(this.pagination.bulletSize*nt-this.pagination.bulletSize)/2-a*this.pagination.bulletSize,it=g?"right":"left";i.css(this.isHorizontal()?it:"top",tt+"px")}}if("fraction"===n.type&&(u.find("."+n.currentClass).text(n.formatFractionCurrent(r+1)),u.find("."+n.totalClass).text(n.formatFractionTotal(e))),"progressbar"===n.type){w=n.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var b=(r+1)/e,k=1,d=1;"horizontal"===w?k=b:d=b;u.find("."+n.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+k+") scaleY("+d+")").transition(this.params.speed)}"custom"===n.type&&n.renderCustom?(u.html(n.renderCustom(this,r+1,e)),this.emit("paginationRender",this,u[0])):this.emit("paginationUpdate",this,u[0]);u[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var n=this.params.pagination,u,r;if(n.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var f=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,i=this.pagination.$el,t="";if("bullets"===n.type){for(u=this.params.loop?Math.ceil((f-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,r=0;r<u;r+=1)t+=n.renderBullet?n.renderBullet.call(this,r,n.bulletClass):"<"+n.bulletElement+' class="'+n.bulletClass+'"><\/'+n.bulletElement+">";i.html(t);this.pagination.bullets=i.find("."+n.bulletClass)}"fraction"===n.type&&(t=n.renderFraction?n.renderFraction.call(this,n.currentClass,n.totalClass):'<span class="'+n.currentClass+'"><\/span> / <span class="'+n.totalClass+'"><\/span>',i.html(t));"progressbar"===n.type&&(t=n.renderProgressbar?n.renderProgressbar.call(this,n.progressbarFillClass):'<span class="'+n.progressbarFillClass+'"><\/span>',i.html(t));"custom"!==n.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var u=this,i=u.params.pagination,r;i.el&&(r=t(i.el),0!==r.length&&(u.params.uniqueNavElements&&"string"==typeof i.el&&r.length>1&&1===u.$el.find(i.el).length&&(r=u.$el.find(i.el)),"bullets"===i.type&&i.clickable&&r.addClass(i.clickableClass),r.addClass(i.modifierClass+i.type),"bullets"===i.type&&i.dynamicBullets&&(r.addClass(""+i.modifierClass+i.type+"-dynamic"),u.pagination.dynamicBulletIndex=0,i.dynamicMainBullets<1&&(i.dynamicMainBullets=1)),"progressbar"===i.type&&i.progressbarOpposite&&r.addClass(i.progressbarOppositeClass),i.clickable&&r.on("click","."+i.bulletClass,function(n){n.preventDefault();var i=t(this).index()*u.params.slidesPerGroup;u.params.loop&&(i+=u.loopedSlides);u.slideTo(i)}),n.extend(u.pagination,{$el:r,el:r[0]})))},destroy:function(){var n=this.params.pagination,t;n.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length&&(t=this.pagination.$el,t.removeClass(n.hiddenClass),t.removeClass(n.modifierClass+n.type),this.pagination.bullets&&this.pagination.bullets.removeClass(n.bulletActiveClass),n.clickable&&t.off("click","."+n.bulletClass))}},h={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var u=this.scrollbar,o=this.rtlTranslate,s=this.progress,t=u.dragSize,r=u.trackSize,f=u.$dragEl,e=u.$el,h=this.params.scrollbar,i=t,n=(r-t)*s;o?(n=-n)>0?(i=t-n,n=0):-n+t>r&&(i=r+n):n<0?(i=t+n,n=0):n+t>r&&(i=r-n);this.isHorizontal()?(f.transform("translate3d("+n+"px, 0, 0)"),f[0].style.width=i+"px"):(f.transform("translate3d(0px, "+n+"px, 0)"),f[0].style.height=i+"px");h.hide&&(clearTimeout(this.scrollbar.timeout),e[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){e[0].style.opacity=0;e.transition(400)},1e3))}},setTransition:function(n){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(n)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var t=this.scrollbar,i=t.$dragEl,r=t.$el;i[0].style.width="";i[0].style.height="";var u,e=this.isHorizontal()?r[0].offsetWidth:r[0].offsetHeight,f=this.size/this.virtualSize,o=f*(e/this.size);u="auto"===this.params.scrollbar.dragSize?e*f:parseInt(this.params.scrollbar.dragSize,10);this.isHorizontal()?i[0].style.width=u+"px":i[0].style.height=u+"px";r[0].style.display=f>=1?"none":"";this.params.scrollbar.hide&&(r[0].style.opacity=0);n.extend(t,{trackSize:e,divider:f,moveDivider:o,dragSize:u});t.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},getPointerPosition:function(n){return this.isHorizontal()?"touchstart"===n.type||"touchmove"===n.type?n.targetTouches[0].clientX:n.clientX:"touchstart"===n.type||"touchmove"===n.type?n.targetTouches[0].clientY:n.clientY},setDragPosition:function(n){var t,i=this.scrollbar,e=this.rtlTranslate,o=i.$el,u=i.dragSize,s=i.trackSize,f=i.dragStartPos,r;t=(i.getPointerPosition(n)-o.offset()[this.isHorizontal()?"left":"top"]-(null!==f?f:u/2))/(s-u);t=Math.max(Math.min(t,1),0);e&&(t=1-t);r=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(r);this.setTranslate(r);this.updateActiveIndex();this.updateSlidesClasses()},onDragStart:function(n){var u=this.params.scrollbar,t=this.scrollbar,f=this.$wrapperEl,r=t.$el,i=t.$dragEl;this.scrollbar.isTouched=!0;this.scrollbar.dragStartPos=n.target===i[0]||n.target===i?t.getPointerPosition(n)-n.target.getBoundingClientRect()[this.isHorizontal()?"left":"top"]:null;n.preventDefault();n.stopPropagation();f.transition(100);i.transition(100);t.setDragPosition(n);clearTimeout(this.scrollbar.dragTimeout);r.transition(0);u.hide&&r.css("opacity",1);this.params.cssMode&&this.$wrapperEl.css("scroll-snap-type","none");this.emit("scrollbarDragStart",n)},onDragMove:function(n){var t=this.scrollbar,i=this.$wrapperEl,r=t.$el,u=t.$dragEl;this.scrollbar.isTouched&&(n.preventDefault?n.preventDefault():n.returnValue=!1,t.setDragPosition(n),i.transition(0),r.transition(0),u.transition(0),this.emit("scrollbarDragMove",n))},onDragEnd:function(t){var i=this.params.scrollbar,u=this.scrollbar,f=this.$wrapperEl,r=u.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,this.params.cssMode&&(this.$wrapperEl.css("scroll-snap-type",""),f.transition("")),i.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=n.nextTick(function(){r.css("opacity",0);r.transition(400)},1e3)),this.emit("scrollbarDragEnd",t),i.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var s=this.scrollbar,i=this.touchEventsTouch,f=this.touchEventsDesktop,e=this.params,n=s.$el[0],t=!(!u.passiveListener||!e.passiveListeners)&&{passive:!1,capture:!1},o=!(!u.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};u.touch?(n.addEventListener(i.start,this.scrollbar.onDragStart,t),n.addEventListener(i.move,this.scrollbar.onDragMove,t),n.addEventListener(i.end,this.scrollbar.onDragEnd,o)):(n.addEventListener(f.start,this.scrollbar.onDragStart,t),r.addEventListener(f.move,this.scrollbar.onDragMove,t),r.addEventListener(f.end,this.scrollbar.onDragEnd,o))}},disableDraggable:function(){if(this.params.scrollbar.el){var s=this.scrollbar,i=this.touchEventsTouch,f=this.touchEventsDesktop,e=this.params,n=s.$el[0],t=!(!u.passiveListener||!e.passiveListeners)&&{passive:!1,capture:!1},o=!(!u.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};u.touch?(n.removeEventListener(i.start,this.scrollbar.onDragStart,t),n.removeEventListener(i.move,this.scrollbar.onDragMove,t),n.removeEventListener(i.end,this.scrollbar.onDragEnd,o)):(n.removeEventListener(f.start,this.scrollbar.onDragStart,t),r.removeEventListener(f.move,this.scrollbar.onDragMove,t),r.removeEventListener(f.end,this.scrollbar.onDragEnd,o))}},init:function(){var r;if(this.params.scrollbar.el){var f=this.scrollbar,e=this.$el,u=this.params.scrollbar,i=t(u.el);this.params.uniqueNavElements&&"string"==typeof u.el&&i.length>1&&1===e.find(u.el).length&&(i=e.find(u.el));r=i.find("."+this.params.scrollbar.dragClass);0===r.length&&(r=t('<div class="'+this.params.scrollbar.dragClass+'"><\/div>'),i.append(r));n.extend(f,{$el:i,el:i[0],$dragEl:r,dragEl:r[0]});u.draggable&&f.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},kt={setTransform:function(n,i){var a=this.rtl,f=t(n),s=a?-1:1,h=f.attr("data-swiper-parallax")||"0",r=f.attr("data-swiper-parallax-x"),u=f.attr("data-swiper-parallax-y"),e=f.attr("data-swiper-parallax-scale"),o=f.attr("data-swiper-parallax-opacity"),c,l;(r||u?(r=r||"0",u=u||"0"):this.isHorizontal()?(r=h,u="0"):(u=h,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*i*s+"%":r*i*s+"px",u=u.indexOf("%")>=0?parseInt(u,10)*i+"%":u*i+"px",null!=o)&&(c=o-(o-1)*(1-Math.abs(i)),f[0].style.opacity=c);null==e?f.transform("translate3d("+r+", "+u+", 0px)"):(l=e-(e-1)*(1-Math.abs(i)),f.transform("translate3d("+r+", "+u+", 0px) scale("+l+")"))},setTranslate:function(){var n=this,r=n.$el,u=n.slides,i=n.progress,f=n.snapGrid;r.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,r){n.parallax.setTransform(r,i)});u.each(function(r,u){var e=u.progress;n.params.slidesPerGroup>1&&"auto"!==n.params.slidesPerView&&(e+=Math.ceil(r/2)-i*(f.length-1));e=Math.min(Math.max(e,-1),1);t(u).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,i){n.parallax.setTransform(i,e)})})},setTransition:function(n){void 0===n&&(n=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(i,r){var u=t(r),f=parseInt(u.attr("data-swiper-parallax-duration"),10)||n;0===n&&(f=0);u.transition(f)})}},dt={getDistanceBetweenTouches:function(n){if(n.targetTouches.length<2)return 1;var t=n.targetTouches[0].pageX,i=n.targetTouches[0].pageY,r=n.targetTouches[1].pageX,u=n.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(u-i,2))},onGestureStart:function(n){var f=this.params.zoom,r=this.zoom,i=r.gesture;if(r.fakeGestureTouched=!1,r.fakeGestureMoved=!1,!u.gestures){if("touchstart"!==n.type||"touchstart"===n.type&&n.targetTouches.length<2)return;r.fakeGestureTouched=!0;i.scaleStart=dt.getDistanceBetweenTouches(n)}i.$slideEl&&i.$slideEl.length||(i.$slideEl=t(n.target).closest("."+this.params.slideClass),0===i.$slideEl.length&&(i.$slideEl=this.slides.eq(this.activeIndex)),i.$imageEl=i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),i.$imageWrapEl=i.$imageEl.parent("."+f.containerClass),i.maxRatio=i.$imageWrapEl.attr("data-swiper-zoom")||f.maxRatio,0!==i.$imageWrapEl.length)?(i.$imageEl&&i.$imageEl.transition(0),this.zoom.isScaling=!0):i.$imageEl=void 0},onGestureChange:function(n){var r=this.params.zoom,t=this.zoom,i=t.gesture;if(!u.gestures){if("touchmove"!==n.type||"touchmove"===n.type&&n.targetTouches.length<2)return;t.fakeGestureMoved=!0;i.scaleMove=dt.getDistanceBetweenTouches(n)}i.$imageEl&&0!==i.$imageEl.length&&(t.scale=u.gestures?n.scale*t.currentScale:i.scaleMove/i.scaleStart*t.currentScale,t.scale>i.maxRatio&&(t.scale=i.maxRatio-1+Math.pow(t.scale-i.maxRatio+1,.5)),t.scale<r.minRatio&&(t.scale=r.minRatio+1-Math.pow(r.minRatio-t.scale+1,.5)),i.$imageEl.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(n){var r=this.params.zoom,t=this.zoom,i=t.gesture;if(!u.gestures){if(!t.fakeGestureTouched||!t.fakeGestureMoved)return;if("touchend"!==n.type||"touchend"===n.type&&n.changedTouches.length<2&&!s.android)return;t.fakeGestureTouched=!1;t.fakeGestureMoved=!1}i.$imageEl&&0!==i.$imageEl.length&&(t.scale=Math.max(Math.min(t.scale,i.maxRatio),r.minRatio),i.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(i.$slideEl=void 0))},onTouchStart:function(n){var i=this.zoom,r=i.gesture,t=i.image;r.$imageEl&&0!==r.$imageEl.length&&(t.isTouched||(s.android&&n.preventDefault(),t.isTouched=!0,t.touchesStart.x="touchstart"===n.type?n.targetTouches[0].pageX:n.pageX,t.touchesStart.y="touchstart"===n.type?n.targetTouches[0].pageY:n.pageY))},onTouchMove:function(t){var f=this.zoom,u=f.gesture,i=f.image,r=f.velocity,e,o;if(u.$imageEl&&0!==u.$imageEl.length&&(this.allowClick=!1,i.isTouched&&u.$slideEl)&&(i.isMoved||(i.width=u.$imageEl[0].offsetWidth,i.height=u.$imageEl[0].offsetHeight,i.startX=n.getTranslate(u.$imageWrapEl[0],"x")||0,i.startY=n.getTranslate(u.$imageWrapEl[0],"y")||0,u.slideWidth=u.$slideEl[0].offsetWidth,u.slideHeight=u.$slideEl[0].offsetHeight,u.$imageWrapEl.transition(0),this.rtl&&(i.startX=-i.startX,i.startY=-i.startY)),e=i.width*f.scale,o=i.height*f.scale,!(e<u.slideWidth&&o<u.slideHeight))){if((i.minX=Math.min(u.slideWidth/2-e/2,0),i.maxX=-i.minX,i.minY=Math.min(u.slideHeight/2-o/2,0),i.maxY=-i.minY,i.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,i.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!i.isMoved&&!f.isScaling)&&(this.isHorizontal()&&(Math.floor(i.minX)===Math.floor(i.startX)&&i.touchesCurrent.x<i.touchesStart.x||Math.floor(i.maxX)===Math.floor(i.startX)&&i.touchesCurrent.x>i.touchesStart.x)||!this.isHorizontal()&&(Math.floor(i.minY)===Math.floor(i.startY)&&i.touchesCurrent.y<i.touchesStart.y||Math.floor(i.maxY)===Math.floor(i.startY)&&i.touchesCurrent.y>i.touchesStart.y)))return void(i.isTouched=!1);t.preventDefault();t.stopPropagation();i.isMoved=!0;i.currentX=i.touchesCurrent.x-i.touchesStart.x+i.startX;i.currentY=i.touchesCurrent.y-i.touchesStart.y+i.startY;i.currentX<i.minX&&(i.currentX=i.minX+1-Math.pow(i.minX-i.currentX+1,.8));i.currentX>i.maxX&&(i.currentX=i.maxX-1+Math.pow(i.currentX-i.maxX+1,.8));i.currentY<i.minY&&(i.currentY=i.minY+1-Math.pow(i.minY-i.currentY+1,.8));i.currentY>i.maxY&&(i.currentY=i.maxY-1+Math.pow(i.currentY-i.maxY+1,.8));r.prevPositionX||(r.prevPositionX=i.touchesCurrent.x);r.prevPositionY||(r.prevPositionY=i.touchesCurrent.y);r.prevTime||(r.prevTime=Date.now());r.x=(i.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2;r.y=(i.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2;Math.abs(i.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0);Math.abs(i.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0);r.prevPositionX=i.touchesCurrent.x;r.prevPositionY=i.touchesCurrent.y;r.prevTime=Date.now();u.$imageWrapEl.transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTouchEnd:function(){var i=this.zoom,r=i.gesture,n=i.image,t=i.velocity,s,h,c;if(r.$imageEl&&0!==r.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1;n.isMoved=!1;var u=300,f=300,l=t.x*u,e=n.currentX+l,a=t.y*f,o=n.currentY+a;0!==t.x&&(u=Math.abs((e-n.currentX)/t.x));0!==t.y&&(f=Math.abs((o-n.currentY)/t.y));s=Math.max(u,f);n.currentX=e;n.currentY=o;h=n.width*i.scale;c=n.height*i.scale;n.minX=Math.min(r.slideWidth/2-h/2,0);n.maxX=-n.minX;n.minY=Math.min(r.slideHeight/2-c/2,0);n.maxY=-n.minY;n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX);n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY);r.$imageWrapEl.transition(s).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var t=this.zoom,n=t.gesture;n.$slideEl&&this.previousIndex!==this.activeIndex&&(n.$imageEl&&n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl&&n.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,n.$slideEl=void 0,n.$imageEl=void 0,n.$imageWrapEl=void 0)},toggle:function(n){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(n)},"in":function(n){var e,o,p,w,r,u,b,k,d,g,s,h,c,l,a,v,i=this.zoom,f=this.params.zoom,t=i.gesture,y=i.image;(t.$slideEl||(t.$slideEl=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.$wrapperEl.children("."+this.params.slideActiveClass):this.slides.eq(this.activeIndex),t.$imageEl=t.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),t.$imageWrapEl=t.$imageEl.parent("."+f.containerClass)),t.$imageEl&&0!==t.$imageEl.length)&&(t.$slideEl.addClass(""+f.zoomedSlideClass),void 0===y.touchesStart.x&&n?(e="touchend"===n.type?n.changedTouches[0].pageX:n.pageX,o="touchend"===n.type?n.changedTouches[0].pageY:n.pageY):(e=y.touchesStart.x,o=y.touchesStart.y),i.scale=t.$imageWrapEl.attr("data-swiper-zoom")||f.maxRatio,i.currentScale=t.$imageWrapEl.attr("data-swiper-zoom")||f.maxRatio,n?(a=t.$slideEl[0].offsetWidth,v=t.$slideEl[0].offsetHeight,p=t.$slideEl.offset().left+a/2-e,w=t.$slideEl.offset().top+v/2-o,b=t.$imageEl[0].offsetWidth,k=t.$imageEl[0].offsetHeight,d=b*i.scale,g=k*i.scale,c=-(s=Math.min(a/2-d/2,0)),l=-(h=Math.min(v/2-g/2,0)),(r=p*i.scale)<s&&(r=s),r>c&&(r=c),(u=w*i.scale)<h&&(u=h),u>l&&(u=l)):(r=0,u=0),t.$imageWrapEl.transition(300).transform("translate3d("+r+"px, "+u+"px,0)"),t.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+i.scale+")"))},out:function(){var t=this.zoom,i=this.params.zoom,n=t.gesture;n.$slideEl||(n.$slideEl=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.$wrapperEl.children("."+this.params.slideActiveClass):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),n.$imageWrapEl=n.$imageEl.parent("."+i.containerClass));n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+i.zoomedSlideClass),n.$slideEl=void 0)},enable:function(){var n=this.zoom;if(!n.enabled){n.enabled=!0;var i=!("touchstart"!==this.touchEvents.start||!u.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},r=!u.passiveListener||{passive:!1,capture:!0},t="."+this.params.slideClass;u.gestures?(this.$wrapperEl.on("gesturestart",t,n.onGestureStart,i),this.$wrapperEl.on("gesturechange",t,n.onGestureChange,i),this.$wrapperEl.on("gestureend",t,n.onGestureEnd,i)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,t,n.onGestureStart,i),this.$wrapperEl.on(this.touchEvents.move,t,n.onGestureChange,r),this.$wrapperEl.on(this.touchEvents.end,t,n.onGestureEnd,i),this.touchEvents.cancel&&this.$wrapperEl.on(this.touchEvents.cancel,t,n.onGestureEnd,i));this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,n.onTouchMove,r)}},disable:function(){var n=this.zoom;if(n.enabled){this.zoom.enabled=!1;var i=!("touchstart"!==this.touchEvents.start||!u.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},r=!u.passiveListener||{passive:!1,capture:!0},t="."+this.params.slideClass;u.gestures?(this.$wrapperEl.off("gesturestart",t,n.onGestureStart,i),this.$wrapperEl.off("gesturechange",t,n.onGestureChange,i),this.$wrapperEl.off("gestureend",t,n.onGestureEnd,i)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,t,n.onGestureStart,i),this.$wrapperEl.off(this.touchEvents.move,t,n.onGestureChange,r),this.$wrapperEl.off(this.touchEvents.end,t,n.onGestureEnd,i),this.touchEvents.cancel&&this.$wrapperEl.off(this.touchEvents.cancel,t,n.onGestureEnd,i));this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,n.onTouchMove,r)}}},fi={loadInSlide:function(n,i){var r,u,f,e;void 0===i&&(i=!0);r=this;u=r.params.lazy;void 0!==n&&0!==r.slides.length&&(f=r.virtual&&r.params.virtual.enabled?r.$wrapperEl.children("."+r.params.slideClass+'[data-swiper-slide-index="'+n+'"]'):r.slides.eq(n),e=f.find("."+u.elementClass+":not(."+u.loadedClass+"):not(."+u.loadingClass+")"),!f.hasClass(u.elementClass)||f.hasClass(u.loadedClass)||f.hasClass(u.loadingClass)||(e=e.add(f[0])),0!==e.length&&e.each(function(n,e){var o=t(e);o.addClass(u.loadingClass);var s=o.attr("data-background"),h=o.attr("data-src"),c=o.attr("data-srcset"),l=o.attr("data-sizes");r.loadImage(o[0],h||s,c,l,!1,function(){var n,t,e;null!=r&&r&&(!r||r.params)&&!r.destroyed&&((s?(o.css("background-image",'url("'+s+'")'),o.removeAttr("data-background")):(c&&(o.attr("srcset",c),o.removeAttr("data-srcset")),l&&(o.attr("sizes",l),o.removeAttr("data-sizes")),h&&(o.attr("src",h),o.removeAttr("data-src"))),o.addClass(u.loadedClass).removeClass(u.loadingClass),f.find("."+u.preloaderClass).remove(),r.params.loop&&i)&&(n=f.attr("data-swiper-slide-index"),f.hasClass(r.params.slideDuplicateClass)?(t=r.$wrapperEl.children('[data-swiper-slide-index="'+n+'"]:not(.'+r.params.slideDuplicateClass+")"),r.lazy.loadInSlide(t.index(),!1)):(e=r.$wrapperEl.children("."+r.params.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]'),r.lazy.loadInSlide(e.index(),!1))),r.emit("lazyImageReady",f[0],o[0]),r.params.autoHeight&&r.updateAutoHeight())});r.emit("lazyImageLoad",f[0],o[0])}))},load:function(){function l(n){if(c){if(o.children("."+i.slideClass+'[data-swiper-slide-index="'+n+'"]').length)return!0}else if(p[n])return!0;return!1}function w(n){return c?t(n).attr("data-swiper-slide-index"):t(n).index()}var n=this,o=n.$wrapperEl,i=n.params,p=n.slides,r=n.activeIndex,c=n.virtual&&i.virtual.enabled,s=i.lazy,u=i.slidesPerView,f,e,v,y;if("auto"===u&&(u=0),n.lazy.initialImageLoaded||(n.lazy.initialImageLoaded=!0),n.params.watchSlidesVisibility)o.children("."+i.slideVisibleClass).each(function(i,r){var u=c?t(r).attr("data-swiper-slide-index"):t(r).index();n.lazy.loadInSlide(u)});else if(u>1)for(f=r;f<r+u;f+=1)l(f)&&n.lazy.loadInSlide(f);else n.lazy.loadInSlide(r);if(s.loadPrevNext)if(u>1||s.loadPrevNextAmount&&s.loadPrevNextAmount>1){for(var b=s.loadPrevNextAmount,a=u,k=Math.min(r+a+Math.max(b,a),p.length),d=Math.max(r-Math.max(a,b),0),h=r+u;h<k;h+=1)l(h)&&n.lazy.loadInSlide(h);for(e=d;e<r;e+=1)l(e)&&n.lazy.loadInSlide(e)}else v=o.children("."+i.slideNextClass),v.length>0&&n.lazy.loadInSlide(w(v)),y=o.children("."+i.slidePrevClass),y.length>0&&n.lazy.loadInSlide(w(y))}},nt={LinearSpline:function(n,t){var i,u,e,r,f,o=function(n,t){for(u=-1,i=n.length;i-u>1;)n[e=i+u>>1]<=t?u=e:i=e;return i};return this.x=n,this.y=t,this.lastIndex=n.length-1,this.interpolate=function(n){return n?(f=o(this.x,n),r=f-1,(n-this.x[r])*(this.y[f]-this.y[r])/(this.x[f]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(n){this.controller.spline||(this.controller.spline=this.params.loop?new nt.LinearSpline(this.slidesGrid,n.slidesGrid):new nt.LinearSpline(this.snapGrid,n.snapGrid))},setTranslate:function(n,t){function o(n){var t=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(n),u=-i.controller.spline.interpolate(-t));u&&"container"!==i.params.controller.by||(e=(n.maxTranslate()-n.minTranslate())/(i.maxTranslate()-i.minTranslate()),u=(t-i.minTranslate())*e+n.minTranslate());i.params.controller.inverse&&(u=n.maxTranslate()-u);n.updateProgress(u);n.setTranslate(u,i);n.updateActiveIndex();n.updateSlidesClasses()}var e,u,i=this,r=i.controller.control,f;if(Array.isArray(r))for(f=0;f<r.length;f+=1)r[f]!==t&&r[f]instanceof c&&o(r[f]);else r instanceof c&&t!==r&&o(r)},setTransition:function(t,i){function e(i){i.setTransition(t,f);0!==t&&(i.transitionStart(),i.params.autoHeight&&n.nextTick(function(){i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(function(){r&&(i.params.loop&&"slide"===f.params.controller.by&&i.loopFix(),i.transitionEnd())}))}var u,f=this,r=f.controller.control;if(Array.isArray(r))for(u=0;u<r.length;u+=1)r[u]!==i&&r[u]instanceof c&&e(r[u]);else r instanceof c&&i!==r&&e(r)}},ei={makeElFocusable:function(n){return n.attr("tabIndex","0"),n},addElRole:function(n,t){return n.attr("role",t),n},addElLabel:function(n,t){return n.attr("aria-label",t),n},disableEl:function(n){return n.attr("aria-disabled",!0),n},enableEl:function(n){return n.attr("aria-disabled",!1),n},onEnterKey:function(n){var r=this.params.a11y,i;13===n.keyCode&&(i=t(n.target),this.navigation&&this.navigation.$nextEl&&i.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(r.lastSlideMessage):this.a11y.notify(r.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&i.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(r.firstSlideMessage):this.a11y.notify(r.prevSlideMessage)),this.pagination&&i.is("."+this.params.pagination.bulletClass)&&i[0].click())},notify:function(n){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(n))},updateNavigation:function(){if(!this.params.loop&&this.navigation){var i=this.navigation,n=i.$nextEl,t=i.$prevEl;t&&t.length>0&&(this.isBeginning?this.a11y.disableEl(t):this.a11y.enableEl(t));n&&n.length>0&&(this.isEnd?this.a11y.disableEl(n):this.a11y.enableEl(n))}},updatePagination:function(){var n=this,i=n.params.a11y;n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.bullets.each(function(r,u){var f=t(u);n.a11y.makeElFocusable(f);n.a11y.addElRole(f,"button");n.a11y.addElLabel(f,i.paginationBulletMessage.replace(/{{index}}/,f.index()+1))})},init:function(){this.$el.append(this.a11y.liveRegion);var n,t,i=this.params.a11y;this.navigation&&this.navigation.$nextEl&&(n=this.navigation.$nextEl);this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl);n&&(this.a11y.makeElFocusable(n),this.a11y.addElRole(n,"button"),this.a11y.addElLabel(n,i.nextSlideMessage),n.on("keydown",this.a11y.onEnterKey));t&&(this.a11y.makeElFocusable(t),this.a11y.addElRole(t,"button"),this.a11y.addElLabel(t,i.prevSlideMessage),t.on("keydown",this.a11y.onEnterKey));this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)},destroy:function(){var n,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove();this.navigation&&this.navigation.$nextEl&&(n=this.navigation.$nextEl);this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl);n&&n.off("keydown",this.a11y.onEnterKey);t&&t.off("keydown",this.a11y.onEnterKey);this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},v={init:function(){if(this.params.history){if(!i.history||!i.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var n=this.history;n.initialized=!0;n.paths=v.getPathValues();(n.paths.key||n.paths.value)&&(n.scrollToSlide(0,n.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||i.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||i.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=v.getPathValues();this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var n=i.location.pathname.slice(1).split("/").filter(function(n){return""!==n}),t=n.length;return{key:n[t-2],value:n[t-1]}},setHistory:function(n,t){var f,r,u;this.history.initialized&&this.params.history.enabled&&(f=this.slides.eq(t),r=v.slugify(f.attr("data-history")),i.location.pathname.includes(n)||(r=n+"/"+r),u=i.history.state,u&&u.value===r||(this.params.history.replaceState?i.history.replaceState({value:r},null,r):i.history.pushState({value:r},null,r)))},slugify:function(n){return n.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(n,t,i){var r,f,u,e;if(t)for(r=0,f=this.slides.length;r<f;r+=1)u=this.slides.eq(r),v.slugify(u.attr("data-history"))!==t||u.hasClass(this.params.slideDuplicateClass)||(e=u.index(),this.slideTo(e,n,i));else this.slideTo(0,n,i)}},ft={onHashCange:function(){var t=r.location.hash.replace("#",""),n;if(t!==this.slides.eq(this.activeIndex).attr("data-hash")){if(n=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+t+'"]').index(),void 0===n)return;this.slideTo(n)}},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&i.history&&i.history.replaceState)i.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var n=this.slides.eq(this.activeIndex),t=n.attr("data-hash")||n.attr("data-history");r.location.hash=t||""}},init:function(){var f,u,e,n,o;if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){if(this.hashNavigation.initialized=!0,f=r.location.hash.replace("#",""),f)for(u=0,e=this.slides.length;u<e;u+=1)n=this.slides.eq(u),(n.attr("data-hash")||n.attr("data-history"))!==f||n.hasClass(this.params.slideDuplicateClass)||(o=n.index(),this.slideTo(o,0,this.params.runCallbacksOnInit,!0));this.params.hashNavigation.watchState&&t(i).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&t(i).off("hashchange",this.hashNavigation.onHashCange)}},et={run:function(){var t=this,i=t.slides.eq(t.activeIndex),r=t.params.autoplay.delay;i.attr("data-swiper-autoplay")&&(r=i.attr("data-swiper-autoplay")||t.params.autoplay.delay);clearTimeout(t.autoplay.timeout);t.autoplay.timeout=n.nextTick(function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"));t.params.cssMode&&t.autoplay.running&&t.autoplay.run()},r)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(n){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==n&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))}},oi={setTranslate:function(){for(var n,t,r,f,u=this.slides,i=0;i<u.length;i+=1)n=this.slides.eq(i),t=-n[0].swiperSlideOffset,this.params.virtualTranslate||(t-=this.translate),r=0,this.isHorizontal()||(r=t,t=0),f=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(n[0].progress),0):1+Math.min(Math.max(n[0].progress,-1),0),n.css({opacity:f}).transform("translate3d("+t+"px, "+r+"px, 0px)")},setTransition:function(n){var t=this,r=t.slides,u=t.$wrapperEl,i;(r.transition(n),t.params.virtualTranslate&&0!==n)&&(i=!1,r.transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0;t.animating=!1;for(var r=["webkitTransitionEnd","transitionend"],n=0;n<r.length;n+=1)u.trigger(r[n])}}))}},si={setTranslate:function(){var r,d=this.$el,w=this.$wrapperEl,g=this.slides,b=this.width,nt=this.height,k=this.rtlTranslate,n=this.size,o=this.params.cubeEffect,u=this.isHorizontal(),ot=this.virtual&&this.params.virtual.enabled,h=0,y,i,f,s,c,rt,a,v,et;for(o.shadow&&(u?(0===(r=w.find(".swiper-cube-shadow")).length&&(r=t('<div class="swiper-cube-shadow"><\/div>'),w.append(r)),r.css({height:b+"px"})):0===(r=d.find(".swiper-cube-shadow")).length&&(r=t('<div class="swiper-cube-shadow"><\/div>'),d.append(r))),y=0;y<g.length;y+=1){i=g.eq(y);f=y;ot&&(f=parseInt(i.attr("data-swiper-slide-index"),10));s=90*f;c=Math.floor(s/360);k&&(s=-s,c=Math.floor(-s/360));var l=Math.max(Math.min(i[0].progress,1),-1),e=0,tt=0,p=0;f%4==0?(e=4*-c*n,p=0):(f-1)%4==0?(e=0,p=4*-c*n):(f-2)%4==0?(e=n+4*c*n,p=n):(f-3)%4==0&&(e=-n,p=3*n+4*n*c);k&&(e=-e);u||(tt=e,e=0);rt="rotateX("+(u?0:-s)+"deg) rotateY("+(u?s:0)+"deg) translate3d("+e+"px, "+tt+"px, "+p+"px)";(l<=1&&l>-1&&(h=90*f+90*l,k&&(h=90*-f-90*l)),i.transform(rt),o.slideShadows)&&(a=u?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),v=u?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom"),0===a.length&&(a=t('<div class="swiper-slide-shadow-'+(u?"left":"top")+'"><\/div>'),i.append(a)),0===v.length&&(v=t('<div class="swiper-slide-shadow-'+(u?"right":"bottom")+'"><\/div>'),i.append(v)),a.length&&(a[0].style.opacity=Math.max(-l,0)),v.length&&(v[0].style.opacity=Math.max(l,0)))}if(w.css({"-webkit-transform-origin":"50% 50% -"+n/2+"px","-moz-transform-origin":"50% 50% -"+n/2+"px","-ms-transform-origin":"50% 50% -"+n/2+"px","transform-origin":"50% 50% -"+n/2+"px"}),o.shadow)if(u)r.transform("translate3d(0px, "+(b/2+o.shadowOffset)+"px, "+-b/2+"px) rotateX(90deg) rotateZ(0deg) scale("+o.shadowScale+")");else{var ut=Math.abs(h)-90*Math.floor(Math.abs(h)/90),st=1.5-(Math.sin(2*ut*Math.PI/360)/2+Math.cos(2*ut*Math.PI/360)/2),ht=o.shadowScale,ft=o.shadowScale/st,ct=o.shadowOffset;r.transform("scale3d("+ht+", 1, "+ft+") translate3d(0px, "+(nt/2+ct)+"px, "+-nt/2/ft+"px) rotateX(-90deg)")}et=it.isSafari||it.isUiWebView?-n/2:0;w.transform("translate3d(0px,0,"+et+"px) rotateX("+(this.isHorizontal()?0:h)+"deg) rotateY("+(this.isHorizontal()?-h:0)+"deg)")},setTransition:function(n){var t=this.$el;this.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n);this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(n)}},hi={setTranslate:function(){for(var n,i,r,u,e=this.slides,l=this.rtlTranslate,o=0;o<e.length;o+=1){n=e.eq(o);i=n[0].progress;this.params.flipEffect.limitRotation&&(i=Math.max(Math.min(n[0].progress,1),-1));var f=-180*i,h=0,s=-n[0].swiperSlideOffset,c=0;(this.isHorizontal()?l&&(f=-f):(c=s,s=0,h=-f,f=0),n[0].style.zIndex=-Math.abs(Math.round(i))+e.length,this.params.flipEffect.slideShadows)&&(r=this.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),u=this.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom"),0===r.length&&(r=t('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"><\/div>'),n.append(r)),0===u.length&&(u=t('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"><\/div>'),n.append(u)),r.length&&(r[0].style.opacity=Math.max(-i,0)),u.length&&(u[0].style.opacity=Math.max(i,0)));n.transform("translate3d("+s+"px, "+c+"px, 0px) rotateX("+h+"deg) rotateY("+f+"deg)")}},setTransition:function(n){var t=this,r=t.slides,u=t.activeIndex,f=t.$wrapperEl,i;(r.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n),t.params.virtualTranslate&&0!==n)&&(i=!1,r.eq(u).transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0;t.animating=!1;for(var r=["webkitTransitionEnd","transitionend"],n=0;n<r.length;n+=1)f.trigger(r[n])}}))}},ci={setTranslate:function(){for(var c,l,g,e,o,nt=this.width,tt=this.height,w=this.slides,it=this.$wrapperEl,rt=this.slidesSizesGrid,f=this.params.coverflowEffect,n=this.isHorizontal(),b=this.translate,k=n?nt/2-b:tt/2-b,d=n?f.rotate:-f.rotate,ut=f.depth,h=0,ft=w.length;h<ft;h+=1){var r=w.eq(h),a=rt[h],i=(k-r[0].swiperSlideOffset-a/2)/a*f.modifier,v=n?d*i:0,y=n?0:d*i,p=-ut*Math.abs(i),s=f.stretch;"string"==typeof s&&-1!==s.indexOf("%")&&(s=parseFloat(f.stretch)/100*a);c=n?0:s*i;l=n?s*i:0;Math.abs(l)<.001&&(l=0);Math.abs(c)<.001&&(c=0);Math.abs(p)<.001&&(p=0);Math.abs(v)<.001&&(v=0);Math.abs(y)<.001&&(y=0);g="translate3d("+l+"px,"+c+"px,"+p+"px)  rotateX("+y+"deg) rotateY("+v+"deg)";(r.transform(g),r[0].style.zIndex=1-Math.abs(Math.round(i)),f.slideShadows)&&(e=n?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),o=n?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom"),0===e.length&&(e=t('<div class="swiper-slide-shadow-'+(n?"left":"top")+'"><\/div>'),r.append(e)),0===o.length&&(o=t('<div class="swiper-slide-shadow-'+(n?"right":"bottom")+'"><\/div>'),r.append(o)),e.length&&(e[0].style.opacity=i>0?i:0),o.length&&(o[0].style.opacity=-i>0?-i:0))}(u.pointerEvents||u.prefixedPointerEvents)&&(it[0].style.perspectiveOrigin=k+"px 50%")},setTransition:function(n){this.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n)}},gt={init:function(){var t=this.params.thumbs,i=this.constructor;t.swiper instanceof i?(this.thumbs.swiper=t.swiper,n.extend(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),n.extend(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):n.isObject(t.swiper)&&(this.thumbs.swiper=new i(n.extend({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0);this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass);this.thumbs.swiper.on("tap",this.thumbs.onThumbClick)},onThumbClick:function(){var i=this.thumbs.swiper,e,o,r,n,u,f;i&&(e=i.clickedIndex,o=i.clickedSlide,o&&t(o).hasClass(this.params.thumbs.slideThumbActiveClass)||null==e||((r=i.params.loop?parseInt(t(i.clickedSlide).attr("data-swiper-slide-index"),10):e,this.params.loop)&&(n=this.activeIndex,this.slides.eq(n).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,n=this.activeIndex),u=this.slides.eq(n).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),f=this.slides.eq(n).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),r=void 0===u?f:void 0===f?u:f-n<n-u?f:u),this.slideTo(r)))},update:function(n){var t=this.thumbs.swiper,o,r,i,f,e,u,s,h,c;if(t)if(o="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():t.params.slidesPerView,this.realIndex!==t.realIndex&&(i=t.activeIndex,t.params.loop?(t.slides.eq(i).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,i=t.activeIndex),f=t.slides.eq(i).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),e=t.slides.eq(i).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),r=void 0===f?e:void 0===e?f:e-i==i-f?i:e-i<i-f?e:f):r=this.realIndex,t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(r)<0&&(t.params.centeredSlides?r=r>i?r-Math.floor(o/2)+1:r+Math.floor(o/2)-1:r>i&&(r=r-o+1),t.slideTo(r,n?0:void 0))),u=1,s=this.params.thumbs.slideThumbActiveClass,this.params.slidesPerView>1&&!this.params.centeredSlides&&(u=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),t.slides.removeClass(s),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(h=0;h<u;h+=1)t.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+h)+'"]').addClass(s);else for(c=0;c<u;c+=1)t.slides.eq(this.realIndex+c).addClass(s)}},cr=[rr,ur,fr,er,or,sr,hr,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){n.extend(this,{mousewheel:{enabled:!1,enable:a.enable.bind(this),disable:a.disable.bind(this),handle:a.handle.bind(this),handleMouseEnter:a.handleMouseEnter.bind(this),handleMouseLeave:a.handleMouseLeave.bind(this),animateSlider:a.animateSlider.bind(this),releaseScroll:a.releaseScroll.bind(this),lastScrollTime:n.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[]}})},on:{init:function(){!this.params.mousewheel.enabled&&this.params.cssMode&&this.mousewheel.disable();this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.params.cssMode&&this.mousewheel.enable();this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){n.extend(this,{navigation:{init:g.init.bind(this),update:g.update.bind(this),destroy:g.destroy.bind(this),onNextClick:g.onNextClick.bind(this),onPrevClick:g.onPrevClick.bind(this)}})},on:{init:function(){this.navigation.init();this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(n){var u,f=this.navigation,i=f.$nextEl,r=f.$prevEl;!this.params.navigation.hideOnClick||t(n.target).is(r)||t(n.target).is(i)||(i?u=i.hasClass(this.params.navigation.hiddenClass):r&&(u=r.hasClass(this.params.navigation.hiddenClass)),!0===u?this.emit("navigationShow",this):this.emit("navigationHide",this),i&&i.toggleClass(this.params.navigation.hiddenClass),r&&r.toggleClass(this.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(n){return n},formatFractionTotal:function(n){return n},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){n.extend(this,{pagination:{init:ut.init.bind(this),render:ut.render.bind(this),update:ut.update.bind(this),destroy:ut.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init();this.pagination.render();this.pagination.update()},activeIndexChange:function(){(this.params.loop||void 0===this.snapIndex)&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(n){this.params.pagination.el&&this.params.pagination.hideOnClick&&this.pagination.$el.length>0&&!t(n.target).hasClass(this.params.pagination.bulletClass)&&(!0===this.pagination.$el.hasClass(this.params.pagination.hiddenClass)?this.emit("paginationShow",this):this.emit("paginationHide",this),this.pagination.$el.toggleClass(this.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){n.extend(this,{scrollbar:{init:h.init.bind(this),destroy:h.destroy.bind(this),updateSize:h.updateSize.bind(this),setTranslate:h.setTranslate.bind(this),setTransition:h.setTransition.bind(this),enableDraggable:h.enableDraggable.bind(this),disableDraggable:h.disableDraggable.bind(this),setDragPosition:h.setDragPosition.bind(this),getPointerPosition:h.getPointerPosition.bind(this),onDragStart:h.onDragStart.bind(this),onDragMove:h.onDragMove.bind(this),onDragEnd:h.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init();this.scrollbar.updateSize();this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(n){this.scrollbar.setTransition(n)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){n.extend(this,{parallax:{setTransform:kt.setTransform.bind(this),setTranslate:kt.setTranslate.bind(this),setTransition:kt.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(n){this.params.parallax.enabled&&this.parallax.setTransition(n)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var t=this,r={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},i;"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(n){r[n]=dt[n].bind(t)});n.extend(t,{zoom:r});i=1;Object.defineProperty(t.zoom,"scale",{get:function(){return i},set:function(n){if(i!==n){var r=t.zoom.gesture.$imageEl?t.zoom.gesture.$imageEl[0]:void 0,u=t.zoom.gesture.$slideEl?t.zoom.gesture.$slideEl[0]:void 0;t.emit("zoomChange",n,r,u)}i=n}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(n){this.zoom.enabled&&this.zoom.onTouchStart(n)},touchEnd:function(n){this.zoom.enabled&&this.zoom.onTouchEnd(n)},doubleTap:function(n){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(n)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()},slideChange:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.params.cssMode&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){n.extend(this,{lazy:{initialImageLoaded:!1,load:fi.load.bind(this),loadInSlide:fi.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()},slideChange:function(){this.params.lazy.enabled&&this.params.cssMode&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){n.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:nt.getInterpolateFunction.bind(this),setTranslate:nt.setTranslate.bind(this),setTransition:nt.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(n,t){this.controller.control&&this.controller.setTranslate(n,t)},setTransition:function(n,t){this.controller.control&&this.controller.setTransition(n,t)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var i=this;n.extend(i,{a11y:{liveRegion:t('<span class="'+i.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"><\/span>')}});Object.keys(ei).forEach(function(n){i.a11y[n]=ei[n].bind(i)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){n.extend(this,{history:{init:v.init.bind(this),setHistory:v.setHistory.bind(this),setHistoryPopState:v.setHistoryPopState.bind(this),scrollToSlide:v.scrollToSlide.bind(this),destroy:v.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)},slideChange:function(){this.history.initialized&&this.params.cssMode&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){n.extend(this,{hashNavigation:{initialized:!1,init:ft.init.bind(this),destroy:ft.destroy.bind(this),setHash:ft.setHash.bind(this),onHashCange:ft.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()},slideChange:function(){this.hashNavigation.initialized&&this.params.cssMode&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var t=this;n.extend(t,{autoplay:{running:!1,paused:!1,run:et.run.bind(t),start:et.start.bind(t),stop:et.stop.bind(t),pause:et.pause.bind(t),onVisibilityChange:function(){"hidden"===document.visibilityState&&t.autoplay.running&&t.autoplay.pause();"visible"===document.visibilityState&&t.autoplay.paused&&(t.autoplay.run(),t.autoplay.paused=!1)},onTransitionEnd:function(n){t&&!t.destroyed&&t.$wrapperEl&&n.target===this&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&(this.autoplay.start(),document.addEventListener("visibilitychange",this.autoplay.onVisibilityChange))},beforeTransitionStart:function(n,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(n):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},touchEnd:function(){this.params.cssMode&&this.autoplay.paused&&!this.params.autoplay.disableOnInteraction&&this.autoplay.run()},destroy:function(){this.autoplay.running&&this.autoplay.stop();document.removeEventListener("visibilitychange",this.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){n.extend(this,{fadeEffect:{setTranslate:oi.setTranslate.bind(this),setTransition:oi.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};n.extend(this.params,t);n.extend(this.originalParams,t)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(n){"fade"===this.params.effect&&this.fadeEffect.setTransition(n)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){n.extend(this,{cubeEffect:{setTranslate:si.setTranslate.bind(this),setTransition:si.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube");this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};n.extend(this.params,t);n.extend(this.originalParams,t)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(n){"cube"===this.params.effect&&this.cubeEffect.setTransition(n)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){n.extend(this,{flipEffect:{setTranslate:hi.setTranslate.bind(this),setTransition:hi.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip");this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};n.extend(this.params,t);n.extend(this.originalParams,t)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(n){"flip"===this.params.effect&&this.flipEffect.setTransition(n)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){n.extend(this,{coverflowEffect:{setTranslate:ci.setTranslate.bind(this),setTransition:ci.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(n){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(n)}}},{name:"thumbs",params:{thumbs:{multipleActiveThumbs:!0,swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){n.extend(this,{thumbs:{swiper:null,init:gt.init.bind(this),update:gt.update.bind(this),onThumbClick:gt.onThumbClick.bind(this)}})},on:{beforeInit:function(){var n=this.params.thumbs;n&&n.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(n){var t=this.thumbs.swiper;t&&t.setTransition(n)},beforeDestroy:function(){var n=this.thumbs.swiper;n&&this.thumbs.swiperCreated&&n&&n.destroy()}}}];return void 0===c.use&&(c.use=c.Class.use,c.installModule=c.Class.installModule),c.use(cr),c});
/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(n){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],n):n("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(n){"use strict";function ut(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=o),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=n.extend({},n.fn.swipe.defaults,t),this.each(function(){var r=n(this),i=r.data(c);i||(i=new ft(this,t),r.data(c,i))})}function ft(ut,ft){function ki(t){var r,f,u,e;if(!(pu()||n(t.target).closest(ft.excludedElements,ot).length>0)&&(r=t.originalEvent?t.originalEvent:t,!r.pointerType||"mouse"!=r.pointerType||0!=ft.fallbackToMouseEvents))return u=r.touches,e=u?u[0]:r,st=rt,u?ct=u.length:ft.preventDefaultEvents!==!1&&t.preventDefault(),at=0,vt=null,yt=null,kt=null,lt=0,gt=0,ni=0,wt=1,bt=0,pi=ku(),dr(),ci(0,e),!u||ct===ft.fingers||ft.fingers===a||oi()?(sr=dt(),2==ct&&(ci(1,u[1]),gt=ni=fr(ht[0].start,ht[1].start)),(ft.swipeStatus||ft.pinchStatus)&&(f=pt(r,st))):f=!1,f===!1?(st=i,pt(r,st),f):(ft.hold&&(ei=setTimeout(n.proxy(function(){ot.trigger("hold",[r.target]);ft.hold&&(f=ft.hold.call(ot,r,r.target))},this),ft.longTapThreshold)),hi(!0),null)}function di(n){var f=n.originalEvent?n.originalEvent:n,e,h;if(st!==t&&st!==i&&!si()){var o,r=f.touches,c=r?r[0]:f,u=gr(c);(wi=dt(),r&&(ct=r.length),ft.hold&&clearTimeout(ei),st=s,2==ct&&(0==gt?(ci(1,r[1]),gt=ni=fr(ht[0].start,ht[1].start)):(gr(r[1]),ni=fr(ht[0].end,ht[1].end),kt=gu(ht[0].end,ht[1].end)),wt=du(gt,ni),bt=Math.abs(gt-ni)),ct===ft.fingers||ft.fingers===a||!r||oi())?(vt=iu(u.start,u.end),yt=iu(u.last,u.end),uu(n,yt),at=nf(u.start,u.end),lt=tu(),bu(vt,at),o=pt(f,st),!ft.triggerOnTouchEnd||ft.triggerOnTouchLeave)&&(e=!0,ft.triggerOnTouchLeave&&(h=rf(this),e=uf(u.end,h)),!ft.triggerOnTouchEnd&&e?st=tr(s):ft.triggerOnTouchLeave&&!e&&(st=tr(t)),st!=i&&st!=t||pt(f,st)):(st=i,pt(f,st));o===!1&&(st=i,pt(f,st))}}function gi(n){var r=n.originalEvent?n.originalEvent:n,u=r.touches;if(u){if(u.length&&!si())return yu(r),!0;if(u.length&&si())return!0}return si()&&(ct=hr),wi=dt(),lt=tu(),rr()||!ir()?(st=i,pt(r,st)):ft.triggerOnTouchEnd||ft.triggerOnTouchEnd===!1&&st===s?(ft.preventDefaultEvents!==!1&&n.preventDefault(),st=t,pt(r,st)):!ft.triggerOnTouchEnd&&br()?(st=t,ri(r,st,w)):st===s&&(st=i,pt(r,st)),hi(!1),null}function ii(){ct=0;wi=0;sr=0;gt=0;ni=0;wt=1;dr();hi(!1)}function nr(n){var i=n.originalEvent?n.originalEvent:n;ft.triggerOnTouchLeave&&(st=tr(t),pt(i,st))}function cr(){ot.unbind(vi,ki);ot.unbind(yi,ii);ot.unbind(er,di);ot.unbind(or,gi);ui&&ot.unbind(ui,nr);hi(!1)}function tr(n){var r=n,f=lr(),u=ir(),e=rr();return!f||e?r=i:!u||n!=s||ft.triggerOnTouchEnd&&!ft.triggerOnTouchLeave?!u&&n==t&&ft.triggerOnTouchLeave&&(r=i):r=t,r}function pt(n,r){var u,f=n.touches;return(eu()||yr())&&(u=ri(n,r,g)),(fu()||oi())&&u!==!1&&(u=ri(n,r,nt)),au()&&u!==!1?u=ri(n,r,tt):vu()&&u!==!1?u=ri(n,r,it):lu()&&u!==!1&&(u=ri(n,r,w)),r===i&&ii(n),r===t&&(f?f.length||ii(n):ii(n)),u}function ri(o,s,h){var c;if(h==g){if(ot.trigger("swipeStatus",[s,vt||null,at||0,lt||0,ct,ht,yt]),ft.swipeStatus&&(c=ft.swipeStatus.call(ot,o,s,vt||null,at||0,lt||0,ct,ht,yt),c===!1))return!1;if(s==t&&vr()){if(clearTimeout(fi),clearTimeout(ei),ot.trigger("swipe",[vt,at,lt,ct,ht,yt]),ft.swipe&&(c=ft.swipe.call(ot,o,vt,at,lt,ct,ht,yt),c===!1))return!1;switch(vt){case r:ot.trigger("swipeLeft",[vt,at,lt,ct,ht,yt]);ft.swipeLeft&&(c=ft.swipeLeft.call(ot,o,vt,at,lt,ct,ht,yt));break;case u:ot.trigger("swipeRight",[vt,at,lt,ct,ht,yt]);ft.swipeRight&&(c=ft.swipeRight.call(ot,o,vt,at,lt,ct,ht,yt));break;case f:ot.trigger("swipeUp",[vt,at,lt,ct,ht,yt]);ft.swipeUp&&(c=ft.swipeUp.call(ot,o,vt,at,lt,ct,ht,yt));break;case e:ot.trigger("swipeDown",[vt,at,lt,ct,ht,yt]);ft.swipeDown&&(c=ft.swipeDown.call(ot,o,vt,at,lt,ct,ht,yt))}}}if(h==nt){if(ot.trigger("pinchStatus",[s,kt||null,bt||0,lt||0,ct,wt,ht]),ft.pinchStatus&&(c=ft.pinchStatus.call(ot,o,s,kt||null,bt||0,lt||0,ct,wt,ht),c===!1))return!1;if(s==t&&ar())switch(kt){case y:ot.trigger("pinchIn",[kt||null,bt||0,lt||0,ct,wt,ht]);ft.pinchIn&&(c=ft.pinchIn.call(ot,o,kt||null,bt||0,lt||0,ct,wt,ht));break;case p:ot.trigger("pinchOut",[kt||null,bt||0,lt||0,ct,wt,ht]);ft.pinchOut&&(c=ft.pinchOut.call(ot,o,kt||null,bt||0,lt||0,ct,wt,ht))}}return h==w?s!==i&&s!==t||(clearTimeout(fi),clearTimeout(ei),ur()&&!su()?(ti=dt(),fi=setTimeout(n.proxy(function(){ti=null;ot.trigger("tap",[o.target]);ft.tap&&(c=ft.tap.call(ot,o,o.target))},this),ft.doubleTapThreshold)):(ti=null,ot.trigger("tap",[o.target]),ft.tap&&(c=ft.tap.call(ot,o,o.target)))):h==tt?s!==i&&s!==t||(clearTimeout(fi),clearTimeout(ei),ti=null,ot.trigger("doubletap",[o.target]),ft.doubleTap&&(c=ft.doubleTap.call(ot,o,o.target))):h==it&&(s!==i&&s!==t||(clearTimeout(fi),ti=null,ot.trigger("longtap",[o.target]),ft.longTap&&(c=ft.longTap.call(ot,o,o.target)))),c}function ir(){var n=!0;return null!==ft.threshold&&(n=at>=ft.threshold),n}function rr(){var n=!1;return null!==ft.cancelThreshold&&null!==vt&&(n=nu(vt)-at>=ft.cancelThreshold),n}function ru(){return null===ft.pinchThreshold||bt>=ft.pinchThreshold}function lr(){return!ft.maxTimeThreshold||!(lt>=ft.maxTimeThreshold)}function uu(n,t){if(ft.preventDefaultEvents!==!1)if(ft.allowPageScroll===o)n.preventDefault();else{var i=ft.allowPageScroll===d;switch(t){case r:(ft.swipeLeft&&i||!i&&ft.allowPageScroll!=b)&&n.preventDefault();break;case u:(ft.swipeRight&&i||!i&&ft.allowPageScroll!=b)&&n.preventDefault();break;case f:(ft.swipeUp&&i||!i&&ft.allowPageScroll!=k)&&n.preventDefault();break;case e:(ft.swipeDown&&i||!i&&ft.allowPageScroll!=k)&&n.preventDefault()}}}function ar(){var n=pr(),t=wr(),i=ru();return n&&t&&i}function oi(){return!!(ft.pinchStatus||ft.pinchIn||ft.pinchOut)}function fu(){return!(!ar()||!oi())}function vr(){var n=lr(),t=ir(),i=pr(),r=wr(),u=rr();return!u&&r&&i&&t&&n}function yr(){return!!(ft.swipe||ft.swipeStatus||ft.swipeLeft||ft.swipeRight||ft.swipeUp||ft.swipeDown)}function eu(){return!(!vr()||!yr())}function pr(){return ct===ft.fingers||ft.fingers===a||!l}function wr(){return 0!==ht[0].end.x}function br(){return!!ft.tap}function ur(){return!!ft.doubleTap}function ou(){return!!ft.longTap}function kr(){if(null==ti)return!1;var n=dt();return ur()&&n-ti<=ft.doubleTapThreshold}function su(){return kr()}function hu(){return(1===ct||!l)&&(isNaN(at)||at<ft.threshold)}function cu(){return lt>ft.longTapThreshold&&at<et}function lu(){return!(!hu()||!br())}function au(){return!(!kr()||!ur())}function vu(){return!(!cu()||!ou())}function yu(n){bi=dt();hr=n.touches.length+1}function dr(){bi=0;hr=0}function si(){var n=!1,t;return bi&&(t=dt()-bi,t<=ft.fingerReleaseThreshold&&(n=!0)),n}function pu(){return!(ot.data(c+"_intouch")!==!0)}function hi(n){ot&&(n===!0?(ot.bind(er,di),ot.bind(or,gi),ui&&ot.bind(ui,nr)):(ot.unbind(er,di,!1),ot.unbind(or,gi,!1),ui&&ot.unbind(ui,nr,!1)),ot.data(c+"_intouch",n===!0))}function ci(n,t){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=t.pageX||t.clientX,i.start.y=i.last.y=i.end.y=t.pageY||t.clientY,ht[n]=i,i}function gr(n){var i=void 0!==n.identifier?n.identifier:0,t=wu(i);return null===t&&(t=ci(i,n)),t.last.x=t.end.x,t.last.y=t.end.y,t.end.x=n.pageX||n.clientX,t.end.y=n.pageY||n.clientY,t}function wu(n){return ht[n]||null}function bu(n,t){n!=o&&(t=Math.max(t,nu(n)),pi[n].distance=t)}function nu(n){if(pi[n])return pi[n].distance}function ku(){var n={};return n[r]=li(r),n[u]=li(u),n[f]=li(f),n[e]=li(e),n}function li(n){return{direction:n,distance:0}}function tu(){return wi-sr}function fr(n,t){var i=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y);return Math.round(Math.sqrt(i*i+r*r))}function du(n,t){var i=t/n*1;return i.toFixed(2)}function gu(){return wt<1?p:y}function nf(n,t){return Math.round(Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)))}function tf(n,t){var r=n.x-t.x,u=t.y-n.y,f=Math.atan2(u,r),i=Math.round(180*f/Math.PI);return i<0&&(i=360-Math.abs(i)),i}function iu(n,t){if(ff(n,t))return o;var i=tf(n,t);return i<=45&&i>=0?r:i<=360&&i>=315?r:i>=135&&i<=225?u:i>45&&i<135?e:f}function dt(){var n=new Date;return n.getTime()}function rf(t){t=n(t);var i=t.offset();return{left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()}}function uf(n,t){return n.x>t.left&&n.x<t.right&&n.y>t.top&&n.y<t.bottom}function ff(n,t){return n.x==t.x&&n.y==t.y}var ft=n.extend({},ft),ai=l||h||!ft.fallbackToMouseEvents,vi=ai?h?v?"MSPointerDown":"pointerdown":"touchstart":"mousedown",er=ai?h?v?"MSPointerMove":"pointermove":"touchmove":"mousemove",or=ai?h?v?"MSPointerUp":"pointerup":"touchend":"mouseup",ui=ai?h?"mouseleave":null:"mouseleave",yi=h?v?"MSPointerCancel":"pointercancel":"touchcancel",at=0,vt=null,yt=null,lt=0,gt=0,ni=0,wt=1,bt=0,kt=0,pi=null,ot=n(ut),st="start",ct=0,ht={},sr=0,wi=0,bi=0,hr=0,ti=0,fi=null,ei=null;try{ot.bind(vi,ki);ot.bind(yi,ii)}catch(ef){n.error("events not supported "+vi+","+yi+" on jQuery.swipe")}this.enable=function(){return this.disable(),ot.bind(vi,ki),ot.bind(yi,ii),ot};this.disable=function(){return cr(),ot};this.destroy=function(){cr();ot.data(c,null);ot=null};this.option=function(t,i){if("object"==typeof t)ft=n.extend(ft,t);else if(void 0!==ft[t]){if(void 0===i)return ft[t];ft[t]=i}else{if(!t)return ft;n.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var r="left",u="right",f="up",e="down",y="in",p="out",o="none",d="auto",g="swipe",nt="pinch",w="tap",tt="doubletap",it="longtap",b="horizontal",k="vertical",a="all",et=10,rt="start",s="move",t="end",i="cancel",l="ontouchstart"in window,v=window.navigator.msPointerEnabled&&!window.PointerEvent&&!l,h=(window.PointerEvent||window.navigator.msPointerEnabled)&&!l,c="TouchSwipe";n.fn.swipe=function(t){var r=n(this),i=r.data(c);if(i&&"string"==typeof t){if(i[t])return i[t].apply(i,Array.prototype.slice.call(arguments,1));n.error("Method "+t+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof t)i.option.apply(i,arguments);else if(!(i||"object"!=typeof t&&t))return ut.apply(this,arguments);return r};n.fn.swipe.version="1.6.18";n.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};n.fn.swipe.phases={PHASE_START:rt,PHASE_MOVE:s,PHASE_END:t,PHASE_CANCEL:i};n.fn.swipe.directions={LEFT:r,RIGHT:u,UP:f,DOWN:e,IN:y,OUT:p};n.fn.swipe.pageScroll={NONE:o,HORIZONTAL:b,VERTICAL:k,AUTO:d};n.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:a}});window.libpannellum=function(n,t,i){function r(r){function lt(n,t){return 1==n.level&&1!=t.level?-1:1==t.level&&1!=n.level?1:t.timestamp-n.timestamp}function at(n,t){return n.level!=t.level?n.level-t.level:n.diff-t.diff}function b(n,t,i,r,u,f){this.vertices=n;this.side=t;this.level=i;this.x=r;this.y=u;this.path=f.replace("%s",t).replace("%l",i).replace("%x",r).replace("%y",u)}function ft(n,t,i,r,u){var f,o=t.vertices;f=d(n,o.slice(0,3));var e=d(n,o.slice(3,6)),s=d(n,o.slice(6,9)),o=d(n,o.slice(9,12)),h=f[0]+e[0]+s[0]+o[0];if(-4==h||4==h?f=!1:(h=f[1]+e[1]+s[1]+o[1],f=-4==h||4==h?!1:4!=f[2]+e[2]+s[2]+o[2]),f){for(f=t.vertices,e=f[0]+f[3]+f[6]+f[9],s=f[1]+f[4]+f[7]+f[10],o=f[2]+f[5]+f[8]+f[11],h=Math.sqrt(e*e+s*s+o*o),o=Math.asin(o/h),e=Math.atan2(s,e)-r,e+=e>Math.PI?-2*Math.PI:e<-Math.PI?2*Math.PI:0,e=Math.abs(e),t.diff=Math.acos(Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(e)),e=!1,s=0;s<c.nodeCache.length;s++)if(c.nodeCache[s].path==t.path){e=!0;c.nodeCache[s].timestamp=c.nodeCacheTimestamp++;c.nodeCache[s].diff=t.diff;c.currentNodes.push(c.nodeCache[s]);break}if(e||(t.timestamp=c.nodeCacheTimestamp++,c.currentNodes.push(t),c.nodeCache.push(t)),t.level<c.level){var o=l.cubeResolution*Math.pow(2,t.level-l.maxLevel),e=Math.ceil(o*l.invTileResolution)-1,s=o%l.tileResolution*2,a=2*o%l.tileResolution;0===a&&(a=l.tileResolution);0===s&&(s=2*l.tileResolution);h=.5;(t.x==e||t.y==e)&&(h=1-l.tileResolution/(l.tileResolution+a));var p=1-h,o=[],w=h,k=h,v=h,g=p,nt=p,y=p;for(a<l.tileResolution&&(t.x==e&&t.y!=e?(nt=k=.5,"d"==t.side||"u"==t.side)&&(y=v=.5):t.x!=e&&t.y==e&&(g=w=.5,"l"==t.side||"r"==t.side)&&(y=v=.5)),s<=l.tileResolution&&(t.x==e&&(w=0,g=1,"l"==t.side||"r"==t.side)&&(v=0,y=1),t.y==e&&(k=0,nt=1,"d"==t.side||"u"==t.side)&&(v=0,y=1)),a=[f[0],f[1],f[2],f[0]*w+f[3]*g,f[1]*h+f[4]*p,f[2]*v+f[5]*y,f[0]*w+f[6]*g,f[1]*k+f[7]*nt,f[2]*v+f[8]*y,f[0]*h+f[9]*p,f[1]*k+f[10]*nt,f[2]*v+f[11]*y],a=new b(a,t.side,t.level+1,2*t.x,2*t.y,l.fullpath),o.push(a),t.x==e&&s<=l.tileResolution||(a=[f[0]*w+f[3]*g,f[1]*h+f[4]*p,f[2]*v+f[5]*y,f[3],f[4],f[5],f[3]*h+f[6]*p,f[4]*k+f[7]*nt,f[5]*v+f[8]*y,f[0]*w+f[6]*g,f[1]*k+f[7]*nt,f[2]*v+f[8]*y],a=new b(a,t.side,t.level+1,2*t.x+1,2*t.y,l.fullpath),o.push(a)),t.x==e&&s<=l.tileResolution||t.y==e&&s<=l.tileResolution||(a=[f[0]*w+f[6]*g,f[1]*k+f[7]*nt,f[2]*v+f[8]*y,f[3]*h+f[6]*p,f[4]*k+f[7]*nt,f[5]*v+f[8]*y,f[6],f[7],f[8],f[9]*w+f[6]*g,f[10]*h+f[7]*p,f[11]*v+f[8]*y],a=new b(a,t.side,t.level+1,2*t.x+1,2*t.y+1,l.fullpath),o.push(a)),t.y==e&&s<=l.tileResolution||(a=[f[0]*h+f[9]*p,f[1]*k+f[10]*nt,f[2]*v+f[11]*y,f[0]*w+f[6]*g,f[1]*k+f[7]*nt,f[2]*v+f[8]*y,f[9]*w+f[6]*g,f[10]*h+f[7]*p,f[11]*v+f[8]*y,f[9],f[10],f[11]],a=new b(a,t.side,t.level+1,2*t.x,2*t.y+1,l.fullpath),o.push(a)),t=0;t<o.length;t++)ft(n,o[t],i,r,u)}}}function et(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function nt(n,t,i){var r=Math.sin(t);return(t=Math.cos(t),"x"==i)?[n[0],t*n[1]+r*n[2],t*n[2]-r*n[1],n[3],t*n[4]+r*n[5],t*n[5]-r*n[4],n[6],t*n[7]+r*n[8],t*n[8]-r*n[7]]:"y"==i?[t*n[0]-r*n[2],n[1],t*n[2]+r*n[0],t*n[3]-r*n[5],n[4],t*n[5]+r*n[3],t*n[6]-r*n[8],n[7],t*n[8]+r*n[6]]:"z"==i?[t*n[0]+r*n[1],t*n[1]-r*n[0],n[2],t*n[3]+r*n[4],t*n[4]-r*n[3],n[5],t*n[6]+r*n[7],t*n[7]-r*n[6],n[8]]:void 0}function ot(n){return[n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15]]}function vt(n){n.textureLoad||(n.textureLoad=!0,ct(encodeURI(n.path+"."+l.extension),function(t){n.texture=t;n.textureLoaded=!0}))}function d(n,t){var i=[n[0]*t[0]+n[1]*t[1]+n[2]*t[2],n[4]*t[0]+n[5]*t[1]+n[6]*t[2],n[11]+n[8]*t[0]+n[9]*t[1]+n[10]*t[2],1/(n[12]*t[0]+n[13]*t[1]+n[14]*t[2])],u=i[0]*i[3],f=i[1]*i[3],i=i[2]*i[3],r=[0,0,0];return-1>u&&(r[0]=-1),1<u&&(r[0]=1),-1>f&&(r[1]=-1),1<f&&(r[1]=1),(-1>i||1<i)&&(r[2]=1),r}var a=t.createElement("canvas"),c,h,y,p,st,w,tt,k,l,v,ht,it,rt,g,ut,ct;a.style.width=a.style.height="100%";r.appendChild(a);this.init=function(n,b,d,nt,ft,ot,ct,lt){if(typeof b===i&&(b="equirectangular"),v=b,l=n,ht=d,c){if(y&&(h.detachShader(c,y),h.deleteShader(y)),p&&(h.detachShader(c,p),h.deleteShader(p)),h.bindBuffer(h.ARRAY_BUFFER,null),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null),c.texture&&h.deleteTexture(c.texture),c.nodeCache)for(n=0;n<c.nodeCache.length;n++)h.deleteTexture(c.nodeCache[n].texture);h.deleteProgram(c);c=i}if(k=i,"cubemap"==v&&0!=(l[0].width&l[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||h||(h=a.getContext("experimental-webgl",{alpha:!1,depth:!1})),!h&&("multires"==v&&l.hasOwnProperty("fallbackPath")||"cubemap"==v)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){w&&r.removeChild(w);w=t.createElement("div");w.className="pnlm-world";nt=l.basePath?l.basePath+l.fallbackPath:l.fallbackPath;var at="frblud".split(""),vt=0;for(ft=function(){var n=t.createElement("canvas"),e,o,u,f,i;for(n.className="pnlm-face pnlm-"+at[this.side]+"face",w.appendChild(n),e=n.getContext("2d"),n.style.width=this.width+4+"px",n.style.height=this.height+4+"px",n.width=this.width+4,n.height=this.height+4,e.drawImage(this,2,2),o=e.getImageData(0,0,n.width,n.height),u=o.data,f=2;f<n.width-2;f++)for(i=0;4>i;i++)u[4*(f+n.width)+i]=u[4*(f+2*n.width)+i],u[4*(f+n.width*(n.height-2))+i]=u[4*(f+n.width*(n.height-3))+i];for(f=2;f<n.height-2;f++)for(i=0;4>i;i++)u[4*(f*n.width+1)+i]=u[4*(f*n.width+2)+i],u[4*((f+1)*n.width-2)+i]=u[4*((f+1)*n.width-3)+i];for(i=0;4>i;i++)u[4*(n.width+1)+i]=u[4*(2*n.width+2)+i],u[4*(2*n.width-2)+i]=u[4*(3*n.width-3)+i],u[4*(n.width*(n.height-2)+1)+i]=u[4*(n.width*(n.height-3)+2)+i],u[4*(n.width*(n.height-1)-2)+i]=u[4*(n.width*(n.height-2)-3)+i];for(f=1;f<n.width-1;f++)for(i=0;4>i;i++)u[4*f+i]=u[4*(f+n.width)+i],u[4*(f+n.width*(n.height-1))+i]=u[4*(f+n.width*(n.height-2))+i];for(f=1;f<n.height-1;f++)for(i=0;4>i;i++)u[f*n.width*4+i]=u[4*(f*n.width+1)+i],u[4*((f+1)*n.width-1)+i]=u[4*((f+1)*n.width-2)+i];for(i=0;4>i;i++)u[i]=u[4*(n.width+1)+i],u[4*(n.width-1)+i]=u[4*(2*n.width-2)+i],u[n.width*(n.height-1)*4+i]=u[4*(n.width*(n.height-2)+1)+i],u[4*(n.width*n.height-1)+i]=u[4*(n.width*(n.height-1)-2)+i];e.putImageData(o,0,0);vt++;6==vt&&(st=this.width,r.appendChild(w),ct())},n=0;6>n;n++)ot=new Image,ot.crossOrigin="anonymous",ot.side=n,ot.onload=ft,ot.src="multires"==v?encodeURI(nt.replace("%s",at[n])+"."+l.extension):encodeURI(l[n].src)}else{if(!h)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(l.fullpath=l.basePath?l.basePath+l.path:l.path,l.invTileResolution=1/l.tileResolution,b=et(),tt=[],n=0;6>n;n++)tt[n]=b.slice(12*n,12*n+12),b=et();if("equirectangular"==v){if(n=Math.max(l.width,l.height),b=h.getParameter(h.MAX_TEXTURE_SIZE),n>b)throw console.log("Error: The image is too big; it's "+n+"px wide, but this device's maximum supported width is "+b+"px."),{type:"webgl size error",width:n,maxWidth:b};}else if("cubemap"==v&&(n=l[0].width,b=h.getParameter(h.MAX_CUBE_MAP_TEXTURE_SIZE),n>b))throw console.log("Error: The cube face image is too big; it's "+n+"px wide, but this device's maximum supported width is "+b+"px."),{type:"webgl size error",width:n,maxWidth:b};if(lt===i||lt.horizonPitch===i&&lt.horizonRoll===i||(k=[lt.horizonPitch==i?0:lt.horizonPitch,lt.horizonRoll==i?0:lt.horizonRoll]),n=h.TEXTURE_2D,h.viewport(0,0,a.width,a.height),y=h.createShader(h.VERTEX_SHADER),b=u,"multires"==v&&(b=f),h.shaderSource(y,b),h.compileShader(y),p=h.createShader(h.FRAGMENT_SHADER),b=o,"cubemap"==v?(n=h.TEXTURE_CUBE_MAP,b=e):"multires"==v&&(b=s),h.shaderSource(p,b),h.compileShader(p),c=h.createProgram(),h.attachShader(c,y),h.attachShader(c,p),h.linkProgram(c),h.getShaderParameter(y,h.COMPILE_STATUS)||console.log(h.getShaderInfoLog(y)),h.getShaderParameter(p,h.COMPILE_STATUS)||console.log(h.getShaderInfoLog(p)),h.getProgramParameter(c,h.LINK_STATUS)||console.log(h.getProgramInfoLog(c)),h.useProgram(c),c.drawInProgress=!1,c.texCoordLocation=h.getAttribLocation(c,"a_texCoord"),h.enableVertexAttribArray(c.texCoordLocation),"multires"!=v?(it||(it=h.createBuffer()),h.bindBuffer(h.ARRAY_BUFFER,it),h.bufferData(h.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),h.STATIC_DRAW),h.vertexAttribPointer(c.texCoordLocation,2,h.FLOAT,!1,0,0),c.aspectRatio=h.getUniformLocation(c,"u_aspectRatio"),h.uniform1f(c.aspectRatio,a.width/a.height),c.psi=h.getUniformLocation(c,"u_psi"),c.theta=h.getUniformLocation(c,"u_theta"),c.f=h.getUniformLocation(c,"u_f"),c.h=h.getUniformLocation(c,"u_h"),c.v=h.getUniformLocation(c,"u_v"),c.vo=h.getUniformLocation(c,"u_vo"),c.rot=h.getUniformLocation(c,"u_rot"),h.uniform1f(c.h,nt/(2*Math.PI)),h.uniform1f(c.v,ft/Math.PI),h.uniform1f(c.vo,ot/Math.PI*2),"equirectangular"==v&&(c.backgroundColor=h.getUniformLocation(c,"u_backgroundColor"),h.uniform4fv(c.backgroundColor,(lt.backgroundColor?lt.backgroundColor:[0,0,0]).concat([1]))),c.texture=h.createTexture(),h.bindTexture(n,c.texture),"cubemap"==v?(h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l[1]),h.texImage2D(h.TEXTURE_CUBE_MAP_NEGATIVE_X,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l[3]),h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_Y,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l[4]),h.texImage2D(h.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l[5]),h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_Z,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l[0]),h.texImage2D(h.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l[2])):h.texImage2D(n,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l),h.texParameteri(n,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(n,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(n,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(n,h.TEXTURE_MAG_FILTER,h.LINEAR)):(c.vertPosLocation=h.getAttribLocation(c,"a_vertCoord"),h.enableVertexAttribArray(c.vertPosLocation),rt||(rt=h.createBuffer()),g||(g=h.createBuffer()),ut||(ut=h.createBuffer()),h.bindBuffer(h.ARRAY_BUFFER,g),h.bufferData(h.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,ut),h.bufferData(h.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),h.STATIC_DRAW),c.perspUniform=h.getUniformLocation(c,"u_perspMatrix"),c.cubeUniform=h.getUniformLocation(c,"u_cubeMatrix"),c.level=-1,c.currentNodes=[],c.nodeCache=[],c.nodeCacheTimestamp=0),0!==h.getError())throw console.log("Error: Something went wrong with WebGL!"),{type:"webgl error"};ct()}};this.destroy=function(){if(r!==i&&(a!==i&&r.removeChild(a),w!==i&&r.removeChild(w)),h){var n=h.getExtension("WEBGL_lose_context");n&&n.loseContext()}};this.resize=function(){var t=n.devicePixelRatio||1;a.width=a.clientWidth*t;a.height=a.clientHeight*t;h&&(h.viewport(0,0,a.width,a.height),"multires"!=v&&h.uniform1f(c.aspectRatio,a.width/a.height))};this.resize();this.render=function(t,r,u,f){var o;if(o=0,f===i&&(f={}),f.roll&&(o=f.roll),k!==i){var s=k[0],e=k[1],y=t,p=r,d=Math.cos(e)*Math.sin(t)*Math.sin(s)+Math.cos(t)*(Math.cos(s)*Math.cos(r)+Math.sin(e)*Math.sin(s)*Math.sin(r)),it=-Math.sin(t)*Math.sin(e)+Math.cos(t)*Math.cos(e)*Math.sin(r);t=Math.cos(e)*Math.cos(s)*Math.sin(t)+Math.cos(t)*(-Math.cos(r)*Math.sin(s)+Math.cos(s)*Math.sin(e)*Math.sin(r));t=Math.asin(Math.max(Math.min(t,1),-1));r=Math.atan2(it,d);s=[Math.cos(y)*(Math.sin(e)*Math.sin(s)*Math.cos(p)-Math.cos(s)*Math.sin(p)),Math.cos(y)*Math.cos(e)*Math.cos(p),Math.cos(y)*(Math.cos(s)*Math.sin(e)*Math.cos(p)+Math.sin(p)*Math.sin(s))];e=[-Math.cos(t)*Math.sin(r),Math.cos(t)*Math.cos(r)];e=Math.acos(Math.max(Math.min((s[0]*e[0]+s[1]*e[1])/(Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2])*Math.sqrt(e[0]*e[0]+e[1]*e[1])),1),-1));0>s[2]&&(e=2*Math.PI-e);o+=e}if(h||"multires"!=v&&"cubemap"!=v){if("multires"!=v)u=2*Math.atan(Math.tan(.5*u)/(a.width/a.height)),u=1/Math.tan(.5*u),h.uniform1f(c.psi,r),h.uniform1f(c.theta,t),h.uniform1f(c.rot,o),h.uniform1f(c.f,u),!0===ht&&"equirectangular"==v&&(h.bindTexture(h.TEXTURE_2D,c.texture),h.texImage2D(h.TEXTURE_2D,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,l)),h.drawArrays(h.TRIANGLES,0,6);else{for(s=a.width/a.height,e=2*Math.atan(Math.tan(u/2)*a.height/a.width),e=1/Math.tan(e/2),s=[e/s,0,0,0,0,e,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],e=1;e<l.maxLevel&&a.width>l.tileResolution*Math.pow(2,e-1)*Math.tan(u/2)*.707;)e++;if(c.level=e,e=[1,0,0,0,1,0,0,0,1],e=nt(e,-o,"z"),e=nt(e,-t,"x"),e=nt(e,r,"y"),e=[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1],h.uniformMatrix4fv(c.perspUniform,!1,new Float32Array(ot(s))),h.uniformMatrix4fv(c.cubeUniform,!1,new Float32Array(ot(e))),s=[s[0]*e[0],s[0]*e[1],s[0]*e[2],0,s[5]*e[4],s[5]*e[5],s[5]*e[6],0,s[10]*e[8],s[10]*e[9],s[10]*e[10],s[11],-e[8],-e[9],-e[10],0],c.nodeCache.sort(lt),200<c.nodeCache.length&&c.nodeCache.length>c.currentNodes.length+50)for(e=c.nodeCache.splice(200,c.nodeCache.length-200),o=0;o<e.length;o++)h.deleteTexture(e[o].texture);for(c.currentNodes=[],e="fbudlr".split(""),o=0;6>o;o++)y=new b(tt[o],e[o],1,0,0,l.fullpath),ft(s,y,t,r,u);for(c.currentNodes.sort(at),o=0;o<c.currentNodes.length;o++)if(!c.currentNodes[o].texture){setTimeout(vt(c.currentNodes[o]),0);break}if(!c.drawInProgress){for(c.drawInProgress=!0,t=0;t<c.currentNodes.length;t++)c.currentNodes[t].textureLoaded&&(h.bindBuffer(h.ARRAY_BUFFER,rt),h.bufferData(h.ARRAY_BUFFER,new Float32Array(c.currentNodes[t].vertices),h.STATIC_DRAW),h.vertexAttribPointer(c.vertPosLocation,3,h.FLOAT,!1,0,0),h.bindBuffer(h.ARRAY_BUFFER,g),h.vertexAttribPointer(c.texCoordLocation,2,h.FLOAT,!1,0,0),h.bindTexture(h.TEXTURE_2D,c.currentNodes[t].texture),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0));c.drawInProgress=!1}}if(f.returnImage!==i)return a.toDataURL("image/png")}else for(o=st/2,f={f:"translate3d(-"+(o+2)+"px, -"+(o+2)+"px, -"+o+"px)",b:"translate3d("+(o+2)+"px, -"+(o+2)+"px, "+o+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(o+2)+"px, -"+o+"px, "+(o+2)+"px) rotateX(270deg)",d:"translate3d(-"+(o+2)+"px, "+o+"px, -"+(o+2)+"px) rotateX(90deg)",l:"translate3d(-"+o+"px, -"+(o+2)+"px, "+(o+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+o+"px, -"+(o+2)+"px, -"+(o+2)+"px) rotateY(270deg)"},u=1/Math.tan(u/2),u=u*a.width/(n.devicePixelRatio||1)/2+"px",t="perspective("+u+") translateZ("+u+") rotateX("+t+"rad) rotateY("+r+"rad) ",r=Object.keys(f),o=0;6>o;o++)u=w.querySelector(".pnlm-"+r[o]+"face").style,u.webkitTransform=t+f[r[o]],u.transform=t+f[r[o]]};this.isLoading=function(){if(h&&"multires"==v)for(var n=0;n<c.currentNodes.length;n++)if(!c.currentNodes[n].textureLoaded)return!0;return!1};this.getCanvas=function(){return a};ct=function(){function u(){var t=this;this.texture=this.callback=null;this.image=new Image;this.image.crossOrigin="anonymous";this.image.addEventListener("load",function(){var u=t.image;h.bindTexture(h.TEXTURE_2D,t.texture);h.texImage2D(h.TEXTURE_2D,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,u);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.bindTexture(h.TEXTURE_2D,null);t.callback(t.texture);r.length?(u=r.shift(),t.loadTexture(u.src,u.texture,u.callback)):i[n++]=t})}function f(n,t,i){this.src=n;this.texture=t;this.callback=i}var n=4,i={},r=[],t;for(u.prototype.loadTexture=function(n,t,i){this.texture=t;this.callback=i;this.image.src=n},t=0;t<n;t++)i[t]=new u;return function(t,u){var e=h.createTexture();return n?i[--n].loadTexture(t,e,u):r.push(new f(t,e,u)),e}}()}var u="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",f="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",e="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",o="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",s="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(n,t,i,u){return new r(n,t,i,u)}}}(window,document);window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}());window.pannellum=function(n,t,i){function r(r,u){function or(){var u=t.createElement("div"),e,s;if(u.innerHTML="<!--[if lte IE 9]><i><\/i><![endif]-->",1==u.getElementsByTagName("i").length)it();else{if(kt=f.hfov,dt=f.pitch,"cubemap"==f.type){for(w=[],u=0;6>u;u++)w.push(new Image),w[u].crossOrigin="anonymous";o.load.lbox.style.display="block";o.load.lbar.style.display="none"}else if("multires"==f.type)u=JSON.parse(JSON.stringify(f.multiRes)),f.basePath&&f.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(f.multiRes.basePath)?u.basePath=f.basePath+f.multiRes.basePath:f.multiRes.basePath?u.basePath=f.multiRes.basePath:f.basePath&&(u.basePath=f.basePath),w=u;else if(!0===f.dynamic)w=f.panorama;else{if(f.panorama===i){it("No panorama image was specified.");return}w=new Image}if("cubemap"==f.type)for(var h=6,c=function(){h--;0===h&&ni()},l=function(n){var i=t.createElement("a");i.href=n.target.src;i.innerHTML=i.href;it("The file "+i.outerHTML+" could not be accessed.")},u=0;u<w.length;u++)w[u].onload=c,w[u].onerror=l,e=f.cubeMap[u],f.basePath&&!gt(e)&&(e=f.basePath+e),w[u].src=encodeURI(e);else if("multires"==f.type)ni();else if(e="",f.basePath&&(e=f.basePath),!0!==f.dynamic){e=gt(f.panorama)?f.panorama:e+f.panorama;w.onload=function(){n.URL.revokeObjectURL(this.src);ni()};s=new XMLHttpRequest;s.onloadend=function(){if(200!=s.status){var n=t.createElement("a");n.href=encodeURI(e);n.innerHTML=n.href;it("The file "+n.outerHTML+" could not be accessed.")}ru(this.response);o.load.msg.innerHTML=""};s.onprogress=function(n){if(n.lengthComputable){o.load.lbarFill.style.width=n.loaded/n.total*100+"%";var t,i;1e6<n.total?(t="MB",i=(n.loaded/1e6).toFixed(2),n=(n.total/1e6).toFixed(2)):1e3<n.total?(t="kB",i=(n.loaded/1e3).toFixed(1),n=(n.total/1e3).toFixed(1)):(t="B",i=n.loaded,n=n.total);o.load.msg.innerHTML=i+" / "+n+" "+t}else o.load.lbox.style.display="block",o.load.lbar.style.display="none"};try{s.open("GET",e,!0)}catch(a){it("There is something wrong with the panorama URL.")}s.responseType="blob";s.setRequestHeader("Accept","image/*,*/*;q=0.9");s.send()}r.classList.add("pnlm-grab");r.classList.remove("pnlm-grabbing")}}function gt(n){return/^(?:[a-z]+:)?\/\//i.test(n)||"/"==n[0]||"blob:"==n.slice(0,5)}function ni(){c||(c=new libpannellum.renderer(a));tr||(tr=!0,l.addEventListener("mousedown",sr,!1),t.addEventListener("mousemove",cr,!1),t.addEventListener("mouseup",ti,!1),f.mouseZoom&&(r.addEventListener("mousewheel",ri,!1),r.addEventListener("DOMMouseScroll",ri,!1)),r.addEventListener("mozfullscreenchange",rt,!1),r.addEventListener("webkitfullscreenchange",rt,!1),r.addEventListener("msfullscreenchange",rt,!1),r.addEventListener("fullscreenchange",rt,!1),n.addEventListener("resize",ui,!1),n.addEventListener("orientationchange",ui,!1),r.addEventListener("keydown",vr,!1),r.addEventListener("keyup",pr,!1),r.addEventListener("blur",yr,!1),t.addEventListener("mouseleave",ti,!1),l.addEventListener("touchstart",wi,!1),l.addEventListener("touchmove",bi,!1),l.addEventListener("touchend",ki,!1),l.addEventListener("pointerdown",lr,!1),l.addEventListener("pointermove",ar,!1),l.addEventListener("pointerup",ii,!1),l.addEventListener("pointerleave",ii,!1),n.navigator.pointerEnabled&&(r.style.touchAction="none"));eu();setTimeout(function(){},500)}function ru(t){var r=new FileReader;r.addEventListener("loadend",function(){var o=r.result,e;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)&&(e=o.indexOf("ÿÂ"),(0>e||65536<e)&&it("Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).")),e=o.indexOf("<x:xmpmeta"),-1<e&&!0!==f.ignoreGPanoXMP){var s=o.substring(e,o.indexOf("<\/x:xmpmeta>")+12),u=function(n){var t;return 0<=s.indexOf(n+'="')?(t=s.substring(s.indexOf(n+'="')+n.length+2),t=t.substring(0,t.indexOf('"'))):0<=s.indexOf(n+">")&&(t=s.substring(s.indexOf(n+">")+n.length+1),t=t.substring(0,t.indexOf("<"))),t!==i?Number(t):null},o=u("GPano:FullPanoWidthPixels"),e=u("GPano:CroppedAreaImageWidthPixels"),h=u("GPano:FullPanoHeightPixels"),c=u("GPano:CroppedAreaImageHeightPixels"),l=u("GPano:CroppedAreaTopPixels"),a=u("GPano:PoseHeadingDegrees"),v=u("GPano:PosePitchDegrees"),u=u("GPano:PoseRollDegrees");null!==o&&null!==e&&null!==h&&null!==c&&null!==l&&(0>nt.indexOf("haov")&&(f.haov=e/o*360),0>nt.indexOf("vaov")&&(f.vaov=c/h*180),0>nt.indexOf("vOffset")&&(f.vOffset=-180*((l+c/2)/h-.5)),null!==a&&0>nt.indexOf("northOffset")&&(f.northOffset=a,!1!==f.compass&&(f.compass=!0)),null!==v&&null!==u&&(0>nt.indexOf("horizonPitch")&&(f.horizonPitch=v),0>nt.indexOf("horizonRoll")&&(f.horizonRoll=u)))}w.src=n.URL.createObjectURL(t)});r.readAsBinaryString!==i?r.readAsBinaryString(t):r.readAsText(t)}function it(n){n===i&&(n="Trình duyệt bạn đang sử dụng không hỗ trợ tính năng này. Vui lòng nâng cấp lên phiên bản mới nhất để xem được ảnh 360.");o.errorMsg.innerHTML="<p>"+n+"<\/p>";s.load.style.display="none";o.load.box.style.display="none";o.errorMsg.style.display="table";yi=!0;a.style.display="none";ct("error",n)}function vt(n){var t=et(n);tt.style.left=t.x+"px";tt.style.top=t.y+"px";clearTimeout(vt.t1);clearTimeout(vt.t2);tt.style.display="block";tt.style.opacity=1;vt.t1=setTimeout(function(){tt.style.opacity=0},2e3);vt.t2=setTimeout(function(){tt.style.display="none"},2500);n.preventDefault()}function et(n){var i=r.getBoundingClientRect(),t={};return t.x=n.clientX-i.left,t.y=n.clientY-i.top,t}function sr(n){var t,i;n.preventDefault();r.focus();p&&(t=et(n),f.hotSpotDebug&&(i=hr(n),console.log("Pitch: "+i[0]+", Yaw: "+i[1]+", Center Pitch: "+f.pitch+", Center Yaw: "+f.yaw+", HFOV: "+f.hfov)),ei(),si(),f.roll=0,h.hfov=0,ot=!0,b=Date.now(),pt=t.x,wt=t.y,li=f.yaw,ai=f.pitch,r.classList.add("pnlm-grabbing"),r.classList.remove("pnlm-grab"),ct("mousedown",n),v())}function hr(t){var u=et(t),i,r;t=c.getCanvas();i=t.width/(n.devicePixelRatio||1);r=t.height/(n.devicePixelRatio||1);t=u.x/i*2-1;var r=(1-u.y/r*2)*r/i,e=1/Math.tan(f.hfov*Math.PI/360),o=Math.sin(f.pitch*Math.PI/180),s=Math.cos(f.pitch*Math.PI/180),u=e*s-r*o,i=Math.sqrt(t*t+u*u),r=180*Math.atan((r*s+e*o)/i)/Math.PI;return t=180*Math.atan2(t/i,u/i)/Math.PI+f.yaw,[r,t]}function cr(t){var u;if(ot&&p){b=Date.now();var r=c.getCanvas(),i=r.width/(n.devicePixelRatio||1),r=r.height/(n.devicePixelRatio||1);t=et(t);u=180*(Math.atan(pt/i*2-1)-Math.atan(t.x/i*2-1))/Math.PI*f.hfov/90+li;h.yaw=(u-f.yaw)%360*.2;f.yaw=u;i=360*Math.atan(Math.tan(f.hfov/360*Math.PI)*r/i)/Math.PI;i=180*(Math.atan(t.y/r*2-1)-Math.atan(wt/r*2-1))/Math.PI*i/90+ai;h.pitch=.2*(i-f.pitch);f.pitch=i}}function ti(n){ot&&(ot=!1,15<Date.now()-b&&(h.pitch=h.yaw=0),r.classList.add("pnlm-grab"),r.classList.remove("pnlm-grabbing"),b=Date.now(),ct("mouseup",n))}function wi(n){if(p){ei();si();f.roll=0;h.hfov=0;var t=et(n.targetTouches[0]);pt=t.x;wt=t.y;2==n.targetTouches.length&&(n=et(n.targetTouches[1]),pt+=.5*(n.x-t.x),wt+=.5*(n.y-t.y),bt=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)));ot=!0;b=Date.now();li=f.yaw;ai=f.pitch;v()}}function bi(n){if(n.preventDefault(),p&&(b=Date.now()),ot&&p){var t=et(n.targetTouches[0]),i=t.x,r=t.y;2==n.targetTouches.length&&-1!=bt&&(n=et(n.targetTouches[1]),i+=.5*(n.x-t.x),r+=.5*(n.y-t.y),t=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)),k(f.hfov+.1*(bt-t)),bt=t);t=f.hfov/360;i=(pt-i)*t+li;h.yaw=(i-f.yaw)%360*.2;f.yaw=i;r=(r-wt)*t+ai;h.pitch=.2*(r-f.pitch);f.pitch=r}}function ki(){ot=!1;150<Date.now()-b&&(h.pitch=h.yaw=0);bt=-1;b=Date.now()}function lr(n){"touch"==n.pointerType&&(ft.push(n.pointerId),at.push({clientX:n.clientX,clientY:n.clientY}),n.targetTouches=at,wi(n),n.preventDefault())}function ar(n){if("touch"==n.pointerType)for(var t=0;t<ft.length;t++)if(n.pointerId==ft[t]){at[t]={clientX:n.clientX,clientY:n.clientY};n.targetTouches=at;bi(n);break}}function ii(n){if("touch"==n.pointerType){for(var r=!1,t=0;t<ft.length;t++)n.pointerId==ft[t]&&(ft[t]=i),ft[t]&&(r=!0);r||(ft=[],at=[],ki());n.preventDefault()}}function ri(n){n.preventDefault();p&&(ei(),b=Date.now(),n.wheelDeltaY?(k(f.hfov-.05*n.wheelDeltaY),h.hfov=0>n.wheelDelta?1:-1):n.wheelDelta?(k(f.hfov-.05*n.wheelDelta),h.hfov=0>n.wheelDelta?1:-1):n.detail&&(k(f.hfov+1.5*n.detail),h.hfov=0<n.detail?1:-1),v())}function vr(n){n.preventDefault();ei();b=Date.now();si();f.roll=0;var t=n.keycode;n.which&&(t=n.which);27==t?vi&&nr():wr(t,!0)}function yr(){for(var n=0;10>n;n++)e[n]=!1}function pr(n){n.preventDefault();var t=n.keycode;n.which&&(t=n.which);wr(t,!1)}function wr(n,t){var i=!1;switch(n){case 109:case 189:case 17:e[0]!=t&&(i=!0);e[0]=t;break;case 107:case 187:case 16:e[1]!=t&&(i=!0);e[1]=t;break;case 38:e[2]!=t&&(i=!0);e[2]=t;break;case 87:e[6]!=t&&(i=!0);e[6]=t;break;case 40:e[3]!=t&&(i=!0);e[3]=t;break;case 83:e[7]!=t&&(i=!0);e[7]=t;break;case 37:e[4]!=t&&(i=!0);e[4]=t;break;case 65:e[8]!=t&&(i=!0);e[8]=t;break;case 39:e[5]!=t&&(i=!0);e[5]=t;break;case 68:e[9]!=t&&(i=!0);e[9]=t}i&&t&&(ut="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),v())}function uu(){var n;if(p){var t=!1,r=f.pitch,o=f.yaw,s=f.hfov,u;if(u="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),ut===i&&(ut=u),n=(u-ut)*f.hfov/1700,n=Math.min(n,1),e[0]&&!0===f.keyboardZoom&&(k(f.hfov+(.8*h.hfov+.5)*n),t=!0),e[1]&&!0===f.keyboardZoom&&(k(f.hfov+(.8*h.hfov-.2)*n),t=!0),(e[2]||e[6])&&(f.pitch+=(.8*h.pitch+.2)*n,t=!0),(e[3]||e[7])&&(f.pitch+=(.8*h.pitch-.2)*n,t=!0),(e[4]||e[8])&&(f.yaw+=(.8*h.yaw-.2)*n,t=!0),(e[5]||e[9])&&(f.yaw+=(.8*h.yaw+.2)*n,t=!0),t&&(b=Date.now()),Date.now(),f.autoRotate){if(.001<u-ut){var t=(u-ut)/1e3,c=(h.yaw/t*n-.2*f.autoRotate)*t,c=Math.sign(-f.autoRotate)*Math.min(Math.abs(f.autoRotate*t),Math.abs(c));f.yaw+=c}f.autoRotateStopDelay&&(f.autoRotateStopDelay-=u-ut,0>=f.autoRotateStopDelay&&(f.autoRotateStopDelay=!1,d=f.autoRotate,f.autoRotate=0))}y.pitch&&(di("pitch"),r=f.pitch);y.yaw&&(di("yaw"),o=f.yaw);y.hfov&&(di("hfov"),s=f.hfov);0<n&&!f.autoRotate&&(e[4]||e[5]||e[8]||e[9]||y.yaw||(f.yaw+=h.yaw*n*.85),e[2]||e[3]||e[6]||e[7]||y.pitch||(f.pitch+=h.pitch*n*.85),e[0]||e[1]||y.hfov||k(f.hfov+h.hfov*n*.85));ut=u;0<n&&(h.yaw=.8*h.yaw+(f.yaw-o)/n*.2,h.pitch=.8*h.pitch+(f.pitch-r)/n*.2,h.hfov=.8*h.hfov+(f.hfov-s)/n*.2,r=f.autoRotate?Math.abs(f.autoRotate):5,h.yaw=Math.min(r,Math.max(h.yaw,-r)),h.pitch=Math.min(r,Math.max(h.pitch,-r)),h.hfov=Math.min(r,Math.max(h.hfov,-r)));e[0]&&e[0]&&(h.hfov=0);(e[2]||e[6])&&(e[3]||e[7])&&(h.pitch=0);(e[4]||e[8])&&(e[5]||e[9])&&(h.yaw=0)}}function di(n){var t=y[n],i=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0)),i=t.startPosition+(.5>i?2*i*i:-1+(4-2*i)*i)*(t.endPosition-t.startPosition);(t.endPosition>t.startPosition&&i>=t.endPosition||t.endPosition<t.startPosition&&i<=t.endPosition)&&(i=t.endPosition,h[n]=0,delete y[n]);f[n]=i}function ui(){rt()}function v(){ir||(ir=!0,yt())}function yt(){if(fu(),ur&&clearTimeout(ur),ot)requestAnimationFrame(yt);else if(e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7]||e[8]||e[9]||f.autoRotate||y.pitch||y.yaw||y.hfov||.01<Math.abs(h.yaw)||.01<Math.abs(h.pitch)||.01<Math.abs(h.hfov))uu(),0<=f.autoRotateInactivityDelay&&d&&Date.now()-b>f.autoRotateInactivityDelay&&!f.autoRotate&&(f.autoRotate=d,ci.lookAt(dt,i,kt,3e3)),requestAnimationFrame(yt);else if(c&&(c.isLoading()||!0===f.dynamic&&iu))requestAnimationFrame(yt);else{ir=!1;ut=i;var n=f.autoRotateInactivityDelay-(Date.now()-b);0<n?ur=setTimeout(function(){f.autoRotate=d;ci.lookAt(dt,i,kt,3e3);v()},n):0<=f.autoRotateInactivityDelay&&d&&(f.autoRotate=d,ci.lookAt(dt,i,kt,3e3),v())}}function fu(){var i;if(p){180<f.yaw?f.yaw-=360:-180>f.yaw&&(f.yaw+=360);i=f.yaw;var n=f.maxYaw-f.minYaw,t=-180,r=180;360>n&&(t=f.minYaw+f.hfov/2,r=f.maxYaw-f.hfov/2,n<f.hfov&&(n=f.hfov-n,t-=n,r+=n));f.yaw=Math.max(t,Math.min(r,f.yaw));!1!==f.autoRotate&&i!=f.yaw&&(f.autoRotate*=-1);n=c.getCanvas();n=2*Math.atan(Math.tan(f.hfov/180*Math.PI*.5)/(n.width/n.height))/Math.PI*180;i=f.minPitch+n/2;t=f.maxPitch-n/2;r=f.maxPitch-f.minPitch;r<n&&(n-=r,i-=n,t+=n);isNaN(i)&&(i=-90);isNaN(t)&&(t=90);f.pitch=Math.max(i,Math.min(t,f.pitch));c.render(f.pitch*Math.PI/180,f.yaw*Math.PI/180,f.hfov*Math.PI/180,{roll:f.roll*Math.PI/180});f.hotSpots.forEach(gi);f.compass&&(lt.style.transform="rotate("+(-f.yaw-f.northOffset)+"deg)",lt.style.webkitTransform="rotate("+(-f.yaw-f.northOffset)+"deg)")}}function ht(n,t,i,r){this.w=n;this.x=t;this.y=i;this.z=r}function br(t){var r,i;r=t.alpha;i=t.beta;t=t.gamma;i=[i?i*Math.PI/360:0,t?t*Math.PI/360:0,r?r*Math.PI/360:0];r=[Math.cos(i[0]),Math.cos(i[1]),Math.cos(i[2])];i=[Math.sin(i[0]),Math.sin(i[1]),Math.sin(i[2])];r=new ht(r[0]*r[1]*r[2]-i[0]*i[1]*i[2],i[0]*r[1]*r[2]-r[0]*i[1]*i[2],r[0]*i[1]*r[2]+i[0]*r[1]*i[2],r[0]*r[1]*i[2]+i[0]*i[1]*r[2]);r=r.multiply(new ht(Math.sqrt(.5),-Math.sqrt(.5),0,0));i=n.orientation?-n.orientation*Math.PI/360:0;r=r.multiply(new ht(Math.cos(i),0,-Math.sin(i),0)).toEulerAngles();f.pitch=r[0]/Math.PI*180;f.roll=-r[1]/Math.PI*180;f.yaw=-r[2]/Math.PI*180+f.northOffset;yt()}function eu(){try{var t={};f.horizonPitch!==i&&(t.horizonPitch=f.horizonPitch*Math.PI/180);f.horizonRoll!==i&&(t.horizonRoll=f.horizonRoll*Math.PI/180);f.backgroundColor!==i&&(t.backgroundColor=f.backgroundColor);c.init(w,f.type,f.dynamic,f.haov*Math.PI/180,f.vaov*Math.PI/180,f.vOffset*Math.PI/180,ou,t);!0!==f.dynamic&&(w=i)}catch(n){if("webgl error"==n.type||"no webgl"==n.type)it();else if("webgl size error"==n.type)it("Ảnh 360° có kích thước %s px nhưng thiết bị của bạn chỉ hỗ trợ tối đa %s px. Vui lòng xem trên thiết bị có màn hình lớn hơn.".replace("%s",n.width).replace("%s",n.maxWidth));else throw it("Unknown error. Check developer console."),n;}}function ou(){if(f.sceneFadeDuration&&c.fadeImg!==i){c.fadeImg.style.opacity=0;var n=c.fadeImg;delete c.fadeImg;setTimeout(function(){a.removeChild(n)},f.sceneFadeDuration)}lt.style.display=f.compass?"inline":"none";su();o.load.box.style.display="none";st!==i&&(a.removeChild(st),st=i);p=!0;ct("load");v()}function kr(n){var i,r,u,e,o;n.pitch=Number(n.pitch)||0;n.yaw=Number(n.yaw)||0;i=t.createElement("div");i.className="pnlm-hotspot-base";i.className=n.cssClass?i.className+(" "+n.cssClass):i.className+(" pnlm-hotspot pnlm-sprite pnlm-"+hi(n.type));r=t.createElement("span");n.text&&(r.innerHTML=hi(n.text));n.video?(u=t.createElement("video"),e=n.video,f.basePath&&!gt(e)&&(e=f.basePath+e),u.src=encodeURI(e),u.controls=!0,u.style.width=n.width+"px",a.appendChild(i),r.appendChild(u)):n.image?(e=n.image,f.basePath&&!gt(e)&&(e=f.basePath+e),u=t.createElement("a"),u.href=encodeURI(n.URL?n.URL:e),u.target="_blank",r.appendChild(u),o=t.createElement("img"),o.src=encodeURI(e),o.style.width=n.width+"px",o.style.paddingTop="5px",a.appendChild(i),u.appendChild(o),r.style.maxWidth="initial"):n.URL?(u=t.createElement("a"),u.href=encodeURI(n.URL),u.target="_blank",a.appendChild(u),i.style.cursor="pointer",r.style.cursor="pointer",u.appendChild(i)):(n.sceneId&&(i.onclick=function(){return oi(n.sceneId,n.targetPitch,n.targetYaw,n.targetHfov),!1},i.ontouchend=function(){return oi(n.sceneId,n.targetPitch,n.targetYaw,n.targetHfov),!1},i.style.cursor="pointer",r.style.cursor="pointer"),a.appendChild(i));n.createTooltipFunc?n.createTooltipFunc(i,n.createTooltipArgs):(n.text||n.video||n.image)&&(i.classList.add("pnlm-tooltip"),i.appendChild(r),r.style.width=r.scrollWidth-20+"px",r.style.marginLeft=-(r.scrollWidth-i.offsetWidth)/2+"px",r.style.marginTop=-r.scrollHeight-12+"px");n.clickHandlerFunc&&(i.addEventListener("click",function(t){n.clickHandlerFunc(t,n.clickHandlerArgs)},"false"),i.style.cursor="pointer",r.style.cursor="pointer");n.div=i}function su(){fr||(f.hotSpots?(f.hotSpots=f.hotSpots.sort(function(n,t){return n.pitch<t.pitch}),f.hotSpots.forEach(kr)):f.hotSpots=[],fr=!0,f.hotSpots.forEach(gi))}function hu(){var n,t;if(f.hotSpots)for(n=0;n<f.hotSpots.length;n++){for(t=f.hotSpots[n].div;t.parentNode!=a;)t=t.parentNode;a.removeChild(t);delete f.hotSpots[n].div}fr=!1;delete f.hotSpots}function gi(t){var i=Math.sin(t.pitch*Math.PI/180),u=Math.cos(t.pitch*Math.PI/180),e=Math.sin(f.pitch*Math.PI/180),l=Math.cos(f.pitch*Math.PI/180),a=Math.cos((-t.yaw+f.yaw)*Math.PI/180),o=i*e+u*a*l,v,s;if(90>=t.yaw&&-90<t.yaw&&0>=o||(90<t.yaw||-90>=t.yaw)&&0>=o)t.div.style.visibility="hidden";else{v=Math.sin((-t.yaw+f.yaw)*Math.PI/180);s=Math.tan(f.hfov*Math.PI/360);t.div.style.visibility="visible";var h=c.getCanvas(),r=h.width/(n.devicePixelRatio||1),h=h.height/(n.devicePixelRatio||1),i=[-r/s*v*u/o/2,-r/s*(i*l-u*a*e)/o/2],u=Math.sin(f.roll*Math.PI/180),e=Math.cos(f.roll*Math.PI/180),i=[i[0]*e-i[1]*u,i[0]*u+i[1]*e];i[0]+=(r-t.div.offsetWidth)/2;i[1]+=(h-t.div.offsetHeight)/2;r="translate("+i[0]+"px, "+i[1]+"px) translateZ(9999px) rotate("+f.roll+"deg)";t.div.style.webkitTransform=r;t.div.style.MozTransform=r;t.div.style.transform=r}}function fi(n){var t,i,r;f={};i="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");nt=[];for(t in er)er.hasOwnProperty(t)&&(f[t]=er[t]);for(t in u.default)u.default.hasOwnProperty(t)&&(f[t]=u.default[t],0<=i.indexOf(t)&&nt.push(t));if(null!==n&&""!==n&&u.scenes&&u.scenes[n]){r=u.scenes[n];for(t in r)r.hasOwnProperty(t)&&(f[t]=r[t],0<=i.indexOf(t)&&nt.push(t));f.scene=n}for(t in u)u.hasOwnProperty(t)&&(f[t]=u[t],0<=i.indexOf(t)&&nt.push(t))}function dr(){var r,n;"preview"in f&&(r=f.preview,f.basePath&&(r=f.basePath+r),st=t.createElement("div"),st.className="pnlm-preview-img",st.style.backgroundImage="url('"+encodeURI(r)+"')",a.appendChild(st));f.hasOwnProperty("title")||(o.title.innerHTML="");f.hasOwnProperty("author")||(o.author.innerHTML="");f.hasOwnProperty("title")||f.hasOwnProperty("author")||(o.container.style.display="none");for(n in f)if(f.hasOwnProperty(n))switch(n){case"title":o.title.innerHTML=hi(f[n]);o.container.style.display="inline";break;case"author":o.author.innerHTML="by "+hi(f[n]);o.container.style.display="inline";break;case"fallback":o.errorMsg.innerHTML='<p>Trình duyệt bạn đang sử dụng không hỗ trợ tính năng này. Vui lòng nâng cấp lên phiên bản mới nhất để xem được ảnh 360.<br><a href="'+encodeURI(f[n])+'" target="_blank">Click here to view this panorama in an alternative viewer.<\/a><\/p>';break;case"hfov":k(Number(f[n]));break;case"autoLoad":!0===f[n]&&c===i&&(o.load.box.style.display="inline",s.load.style.display="none",or());break;case"showZoomCtrl":s.zoom.style.display=f[n]&&!1!=f.showControls?"block":"none";break;case"showFullscreenCtrl":s.fullscreen.style.display=f[n]&&!1!=f.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":pi.style.display=f[n]?"block":"none";break;case"showControls":f[n]||(s.orientation.style.display="none",s.zoom.style.display="none",s.fullscreen.style.display="none");break;case"orientationOnByDefault":f[n]&&tu()}}function nr(){if(p&&!yi)if(vi)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen?r.msRequestFullscreen():r.webkitRequestFullScreen()}catch(n){}}function rt(){t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(s.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),vi=!0):(s.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),vi=!1);c.resize();k(f.hfov);v()}function gr(n){var t=f.minHfov;return"multires"==f.type&&c&&(t=Math.min(t,c.getCanvas().width/(f.multiRes.cubeResolution/90*.9))),t>f.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),f.hfov):n<t?t:n>f.maxHfov?f.maxHfov:n}function k(n){f.hfov=gr(n)}function ei(){y={};d=f.autoRotate?f.autoRotate:d;f.autoRotate=!1}function nu(){yi&&(o.load.box.style.display="none",o.errorMsg.style.display="none",yi=!1,ct("errorcleared"));s.load.style.display="none";o.load.box.style.display="inline";or()}function oi(n,t,r,e,o){p=!1;y={};var s,l;f.sceneFadeDuration&&!o?(o=new Image,o.className="pnlm-fade-img",o.style.transition="opacity "+f.sceneFadeDuration/1e3+"s",o.style.width="100%",o.style.height="100%",o.onload=function(){oi(n,t,r,e,!0)},s=c.render(f.pitch*Math.PI/180,f.yaw*Math.PI/180,f.hfov*Math.PI/180,{returnImage:!0}),s!==i&&(o.src=s),a.appendChild(o),c.fadeImg=o):(o="same"===t?f.pitch:t,s="same"===r?f.yaw:"sameAzimuth"===r?f.yaw+f.northOffset-u.scenes[n].northOffset:r,l="same"===e?f.hfov:e,hu(),fi(n),h.yaw=h.pitch=h.hfov=0,dr(),o!==i&&(f.pitch=o),s!==i&&(f.yaw=s),l!==i&&(f.hfov=l),ct("scenechange",n),nu())}function si(){n.removeEventListener("deviceorientation",br);s.orientation.classList.remove("pnlm-orientation-button-active");rr=!1}function tu(){rr=!0;n.addEventListener("deviceorientation",br);s.orientation.classList.add("pnlm-orientation-button-active")}function hi(n){return String(n).replace(/&/g,"&amp;").replace('"',"&quot;").replace("'","&#39;").replace("<","&lt;").replace(">","&gt;").replace("/","&#x2f;")}function ct(n){if(n in g)for(var t=0;t<g[n].length;t++)g[n][t].apply(null,[].slice.call(arguments,1))}var ci=this,f,c,st,ot=!1,b=Date.now(),pt=0,wt=0,bt=-1,li=0,ai=0,e=Array(10),vi=!1,p=!1,yi=!1,tr=!1,w,ut,h={yaw:0,pitch:0,hfov:0},ir=!1,rr=!1,ur,d=0,kt,dt,y={},g={},nt=[],iu=!1,fr=!1,er={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:i,maxPitch:i,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:i,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0]},a,l,tt,o,pi,s,lt,ft,at;r="string"==typeof r?t.getElementById(r):r;r.classList.add("pnlm-container");r.tabIndex=0;a=t.createElement("div");a.className="pnlm-render-container";r.appendChild(a);l=t.createElement("div");l.className="pnlm-dragfix";r.appendChild(l);tt=t.createElement("span");tt.className="pnlm-about-msg";tt.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum<\/a> 2.3.0';r.appendChild(tt);l.addEventListener("contextmenu",vt);o={};pi=t.createElement("div");pi.className="pnlm-sprite pnlm-hot-spot-debug-indicator";r.appendChild(pi);o.container=t.createElement("div");o.container.className="pnlm-panorama-info";o.title=t.createElement("div");o.title.className="pnlm-title-box";o.container.appendChild(o.title);o.author=t.createElement("div");o.author.className="pnlm-author-box";o.container.appendChild(o.author);r.appendChild(o.container);o.load={};o.load.box=t.createElement("div");o.load.box.className="pnlm-load-box";o.load.box.innerHTML="<p>Loading...<\/p>";o.load.lbox=t.createElement("div");o.load.lbox.className="pnlm-lbox";o.load.lbox.innerHTML='<div class="pnlm-loading"><\/div>';o.load.box.appendChild(o.load.lbox);o.load.lbar=t.createElement("div");o.load.lbar.className="pnlm-lbar";o.load.lbarFill=t.createElement("div");o.load.lbarFill.className="pnlm-lbar-fill";o.load.lbar.appendChild(o.load.lbarFill);o.load.box.appendChild(o.load.lbar);o.load.msg=t.createElement("p");o.load.msg.className="pnlm-lmsg";o.load.box.appendChild(o.load.msg);r.appendChild(o.load.box);o.errorMsg=t.createElement("div");o.errorMsg.className="pnlm-error-msg pnlm-info-box";r.appendChild(o.errorMsg);s={};s.container=t.createElement("div");s.container.className="pnlm-controls-container";r.appendChild(s.container);s.load=t.createElement("div");s.load.className="pnlm-load-button";s.load.innerHTML="<p>Click to<br>Load<br>Panorama<p>";s.load.addEventListener("click",nu);r.appendChild(s.load);s.zoom=t.createElement("div");s.zoom.className="pnlm-zoom-controls pnlm-controls";s.zoomIn=t.createElement("div");s.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control";s.zoomIn.addEventListener("click",function(){p&&(k(f.hfov-5),v())});s.zoom.appendChild(s.zoomIn);s.zoomOut=t.createElement("div");s.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control";s.zoomOut.addEventListener("click",function(){p&&(k(f.hfov+5),v())});s.zoom.appendChild(s.zoomOut);s.container.appendChild(s.zoom);s.fullscreen=t.createElement("div");s.fullscreen.addEventListener("click",nr);s.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control";(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&s.container.appendChild(s.fullscreen);s.orientation=t.createElement("div");s.orientation.addEventListener("click",function(){rr?si():tu()});s.orientation.addEventListener("mousedown",function(n){n.stopPropagation()});s.orientation.addEventListener("touchstart",function(n){n.stopPropagation()});s.orientation.addEventListener("pointerdown",function(n){n.stopPropagation()});s.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";n.DeviceOrientationEvent&&n.addEventListener("deviceorientation",function(t){n.removeEventListener("deviceorientation",this);t&&null!==t.alpha&&null!==t.beta&&null!==t.gamma&&s.container.appendChild(s.orientation)});lt=t.createElement("div");lt.className="pnlm-compass pnlm-controls pnlm-control";r.appendChild(lt);u.firstScene?fi(u.firstScene):u.default&&u.default.firstScene?fi(u.default.firstScene):fi(null);dr();ft=[];at=[];ht.prototype.multiply=function(n){return new ht(this.w*n.w-this.x*n.x-this.y*n.y-this.z*n.z,this.x*n.w+this.w*n.x+this.y*n.z-this.z*n.y,this.y*n.w+this.w*n.y+this.z*n.x-this.x*n.z,this.z*n.w+this.w*n.z+this.x*n.y-this.y*n.x)};ht.prototype.toEulerAngles=function(){var n=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),t=Math.asin(2*(this.w*this.y-this.z*this.x)),i=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return[n,t,i]};this.getPitch=function(){return f.pitch};this.setPitch=function(n,t){return(t=t==i?1e3:Number(t))?y.pitch={startTime:Date.now(),startPosition:f.pitch,endPosition:n,duration:t}:f.pitch=n,v(),this};this.getPitchBounds=function(){return[f.minPitch,f.maxPitch]};this.setPitchBounds=function(n){return f.minPitch=Math.max(-90,Math.min(n[0],90)),f.maxPitch=Math.max(-90,Math.min(n[1],90)),this};this.getYaw=function(){return f.yaw};this.setYaw=function(n,t){for(;180<n;)n-=360;for(;-180>n;)n+=360;return(t=t==i?1e3:Number(t))?y.yaw={startTime:Date.now(),startPosition:f.yaw,endPosition:n,duration:t}:f.yaw=n,v(),this};this.getYawBounds=function(){return[f.minYaw,f.maxYaw]};this.setYawBounds=function(n){return f.minYaw=Math.max(-180,Math.min(n[0],180)),f.maxYaw=Math.max(-180,Math.min(n[1],180)),this};this.getHfov=function(){return f.hfov};this.setHfov=function(n,t){return(t=t==i?1e3:Number(t))?y.hfov={startTime:Date.now(),startPosition:f.hfov,endPosition:gr(n),duration:t}:k(n),v(),this};this.getHfovBounds=function(){return[f.minHfov,f.maxHfov]};this.setHfovBounds=function(n){return f.minHfov=Math.max(0,n[0]),f.maxHfov=Math.max(0,n[1]),this};this.lookAt=function(n,t,r,u){return u=u==i?1e3:Number(u),n!==i&&this.setPitch(n,u),t!==i&&this.setYaw(t,u),r!==i&&this.setHfov(r,u),this};this.getNorthOffset=function(){return f.northOffset};this.setNorthOffset=function(n){return f.northOffset=Math.min(360,Math.max(0,n)),v(),this};this.startAutoRotate=function(n){return n=n||d||1,f.autoRotate=n,ci.lookAt(dt,i,kt,3e3),v(),this};this.stopAutoRotate=function(){return d=f.autoRotate?f.autoRotate:d,f.autoRotate=!1,f.autoRotateInactivityDelay=-1,this};this.getRenderer=function(){return c};this.setUpdate=function(n){return iu=!0===n,c===i?ni():v(),this};this.mouseEventToCoords=function(n){return hr(n)};this.loadScene=function(n,t,i,r){return p&&oi(n,t,i,r),this};this.getScene=function(){return f.scene};this.addScene=function(n,t){return u.scenes[n]=t,this};this.removeScene=function(n){return f.scene===n||!u.scenes.hasOwnProperty(n)?!1:(delete u.scenes[n],!0)};this.toggleFullscreen=function(){return nr(),this};this.getConfig=function(){return f};this.addHotSpot=function(n,t){if(t===i||f.scene==t)kr(n),f.hotSpots.push(n),gi(n);else if(u.scenes.hasOwnProperty(t))u.scenes[t].hotSpots.push(n);else throw"Invalid scene ID!";return this};this.removeHotSpot=function(n){if(!f.hotSpots)return!1;for(var t=0;t<f.hotSpots.length;t++)if(f.hotSpots[t].hasOwnProperty("id")&&f.hotSpots[t].id===n){for(n=f.hotSpots[t].div;n.parentNode!=a;)n=n.parentNode;return a.removeChild(n),delete f.hotSpots[t].div,f.hotSpots.splice(t,1),!0}return!1};this.on=function(n,t){return g[n]=g[n]||[],g[n].push(t),this};this.off=function(n,t){if(!n)return g={},this;if(t){var i=g[n].indexOf(t);0<=i&&g[n].splice(i,1);g[n].length=0}else delete g[n];return this};this.destroy=function(){c&&c.destroy();tr&&(l.removeEventListener("mousedown",sr,!1),t.removeEventListener("mousemove",cr,!1),t.removeEventListener("mouseup",ti,!1),r.removeEventListener("mousewheel",ri,!1),r.removeEventListener("DOMMouseScroll",ri,!1),r.removeEventListener("mozfullscreenchange",rt,!1),r.removeEventListener("webkitfullscreenchange",rt,!1),r.removeEventListener("msfullscreenchange",rt,!1),r.removeEventListener("fullscreenchange",rt,!1),n.removeEventListener("resize",ui,!1),n.removeEventListener("orientationchange",ui,!1),r.removeEventListener("keydown",vr,!1),r.removeEventListener("keyup",pr,!1),r.removeEventListener("blur",yr,!1),t.removeEventListener("mouseleave",ti,!1),l.removeEventListener("touchstart",wi,!1),l.removeEventListener("touchmove",bi,!1),l.removeEventListener("touchend",ki,!1),l.removeEventListener("pointerdown",lr,!1),l.removeEventListener("pointermove",ar,!1),l.removeEventListener("pointerup",ii,!1),l.removeEventListener("pointerleave",ii,!1));r.innerHTML="";r.classList.remove("pnlm-container");r.classList.remove("pnlm-grab");r.classList.remove("pnlm-grabbing")}}return{viewer:function(n,t){return new r(n,t)}}}(window,document);var viewers=[],mySwipers=[],isTablet=!1,iOS=!1;$(function(){var t,n;if((/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.platform))&&(isTablet=!0,iOS=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0),!isTablet&&(t='<div class="not-supported-browser">',t+="Trình duyệt bạn đang sử dụng không hỗ trợ tính năng này. Vui lòng nâng cấp lên phiên bản mới nhất để xem được ảnh 360.",t+="<\/div>",n=detectIE(),n&&n<10)){$("#titImg360").before(t);return}if(n=detectIE(),n&&n<10){$("#titImg360").before(t);return}$("#divPhoto360Active").length!=0&&($("#divPhoto360Active .top-controls").append('<div class="control-popup360"><span class="prev-thumb360"><\/span><div class="thumb-img360 swiper-container"><ul class="list-thumb360 swiper-wrapper">'+$("#photo360 .list-img ul.thumbs360").html()+'<\/ul><\/div><span class="next-thumb360"><\/span><\/div>'),$(".thumbs360 li").bind("click",this,function(){var t=$(this).siblings("li.current"),n;t.length&&(n=$(this).attr("data-order"),$("#divPhoto360Active .list-thumb360 li").each(function(t,i){if($(i).attr("data-order")==n)return $(i).siblings("li").removeClass("current"),$(i).addClass("current"),!1}));clickImage360(this)}),document.getElementById("pan-up").addEventListener("click",function(){viewer.stopAutoRotate();viewer.setPitch(viewer.getPitch()+10)}),document.getElementById("pan-down").addEventListener("click",function(){viewer.stopAutoRotate();viewer.setPitch(viewer.getPitch()-10)}),document.getElementById("pan-left").addEventListener("click",function(){viewer.stopAutoRotate();viewer.setYaw(viewer.getYaw()-10)}),document.getElementById("pan-right").addEventListener("click",function(){viewer.stopAutoRotate();viewer.setYaw(viewer.getYaw()+10)}),document.getElementById("zoom-in").addEventListener("click",function(){viewer.stopAutoRotate();viewer.setHfov(viewer.getHfov()-10)}),document.getElementById("zoom-out").addEventListener("click",function(){viewer.stopAutoRotate();viewer.setHfov(viewer.getHfov()+10)}),document.getElementById("auto-rotate").addEventListener("click",function(){var n=viewer.getConfig();n&&n.autoRotate?viewer.stopAutoRotate():viewer.startAutoRotate(-5)}),document.getElementById("fullscreen").addEventListener("click",function(){if($.each(viewers,function(n,t){t.toggleFullscreen()}),$("#divPhoto360Active .pnlm-render-container canvas").length){var n=$("#divPhoto360Active .pnlm-render-container canvas")[0];onResize(n,function(){n.width===window.innerWidth&&n.height===window.innerHeight?$("#divPhoto360Active").addClass("full-screen"):$("#divPhoto360Active").removeClass("full-screen")})}}),document.getElementById("btnCloseFullscreen").addEventListener("click",function(){$.each(viewers,function(n,t){t.toggleFullscreen()});$("#divPhoto360Active").removeClass("full-screen")}))});
/*!
 * Chart.js v2.9.3
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(function(){try{return require("moment")}catch(n){}}()):"function"==typeof define&&define.amd?define(["require"],function(n){return t(function(){try{return n("moment")}catch(n){}}())}):(n=n||self).Chart=t(n.moment)}(this,function(n){"use strict";function rh(n){var t=function(){for(var t={},i=Object.keys(e),r=i.length,n=0;n<r;n++)t[i[n]]={distance:-1,parent:null};return t}(),r=[n],o,i;for(t[n].distance=0;r.length;)for(var u=r.pop(),s=Object.keys(e[u]),h=s.length,f=0;f<h;f++)o=s[f],i=t[o],-1===i.distance&&(i.distance=t[u].distance+1,i.parent=u,r.unshift(o));return t}function uh(n,t){return function(i){return t(n(i))}}function fh(n,t){for(var u=[t[n].parent,n],r=e[t[n].parent][n],i=t[n].parent;t[i].parent;)u.unshift(t[i].parent),r=uh(e[t[i].parent][i],r),i=t[i].parent;return r.conversion=u,r}function gr(n){var t;if(n){var r=[0,0,0],u=1,i=n.match(/^#([a-fA-F0-9]{3,4})$/i),f="";if(i){for(f=(i=i[1])[3],t=0;t<r.length;t++)r[t]=parseInt(i[t]+i[t],16);f&&(u=Math.round(parseInt(f+f,16)/255*100)/100)}else if(i=n.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(f=i[2],i=i[1],t=0;t<r.length;t++)r[t]=parseInt(i.slice(2*t,2*t+2),16);f&&(u=Math.round(parseInt(f,16)/255*100)/100)}else if(i=n.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(t=0;t<r.length;t++)r[t]=parseInt(i[t+1]);u=parseFloat(i[4])}else if(i=n.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(t=0;t<r.length;t++)r[t]=Math.round(2.55*parseFloat(i[t+1]));u=parseFloat(i[4])}else if(i=n.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(r=dr[i[1]]))return}for(t=0;t<r.length;t++)r[t]=g(r[t],0,255);return u=u||0==u?g(u,0,1):1,r[3]=u,r}}function nu(n){var t,i;if(n&&(t=n.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t))return i=parseFloat(t[4]),[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(i)?1:i,0,1)]}function fe(n){var t,i;if(n&&(t=n.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t))return i=parseFloat(t[4]),[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(i)?1:i,0,1)]}function ee(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t+")"}function oe(n,t){return"rgba("+Math.round(n[0]/255*100)+"%, "+Math.round(n[1]/255*100)+"%, "+Math.round(n[2]/255*100)+"%, "+(t||n[3]||1)+")"}function se(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+t+")"}function g(n,t,i){return Math.min(Math.max(t,n),i)}function di(n){var t=n.toString(16).toUpperCase();return t.length<2?"0"+t:t}function ye(n,t){var u=n._chartjs,i,r;u&&(i=u.listeners,r=i.indexOf(t),-1!==r&&i.splice(r,1),i.length>0||(ve.forEach(function(t){delete n[t]}),delete n._chartjs))}function pe(n,t){var u=t.startAngle,f=t.endAngle,i=t.pixelMargin,r=i/t.outerRadius,e=t.x,o=t.y;n.beginPath();n.arc(e,o,t.outerRadius,u-r,f+r);t.innerRadius>i?(r=i/t.innerRadius,n.arc(e,o,t.innerRadius-i,f+r,u-r,!0)):n.arc(e,o,i,f+Math.PI/2,u-Math.PI/2);n.closePath();n.clip()}function bh(n,t,i){var r="inner"===t.borderAlign;r?(n.lineWidth=2*t.borderWidth,n.lineJoin="round"):(n.lineWidth=t.borderWidth,n.lineJoin="bevel");i.fullCircles&&function(n,t,i,r){var u,f=i.endAngle;for(r&&(i.endAngle=i.startAngle+d,pe(n,i),i.endAngle=f,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=d,i.fullCircles--)),n.beginPath(),n.arc(i.x,i.y,i.innerRadius,i.startAngle+d,i.startAngle,!0),u=0;u<i.fullCircles;++u)n.stroke();for(n.beginPath(),n.arc(i.x,i.y,t.outerRadius,i.startAngle,i.startAngle+d),u=0;u<i.fullCircles;++u)n.stroke()}(n,t,i,r);r&&pe(n,i);n.beginPath();n.arc(i.x,i.y,t.outerRadius,i.startAngle,i.endAngle);n.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0);n.closePath();n.stroke()}function de(n){var t=this._view;return!!t&&Math.abs(n-t.x)<t.radius+t.hitRadius}function ur(n){return n&&void 0!==n.width}function no(n){var i,r,u,f,t;return ur(n)?(t=n.width/2,i=n.x-t,r=n.x+t,u=Math.min(n.y,n.base),f=Math.max(n.y,n.base)):(t=n.height/2,i=Math.min(n.x,n.base),r=Math.max(n.x,n.base),u=n.y-t,f=n.y+t),{left:i,top:u,right:r,bottom:f}}function to(n,t,i){return n===t?i:n===i?t:n}function nc(n,i,r){var f,e,o,s,u=n.borderWidth,h=function(n){var t=n.borderSkipped,i={};return t?(n.horizontal?n.base>n.x&&(t=to(t,"left","right")):n.base<n.y&&(t=to(t,"bottom","top")),i[t]=!0,i):i}(n);return t.isObject(u)?(f=+u.top||0,e=+u.right||0,o=+u.bottom||0,s=+u.left||0):f=e=o=s=+u||0,{t:h.top||f<0?0:f>r?r:f,r:h.right||e<0?0:e>i?i:e,b:h.bottom||o<0?0:o>r?r:o,l:h.left||s<0?0:s>i?i:s}}function ci(n,t,i){var u=null===t,f=null===i,r=!(!n||u&&f)&&no(n);return r&&(u||t>=r.left&&t<=r.right)&&(f||i>=r.top&&i<=r.bottom)}function ec(n,i,r){var u,f,e=r.barThickness,o=i.stackCount,s=i.pixels[n],h=t.isNullOrUndef(e)?function(n,t){for(var e,f,r=n._length,i=1,u=t.length;i<u;++i)r=Math.min(r,Math.abs(t[i]-t[i-1]));for(i=0,u=n.getTicks().length;i<u;++i)f=n.getPixelForTick(i),r=i>0?Math.min(r,Math.abs(f-e)):r,e=f;return r}(i.scale,i.pixels):-1;return t.isNullOrUndef(e)?(u=h*r.categoryPercentage,f=r.barPercentage):(u=e*o,f=1),{chunk:u/o,ratio:f,start:s-u/2}}function ro(n,t){var i=n&&n.options.ticks||{},r=i.reverse,u=void 0===i.min?t:0,f=void 0===i.max?t:0;return{start:r?f:u,end:r?u:f}}function lc(n,t,i){var r=i/2,u=ro(n,r),f=ro(t,r);return{top:f.end,right:u.end,bottom:f.start,left:u.start}}function ac(n){var i,r,u,f;return t.isObject(n)?(i=n.top,r=n.right,u=n.bottom,f=n.left):i=r=u=f=n,{top:i,right:r,bottom:u,left:f}}function bt(n,i){return n.native?{x:n.x,y:n.y}:t.getRelativePosition(n,i)}function li(n,t){for(var u,r,e,o,s=n._getSortedVisibleDatasetMetas(),i=0,f=s.length;i<f;++i)for(r=0,e=(u=s[i].data).length;r<e;++r)(o=u[r])._view.skip||t(o)}function vu(n,t){var i=[];return li(n,function(n){n.inRange(t.x,t.y)&&i.push(n)}),i}function yu(n,t,i,r){var u=Number.POSITIVE_INFINITY,f=[];return li(n,function(n){if(!i||n.inRange(t.x,t.y)){var o=n.getCenterPoint(),e=r(t,o);e<u?(f=[n],u=e):e===u&&f.push(n)}}),f}function pu(n){var t=-1!==n.indexOf("x"),i=-1!==n.indexOf("y");return function(n,r){var u=t?Math.abs(n.x-r.x):0,f=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(f,2))}}function wu(n,t,i){var r=bt(t,n);i.axis=i.axis||"x";var e=pu(i.axis),u=i.intersect?vu(n,r):yu(n,r,!1,e),f=[];return u.length?(n._getSortedVisibleDatasetMetas().forEach(function(n){var t=n.data[u[0]._index];t&&!t._view.skip&&f.push(t)}),f):[]}function ai(n,i){return t.where(n,function(n){return n.pos===i})}function or(n,t){return n.sort(function(n,i){var r=t?i:n,u=t?n:i;return r.weight===u.weight?r.index-u.index:r.weight-u.weight})}function so(n,t,i,r){return Math.max(n[i],t[i])+Math.max(n[r],t[r])}function vc(n,t,i){var f,e,o=i.box,r=n.maxPadding,u;return(i.size&&(n[i.pos]-=i.size),i.size=i.horizontal?o.height:o.width,n[i.pos]+=i.size,o.getPadding)&&(u=o.getPadding(),r.top=Math.max(r.top,u.top),r.left=Math.max(r.left,u.left),r.bottom=Math.max(r.bottom,u.bottom),r.right=Math.max(r.right,u.right)),(f=t.outerWidth-so(r,n,"left","right"),e=t.outerHeight-so(r,n,"top","bottom"),f!==n.w||e!==n.h)?(n.w=f,n.h=e,i.horizontal?f!==n.w:e!==n.h):void 0}function yc(n,t){function r(n){var r={left:0,top:0,right:0,bottom:0};return n.forEach(function(n){r[n]=Math.max(t[n],i[n])}),r}var i=t.maxPadding;return r(n?["left","right"]:["top","bottom"])}function sr(n,t,i){for(var r,o,s,h,f=[],u=0,e=n.length;u<e;++u)(o=(r=n[u]).box).update(r.width||t.w,r.height||t.h,yc(r.horizontal,t)),vc(t,i,r)&&(h=!0,f.length&&(s=!0)),o.fullWidth||f.push(r);return s&&sr(f,t,i)||h}function ho(n,t,i){for(var s,r,h=i.padding,f=t.x,e=t.y,u=0,o=n.length;u<o;++u)r=(s=n[u]).box,s.horizontal?(r.left=r.fullWidth?h.left:t.left,r.right=r.fullWidth?i.outerWidth-h.right:t.left+t.w,r.top=e,r.bottom=e+r.height,r.width=r.right-r.left,e=r.bottom):(r.left=f,r.right=f+r.width,r.top=t.top,r.bottom=t.top+t.h,r.height=r.bottom-r.top,f=r.right);t.x=f;t.y=e}function ao(n,i){var r=t.getStyle(n,i),u=r&&r.match(/^(\d+)(\.\d+)?px$/);if(u)return Number(u[1])}function vi(n,t,i){n.addEventListener(t,i,du)}function gu(n,t,i){n.removeEventListener(t,i,du)}function nf(n,t,i,r,u){return{type:n,chart:t,"native":u||null,x:void 0!==i?i:null,y:void 0!==r?r:null}}function yi(n){var t=document.createElement("div");return t.className=n||"",t}function kc(n,i,r){var c,f,u,e,s=n[o]||(n[o]={}),h=s.resizer=function(n){var r=yi(ku),t=yi(ku+"-expand"),i=yi(ku+"-shrink"),u;return t.appendChild(yi()),i.appendChild(yi()),r.appendChild(t),r.appendChild(i),r._reset=function(){t.scrollLeft=1e6;t.scrollTop=1e6;i.scrollLeft=1e6;i.scrollTop=1e6},u=function(){r._reset();n()},vi(t,"scroll",u.bind(t,"expand")),vi(i,"scroll",u.bind(i,"shrink")),r}((c=function(){if(s.resizer){var t=r.options.maintainAspectRatio&&n.parentNode,u=t?t.clientWidth:0;i(nf("resize",r));t&&t.clientWidth<u&&r.canvas&&i(nf("resize",r))}},u=!1,e=[],function(){e=Array.prototype.slice.call(arguments);f=f||this;u||(u=!0,t.requestAnimFrame.call(window,function(){u=!1;c.apply(f,e)}))}));!function(n,i){var r=n[o]||(n[o]={}),u=r.renderProxy=function(n){n.animationName===wc&&i()};t.each(lo,function(t){vi(n,t,u)});r.reflow=!!n.offsetParent;n.classList.add(co)}(n,function(){if(s.resizer){var t=n.parentNode;t&&t!==h.parentNode&&t.insertBefore(h,t.firstChild);h._reset()}})}function dc(n){var r=n[o]||{},i=r.resizer;delete r.resizer,function(n){var i=n[o]||{},r=i.renderProxy;r&&(t.each(lo,function(t){gu(n,t,r)}),delete i.renderProxy);n.classList.remove(co)}(n);i&&i.parentNode&&i.parentNode.removeChild(i)}function tt(n,i){return i&&(t.isArray(i)?Array.prototype.push.apply(n,i):n.push(i)),n}function et(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function yo(n){var t=i.global;return{xPadding:n.xPadding,yPadding:n.yPadding,xAlign:n.xAlign,yAlign:n.yAlign,rtl:n.rtl,textDirection:n.textDirection,bodyFontColor:n.bodyFontColor,_bodyFontFamily:ft(n.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:ft(n.bodyFontStyle,t.defaultFontStyle),_bodyAlign:n.bodyAlign,bodyFontSize:ft(n.bodyFontSize,t.defaultFontSize),bodySpacing:n.bodySpacing,titleFontColor:n.titleFontColor,_titleFontFamily:ft(n.titleFontFamily,t.defaultFontFamily),_titleFontStyle:ft(n.titleFontStyle,t.defaultFontStyle),titleFontSize:ft(n.titleFontSize,t.defaultFontSize),_titleAlign:n.titleAlign,titleSpacing:n.titleSpacing,titleMarginBottom:n.titleMarginBottom,footerFontColor:n.footerFontColor,_footerFontFamily:ft(n.footerFontFamily,t.defaultFontFamily),_footerFontStyle:ft(n.footerFontStyle,t.defaultFontStyle),footerFontSize:ft(n.footerFontSize,t.defaultFontSize),_footerAlign:n.footerAlign,footerSpacing:n.footerSpacing,footerMarginTop:n.footerMarginTop,caretSize:n.caretSize,cornerRadius:n.cornerRadius,backgroundColor:n.backgroundColor,opacity:0,legendColorBackground:n.multiKeyBackground,displayColors:n.displayColors,borderColor:n.borderColor,borderWidth:n.borderWidth}}function hr(n,t){return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-n.xPadding:n.x+n.xPadding}function po(n){return tt([],et(n))}function wo(){return t.merge({},[].slice.call(arguments),{merger:function(n,i,r,u){if("xAxes"===n||"yAxes"===n){var f,o,e,s=r[n].length;for(i[n]||(i[n]=[]),f=0;f<s;++f)e=r[n][f],o=cr(e.type,"xAxes"===n?"category":"linear"),f>=i[n].length&&i[n].push({}),!i[n][f].type||e.type&&e.type!==i[n][f].type?t.merge(i[n][f],[pi.getScaleDefaults(o),e]):t.merge(i[n][f],e)}else t._merger(n,i,r,u)}})}function ef(){return t.merge({},[].slice.call(arguments),{merger:function(n,i,r,u){var e=i[n]||{},f=r[n];"scales"===n?i[n]=wo(e,f):"scale"===n?i[n]=t.merge(e,[pi.getScaleDefaults(f.type),f]):t._merger(n,i,r,u)}})}function tl(n){var r=n.options;t.each(n.scales,function(t){b.removeBox(n,t)});r=ef(i.global,i[n.config.type],r);n.options=n.config.options=r;n.ensureScalesHaveIDs();n.buildOrUpdateScales();n.tooltip._options=r.tooltips;n.tooltip.initialize()}function bo(n,i,r){var u,f=function(n){return n.id===u};do u=i+r++;while(t.findIndex(n,f)>=0);return u}function ko(n){return"top"===n||"bottom"===n}function go(n,t){return function(i,r){return i[n]===r[n]?i[t]-r[t]:i[n]-r[n]}}function gt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.");}function lr(n){this.options=n||{}}function il(n,t,i){var u,e=n.getTicks().length,f=Math.min(t,e-1),r=n.getPixelForTick(f),o=n._startPixel,s=n._endPixel;if(!(i&&(u=1===e?Math.max(r-o,s-r):0===t?(n.getPixelForTick(1)-r)/2:(r-n.getPixelForTick(f-1))/2,(r+=f<t?u:-u)<o-1e-6||r>s+1e-6)))return r}function rl(n,i,r,u){function p(n){return{width:v[n]||0,height:y[n]||0,offset:tt[n]||0}}for(var h,d,f,w,b,s,c,e,l,a,g,nt,k=r.length,v=[],y=[],tt=[],o=0;o<k;++o){if(f=r[o].label,w=r[o].major?i.major:i.minor,n.font=b=w.string,s=u[b]=u[b]||{data:{},gc:[]},c=w.lineHeight,e=l=0,bi(f)||ni(f)){if(ni(f))for(h=0,d=f.length;h<d;++h)a=f[h],bi(a)||ni(a)||(e=t.measureText(n,s.data,s.gc,e,a),l+=c)}else e=t.measureText(n,s.data,s.gc,e,f),l=c;v.push(e);y.push(l);tt.push(c/2)}return function(n,i){t.each(n,function(n){var t,r=n.gc,u=r.length/2;if(u>i){for(t=0;t<u;++t)delete n.data[r[t]];r.splice(0,u)}})}(u,k),g=v.indexOf(Math.max.apply(null,v)),nt=y.indexOf(Math.max.apply(null,y)),{first:p(0),last:p(k-1),widest:p(g),highest:p(nt)}}function ki(n){return n.drawTicks?n.tickMarkLength:0}function sf(n){var i,r;return n.display?(i=t.options._parseFont(n),r=t.options.toPadding(n.padding),i.lineHeight+r.height):0}function ns(n,r){return t.extend(t.options._parseFont({fontFamily:ti(r.fontFamily,n.fontFamily),fontSize:ti(r.fontSize,n.fontSize),fontStyle:ti(r.fontStyle,n.fontStyle),lineHeight:ti(r.lineHeight,n.lineHeight)}),{color:t.options.resolve([r.fontColor,n.fontColor,i.global.defaultFontColor])})}function hf(n){var t=ns(n,n.minor);return{minor:t,major:n.major.enabled?ns(n,n.major):t}}function cf(n){for(var i,u=[],t=0,r=n.length;t<r;++t)void 0!==(i=n[t])._index&&u.push(i);return u}function ar(n,t,i,r){var h,u,s,f,e=ti(i,0),c=Math.min(ti(r,n.length),n.length),o=0;for(t=Math.ceil(t),r&&(t=(h=r-i)/Math.floor(h/t)),f=e;f<0;)o++,f=Math.round(e+o*t);for(u=Math.max(e,0);u<c;u++)s=n[u],u===f?(s._index=u,o++,f=Math.round(e+o*t)):delete s.label}function el(n,t,i,r){for(var f,s=n.options,h=function(n,t,i){var r=[i.type,void 0===t&&void 0===i.stack?i.index:"",i.stack].join(".");return void 0===n[r]&&(n[r]={pos:[],neg:[]}),n[r]}(t,s.stacked,i),e=h.pos,o=h.neg,c=r.length,u=0;u<c;++u)f=n._parseValue(r[u]),isNaN(f.min)||isNaN(f.max)||i.data[u].hidden||(e[u]=e[u]||0,o[u]=o[u]||0,s.relativePoints?e[u]=100:f.min<0||f.max<0?o[u]+=f.min:e[u]+=f.max)}function ol(n,t,i){for(var u,f=i.length,r=0;r<f;++r)u=n._parseValue(i[r]),isNaN(u.min)||isNaN(u.max)||t.data[r].hidden||(n.min=Math.min(n.min,u.min),n.max=Math.max(n.max,u.max))}function pr(n,i){return t.isFinite(n)&&n>=0?n:i}function wf(n){var t=n.ticks;return t.display&&n.display?wr(t.fontSize,i.global.defaultFontSize)+2*t.backdropPaddingY:0}function fs(n,t,i,r,u){return n===r||n===u?{start:t-i/2,end:t+i/2}:n<r||n>u?{start:t-i,end:t}:{start:t,end:t+i}}function cl(n){return 0===n||180===n?"center":n<180?"left":"right"}function ll(n,i,r,u){var f,o,e=r.y+u/2;if(t.isArray(i))for(f=0,o=i.length;f<o;++f)n.fillText(i[f],r.x,e),e+=u;else n.fillText(i,r.x,e)}function al(n,t,i){90===n||270===n?i.y-=t.h/2:(n>270||n<90)&&(i.y-=t.h)}function br(n){return t.isNumber(n)?n:0}function hs(n,t){return n-t}function cs(n){return t.valueOrDefault(n.time.min,n.ticks.min)}function ls(n){return t.valueOrDefault(n.time.max,n.ticks.max)}function si(n,t,i,r){var u=function(n,t,i){for(var u,f,r,e=0,o=n.length-1;e>=0&&e<=o;){if(f=n[(u=e+o>>1)-1]||null,r=n[u],!f)return{lo:null,hi:r};if(r[t]<i)e=u+1;else{if(!(f[t]>i))return{lo:f,hi:r};o=u-1}}return{lo:r,hi:null}}(n,t,i),f=u.lo?u.hi?u.lo:n[n.length-2]:n[0],e=u.lo?u.hi?u.hi:n[n.length-1]:n[1],o=e[t]-f[t],s=o?(i-f[t])/o:0,h=(e[r]-f[r])*s;return f[r]+h}function gf(n,i){var e=n._adapter,o=n.options.time,u=o.parser,f=u||o.format,r=i;return"function"==typeof u&&(r=u(r)),t.isFinite(r)||(r="string"==typeof f?e.parse(r,f):e.parse(r)),null!==r?+r:(u||"function"!=typeof f||(r=f(i),t.isFinite(r)||(r=e.parse(r))),r)}function ri(n,i){if(t.isNullOrUndef(i))return null;var u=n.options.time,r=gf(n,n.getRightValue(i));return null===r?r:(u.round&&(r=+n._adapter.startOf(r,u.round)),r)}function as(n,t,i,r){for(var f,e,o=v.length,u=v.indexOf(n);u<o-1;++u)if(e=(f=kr[v[u]]).steps?f.steps:df,f.common&&Math.ceil((i-t)/(e*f.size))<=r)return v[u];return v[o-1]}function vs(n,t,i){for(var f,u=[],e={},o=t.length,r=0;r<o;++r)e[f=t[r]]=r,u.push({value:f,major:!1});return 0!==o&&i?function(n,t,i,r){for(var f,e=n._adapter,o=+e.startOf(t[0].value,r),s=t[t.length-1].value,u=o;u<=s;u=+e.add(u,1,r))(f=i[u])>=0&&(t[f].major=!0);return t}(n,u,e,i):u}function yl(n,t,i){var r,f=n._model||{},u=f.fill;if(void 0===u&&(u=!!f.backgroundColor),!1===u||null===u)return!1;if(!0===u)return"origin";if(r=parseFloat(u,10),isFinite(r)&&Math.floor(r)===r)return"-"!==u[0]&&"+"!==u[0]||(r=t+r),!(r===t||r<0||r>=i)&&r;switch(u){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return u;default:return!1}}function pl(n){return(n.el._scale||{}).getPointPositionForValue?function(n){var u,s,f,i,r,t=n.el._scale,e=t.options,h=t.chart.data.labels.length,o=n.fill,c=[];if(!h)return null;for(u=e.ticks.reverse?t.max:t.min,s=e.ticks.reverse?t.min:t.max,f=t.getPointPositionForValue(0,u),i=0;i<h;++i)r="start"===o||"end"===o?t.getPointPositionForValue(i,"start"===o?u:s):t.getBasePosition(i),e.gridLines.circular&&(r.cx=f.x,r.cy=f.y,r.angle=t.getIndexAngle(i)-Math.PI/2),c.push(r);return c}(n):function(n){var e,r=n.el._model||{},u=n.el._scale||{},f=n.fill,i=null;if(isFinite(f))return null;if("start"===f?i=void 0===r.scaleBottom?u.bottom:r.scaleBottom:"end"===f?i=void 0===r.scaleTop?u.top:r.scaleTop:void 0!==r.scaleZero?i=r.scaleZero:u.getBasePixel&&(i=u.getBasePixel()),null!=i){if(void 0!==i.x&&void 0!==i.y)return i;if(t.isFinite(i))return{x:(e=u.isHorizontal())?i:null,y:e?null:i}}return null}(n)}function wl(n,t,i){var u,r=n[t].fill,f=[t];if(!i)return r;for(;!1!==r&&-1===f.indexOf(r);){if(!isFinite(r))return r;if(!(u=n[r]))return!1;if(u.visible)return r;f.push(r);r=u.fill}return!1}function bl(n){var t=n.fill,i="dataset";return!1===t?null:(isFinite(t)||(i="boundary"),bs[i](n))}function ks(n){return n&&!n.skip}function ds(n,i,r,u,f){var e,o,s,h;if(u&&f){for(n.moveTo(i[0].x,i[0].y),e=1;e<u;++e)t.canvas.lineTo(n,i[e-1],i[e]);if(void 0===r[0].angle)for(n.lineTo(r[f-1].x,r[f-1].y),e=f-1;e>0;--e)t.canvas.lineTo(n,r[e],r[e-1],!0);else for(o=r[0].cx,s=r[0].cy,h=Math.sqrt(Math.pow(r[0].x-o,2)+Math.pow(r[0].y-s,2)),e=f-1;e>0;--e)n.arc(o,s,h,r[e].angle,r[e-1].angle,!0)}}function kl(n,t,i,r,u,f){var e,y,b,l,a,v,p,k,w=t.length,d=r.spanGaps,o=[],s=[],h=0,c=0;for(n.beginPath(),e=0,y=w;e<y;++e)a=i(l=t[b=e%w]._view,b,r),v=ks(l),p=ks(a),f&&void 0===k&&v&&(y=w+(k=e+1)),v&&p?(h=o.push(l),c=s.push(a)):h&&c&&(d?(v&&o.push(l),p&&s.push(a)):(ds(n,o,s,h,c),h=c=0,o=[],s=[]));ds(n,o,s,h,c);n.closePath();n.fillStyle=u;n.fill()}function te(n,t){return n.usePointStyle&&n.boxWidth>t?t:n.boxWidth}function gs(n,t){var i=new ie({ctx:n.ctx,options:t,chart:n});b.configure(n,i,t);b.addBox(n,i);n.legend=i}function th(n,t){var i=new re({ctx:n.ctx,options:t,chart:n});b.configure(n,i,t);b.addBox(n,i);n.titleBlock=i}var st,e,vt,tu,iu,s,ui,ce,ru,ir,rr,y,d,ge,ou,ei,yt,hu,lu,uo,fo,eo,ht,oo,au,kt,er,du,tf,vo,dt,uf,cr,ot,r,vr,af,is,yf,rs,bf,es,ne,ys,ps,ws,bs,ie,nh,it,re,ue,ih;n=n&&n.hasOwnProperty("default")?n.default:n;st={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e=function(n,t){return n(t={exports:{}},t.exports),t.exports}(function(n){var u={},r,t,i,f,e;for(r in st)st.hasOwnProperty(r)&&(u[st[r]]=r);t=n.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(i in t)if(t.hasOwnProperty(i)){if(!("channels"in t[i]))throw new Error("missing channels property: "+i);if(!("labels"in t[i]))throw new Error("missing channel labels property: "+i);if(t[i].labels.length!==t[i].channels)throw new Error("channel and label counts mismatch: "+i);f=t[i].channels;e=t[i].labels;delete t[i].channels;delete t[i].labels;Object.defineProperty(t[i],"channels",{value:f});Object.defineProperty(t[i],"labels",{value:e})}t.rgb.hsl=function(n){var i,s,u=n[0]/255,f=n[1]/255,e=n[2]/255,r=Math.min(u,f,e),t=Math.max(u,f,e),o=t-r;return t===r?i=0:u===t?i=(f-e)/o:f===t?i=2+(e-u)/o:e===t&&(i=4+(u-f)/o),(i=Math.min(60*i,360))<0&&(i+=360),s=(r+t)/2,[i,100*(t===r?0:s<=.5?o/(t+r):o/(2-t-r)),100*s]};t.rgb.hsv=function(n){var e,o,s,t,h,r=n[0]/255,u=n[1]/255,f=n[2]/255,i=Math.max(r,u,f),c=i-Math.min(r,u,f),l=function(n){return(i-n)/6/c+.5};return 0===c?t=h=0:(h=c/i,e=l(r),o=l(u),s=l(f),r===i?t=s-o:u===i?t=1/3+e-s:f===i&&(t=2/3+o-e),t<0?t+=1:t>1&&(t-=1)),[360*t,100*h,100*i]};t.rgb.hwb=function(n){var r=n[0],u=n[1],i=n[2];return[t.rgb.hsl(n)[0],100*1/255*Math.min(r,Math.min(u,i)),100*(i=1-1/255*Math.max(r,Math.max(u,i)))]};t.rgb.cmyk=function(n){var t,i=n[0]/255,r=n[1]/255,u=n[2]/255;return[100*((1-i-(t=Math.min(1-i,1-r,1-u)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-u-t)/(1-t)||0),100*t]};t.rgb.keyword=function(n){var o=u[n],s,t,i,f,r,h,e;if(o)return o;f=1/0;for(r in st)st.hasOwnProperty(r)&&(h=st[r],e=(t=n,i=h,Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2)+Math.pow(t[2]-i[2],2)),e<f&&(f=e,s=r));return s};t.keyword.rgb=function(n){return st[n]};t.rgb.xyz=function(n){var t=n[0]/255,i=n[1]/255,r=n[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*i+.0722*r),100*(.0193*t+.1192*i+.9505*r)]};t.rgb.lab=function(n){var f=t.rgb.xyz(n),r=f[0],i=f[1],u=f[2];return i/=100,u/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(r-i),200*(i-(u=u>.008856?Math.pow(u,1/3):7.787*u+16/116))]};t.hsl.rgb=function(n){var i,e,t,s,u,h=n[0]/360,o=n[1]/100,r=n[2]/100,f;if(0===o)return[u=255*r,u,u];for(i=2*r-(e=r<.5?r*(1+o):r+o-r*o),s=[0,0,0],f=0;f<3;f++)(t=h+1/3*-(f-1))<0&&t++,t>1&&t--,u=6*t<1?i+6*(e-i)*t:2*t<1?e:3*t<2?i+(e-i)*(2/3-t)*6:i,s[f]=255*u;return s};t.hsl.hsv=function(n){var f=n[0],i=n[1]/100,t=n[2]/100,u=i,r=Math.max(t,.01);return i*=(t*=2)<=1?t:2-t,u*=r<=1?r:2-r,[f,100*(0===t?2*u/(r+u):2*i/(t+i)),50*(t+i)]};t.hsv.rgb=function(n){var r=n[0]/60,u=n[1]/100,t=n[2]/100,s=Math.floor(r)%6,o=r-Math.floor(r),i=255*t*(1-u),f=255*t*(1-u*o),e=255*t*(1-u*(1-o));switch(t*=255,s){case 0:return[t,e,i];case 1:return[f,t,i];case 2:return[i,t,e];case 3:return[i,f,t];case 4:return[e,i,t];case 5:return[t,i,f]}};t.hsv.hsl=function(n){var t,i,u,o=n[0],r=n[1]/100,f=n[2]/100,e=Math.max(f,.01);return u=(2-r)*f,i=r*e,[o,100*(i=(i/=(t=(2-r)*e)<=1?t:2-t)||0),100*(u/=2)]};t.hwb.rgb=function(n){var s,i,o,r,u,f,e,l=n[0]/360,t=n[1]/100,h=n[2]/100,c=t+h;switch(c>1&&(t/=c,h/=c),o=6*l-(s=Math.floor(6*l)),0!=(1&s)&&(o=1-o),r=t+o*((i=1-h)-t),s){default:case 6:case 0:u=i;f=r;e=t;break;case 1:u=r;f=i;e=t;break;case 2:u=t;f=i;e=r;break;case 3:u=t;f=r;e=i;break;case 4:u=r;f=t;e=i;break;case 5:u=i;f=t;e=r}return[255*u,255*f,255*e]};t.cmyk.rgb=function(n){var i=n[0]/100,r=n[1]/100,u=n[2]/100,t=n[3]/100;return[255*(1-Math.min(1,i*(1-t)+t)),255*(1-Math.min(1,r*(1-t)+t)),255*(1-Math.min(1,u*(1-t)+t))]};t.xyz.rgb=function(n){var r,t,i,u=n[0]/100,f=n[1]/100,e=n[2]/100;return t=-.9689*u+1.8758*f+.0415*e,i=.0557*u+-.204*f+1.057*e,r=(r=3.2406*u+-1.5372*f+-.4986*e)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(r=Math.min(Math.max(0,r),1)),255*(t=Math.min(Math.max(0,t),1)),255*(i=Math.min(Math.max(0,i),1))]};t.xyz.lab=function(n){var i=n[0],t=n[1],r=n[2];return t/=100,r/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(i-t),200*(t-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]};t.lab.xyz=function(n){var i,t,r,o=n[0];i=n[1]/500+(t=(o+16)/116);r=t-n[2]/200;var u=Math.pow(t,3),f=Math.pow(i,3),e=Math.pow(r,3);return t=u>.008856?u:(t-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,r=e>.008856?e:(r-16/116)/7.787,[i*=95.047,t*=100,r*=108.883]};t.lab.lch=function(n){var t,u=n[0],i=n[1],r=n[2];return(t=180*Math.atan2(r,i)/Math.PI)<0&&(t+=360),[u,Math.sqrt(i*i+r*r),t]};t.lch.lab=function(n){var t,r=n[0],i=n[1];return t=n[2]/180*Math.PI,[r,i*Math.cos(t),i*Math.sin(t)]};t.rgb.ansi16=function(n){var u=n[0],f=n[1],e=n[2],i=1 in arguments?arguments[1]:t.rgb.hsv(n)[2],r;return 0===(i=Math.round(i/50))?30:(r=30+(Math.round(e/255)<<2|Math.round(f/255)<<1|Math.round(u/255)),2===i&&(r+=60),r)};t.hsv.ansi16=function(n){return t.rgb.ansi16(t.hsv.rgb(n),n[2])};t.rgb.ansi256=function(n){var t=n[0],i=n[1],r=n[2];return t===i&&i===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/51)+6*Math.round(i/51)+Math.round(r/51)};t.ansi16.rgb=function(n){var t=n%10,i;return 0===t||7===t?(n>50&&(t+=3.5),[t=t/10.5*255,t,t]):(i=.5*(1+~~(n>50)),[(1&t)*i*255,(t>>1&1)*i*255,(t>>2&1)*i*255])};t.ansi256.rgb=function(n){var t,i;return n>=232?(t=10*(n-232)+8,[t,t,t]):(n-=16,[Math.floor(n/36)*51,Math.floor((i=n%36)/6)*51,i%6*51])};t.rgb.hex=function(n){var t=(((255&Math.round(n[0]))<<16)+((255&Math.round(n[1]))<<8)+(255&Math.round(n[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t};t.hex.rgb=function(n){var r=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),t,i;return r?(t=r[0],3===r[0].length&&(t=t.split("").map(function(n){return n+n}).join("")),i=parseInt(t,16),[i>>16&255,i>>8&255,255&i]):[0,0,0]};t.rgb.hcg=function(n){var f,i=n[0]/255,r=n[1]/255,u=n[2]/255,e=Math.max(Math.max(i,r),u),o=Math.min(Math.min(i,r),u),t=e-o;return f=t<=0?0:e===i?(r-u)/t%6:e===r?2+(u-i)/t:4+(i-r)/t+4,f/=6,[360*(f%=1),100*t,100*(t<1?o/(1-t):0)]};t.hsl.hcg=function(n){var r=n[1]/100,t=n[2]/100,i=1,u=0;return(i=t<.5?2*r*t:2*r*(1-t))<1&&(u=(t-.5*i)/(1-i)),[n[0],100*i,100*u]};t.hsv.hcg=function(n){var u=n[1]/100,i=n[2]/100,t=u*i,r=0;return t<1&&(r=(i-t)/(1-t)),[n[0],100*t,100*r]};t.hcg.rgb=function(n){var s=n[0]/360,i=n[1]/100,r=n[2]/100;if(0===i)return[255*r,255*r,255*r];var u,t=[0,0,0],o=s%1*6,f=o%1,e=1-f;switch(Math.floor(o)){case 0:t[0]=1;t[1]=f;t[2]=0;break;case 1:t[0]=e;t[1]=1;t[2]=0;break;case 2:t[0]=0;t[1]=1;t[2]=f;break;case 3:t[0]=0;t[1]=e;t[2]=1;break;case 4:t[0]=f;t[1]=0;t[2]=1;break;default:t[0]=1;t[1]=0;t[2]=e}return u=(1-i)*r,[255*(i*t[0]+u),255*(i*t[1]+u),255*(i*t[2]+u)]};t.hcg.hsv=function(n){var t=n[1]/100,i=t+n[2]/100*(1-t),r=0;return i>0&&(r=t/i),[n[0],100*r,100*i]};t.hcg.hsl=function(n){var i=n[1]/100,t=n[2]/100*(1-i)+.5*i,r=0;return t>0&&t<.5?r=i/(2*t):t>=.5&&t<1&&(r=i/(2*(1-t))),[n[0],100*r,100*t]};t.hcg.hwb=function(n){var t=n[1]/100,i=t+n[2]/100*(1-t);return[n[0],100*(i-t),100*(1-i)]};t.hwb.hcg=function(n){var u=n[1]/100,i=1-n[2]/100,t=i-u,r=0;return t<1&&(r=(i-t)/(1-t)),[n[0],100*t,100*r]};t.apple.rgb=function(n){return[n[0]/257,n[1]/257,n[2]/257]};t.rgb.apple=function(n){return[n[0]*257,n[1]*257,n[2]*257]};t.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};t.gray.hsl=t.gray.hsv=function(n){return[0,0,n[0]]};t.gray.hwb=function(n){return[0,100,n[0]]};t.gray.cmyk=function(n){return[0,0,0,n[0]]};t.gray.lab=function(n){return[n[0],0,0]};t.gray.hex=function(n){var t=255&Math.round(n[0]/100*255),i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};t.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/765*100]}});e.rgb;e.hsl;e.hsv;e.hwb;e.cmyk;e.xyz;e.lab;e.lch;e.hex;e.keyword;e.ansi16;e.ansi256;e.hcg;e.apple;e.gray;vt={};Object.keys(e).forEach(function(n){vt[n]={};Object.defineProperty(vt[n],"channels",{value:e[n].channels});Object.defineProperty(vt[n],"labels",{value:e[n].labels});var t=function(n){for(var t,i=rh(n),u={},f=Object.keys(i),e=f.length,r=0;r<e;r++)t=f[r],null!==i[t].parent&&(u[t]=fh(t,i));return u}(n);Object.keys(t).forEach(function(i){var r=t[i];vt[n][i]=function(n){var t=function(t){var i,u,r;if(null==t)return t;if(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),i=n(t),"object"==typeof i)for(u=i.length,r=0;r<u;r++)i[r]=Math.round(i[r]);return i};return"conversion"in n&&(t.conversion=n.conversion),t}(r);vt[n][i].raw=function(n){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n(t))};return"conversion"in n&&(t.conversion=n.conversion),t}(r)})});var eh=vt,dr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={getRgba:gr,getHsla:nu,getRgb:function(n){var t=gr(n);return t&&t.slice(0,3)},getHsl:function(n){var t=nu(n);return t&&t.slice(0,3)},getHwb:fe,getAlpha:function(n){var t=gr(n);return t?t[3]:(t=nu(n))?t[3]:(t=fe(n))?t[3]:void 0},hexString:function(n,t){return t=void 0!==t&&3===n.length?t:n[3],"#"+di(n[0])+di(n[1])+di(n[2])+(t>=0&&t<1?di(Math.round(255*t)):"")},rgbString:function(n,t){return t<1||n[3]&&n[3]<1?ee(n,t):"rgb("+n[0]+", "+n[1]+", "+n[2]+")"},rgbaString:ee,percentString:function(n,t){if(t<1||n[3]&&n[3]<1)return oe(n,t);var i=Math.round(n[0]/255*100),r=Math.round(n[1]/255*100),u=Math.round(n[2]/255*100);return"rgb("+i+"%, "+r+"%, "+u+"%)"},percentaString:oe,hslString:function(n,t){return t<1||n[3]&&n[3]<1?se(n,t):"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)"},hslaString:se,hwbString:function(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(n){return tu[n.slice(0,3)]}};tu={};for(iu in dr)tu[dr[iu]]=iu;s=function(n){return n instanceof s?n:this instanceof s?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof n?(t=k.getRgba(n))?this.setValues("rgb",t):(t=k.getHsla(n))?this.setValues("hsl",t):(t=k.getHwb(n))&&this.setValues("hwb",t):"object"==typeof n&&(void 0!==(t=n).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new s(n);var t};s.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var n=this.values;return 1!==n.alpha?n.hwb.concat([n.alpha]):n.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var n=this.values;return n.rgb.concat([n.alpha])},hslaArray:function(){var n=this.values;return n.hsl.concat([n.alpha])},alpha:function(n){return void 0===n?this.values.alpha:(this.setValues("alpha",n),this)},red:function(n){return this.setChannel("rgb",0,n)},green:function(n){return this.setChannel("rgb",1,n)},blue:function(n){return this.setChannel("rgb",2,n)},hue:function(n){return n&&(n=(n%=360)<0?360+n:n),this.setChannel("hsl",0,n)},saturation:function(n){return this.setChannel("hsl",1,n)},lightness:function(n){return this.setChannel("hsl",2,n)},saturationv:function(n){return this.setChannel("hsv",1,n)},whiteness:function(n){return this.setChannel("hwb",1,n)},blackness:function(n){return this.setChannel("hwb",2,n)},value:function(n){return this.setChannel("hsv",2,n)},cyan:function(n){return this.setChannel("cmyk",0,n)},magenta:function(n){return this.setChannel("cmyk",1,n)},yellow:function(n){return this.setChannel("cmyk",2,n)},black:function(n){return this.setChannel("cmyk",3,n)},hexString:function(){return k.hexString(this.values.rgb)},rgbString:function(){return k.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return k.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return k.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return k.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return k.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return k.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return k.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var n=this.values.rgb;return n[0]<<16|n[1]<<8|n[2]},luminosity:function(){for(var i,r=this.values.rgb,n=[],t=0;t<r.length;t++)i=r[t]/255,n[t]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(n){var t=this.luminosity(),i=n.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level:function(n){var t=this.contrast(n);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var n=this.values.rgb;return(299*n[0]+587*n[1]+114*n[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],n=0;n<3;n++)t[n]=255-this.values.rgb[n];return this.setValues("rgb",t),this},lighten:function(n){var t=this.values.hsl;return t[2]+=t[2]*n,this.setValues("hsl",t),this},darken:function(n){var t=this.values.hsl;return t[2]-=t[2]*n,this.setValues("hsl",t),this},saturate:function(n){var t=this.values.hsl;return t[1]+=t[1]*n,this.setValues("hsl",t),this},desaturate:function(n){var t=this.values.hsl;return t[1]-=t[1]*n,this.setValues("hsl",t),this},whiten:function(n){var t=this.values.hwb;return t[1]+=t[1]*n,this.setValues("hwb",t),this},blacken:function(n){var t=this.values.hwb;return t[2]+=t[2]*n,this.setValues("hwb",t),this},greyscale:function(){var n=this.values.rgb,t=.3*n[0]+.59*n[1]+.11*n[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(n){var t=this.values.alpha;return this.setValues("alpha",t-t*n),this},opaquer:function(n){var t=this.values.alpha;return this.setValues("alpha",t+t*n),this},rotate:function(n){var t=this.values.hsl,i=(t[0]+n)%360;return t[0]=i<0?360+i:i,this.setValues("hsl",t),this},mix:function(n,t){var i=n,f=void 0===t?.5:t,r=2*f-1,e=this.alpha()-i.alpha(),u=((r*e==-1?r:(r+e)/(1+r*e))+1)/2,o=1-u;return this.rgb(u*this.red()+o*i.red(),u*this.green()+o*i.green(),u*this.blue()+o*i.blue()).alpha(this.alpha()*f+i.alpha()*(1-f))},toJSON:function(){return this.rgb()},clone:function(){var n,r,u=new s,i=this.values,f=u.values;for(var t in i)i.hasOwnProperty(t)&&(n=i[t],"[object Array]"===(r={}.toString.call(n))?f[t]=n.slice(0):"[object Number]"===r?f[t]=n:console.error("unexpected color value:",n));return u}};s.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};s.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};s.prototype.getValues=function(n){for(var i=this.values,r={},t=0;t<n.length;t++)r[n.charAt(t)]=i[n][t];return 1!==i.alpha&&(r.a=i.alpha),r};s.prototype.setValues=function(n,t){var i,o,r=this.values,e=this.spaces,h=this.maxes,u=1,s,f;if(this.valid=!0,"alpha"===n)u=t;else if(t.length)r[n]=t.slice(0,n.length),u=t[n.length];else if(void 0!==t[n.charAt(0)]){for(i=0;i<n.length;i++)r[n][i]=t[n.charAt(i)];u=t.a}else if(void 0!==t[e[n][0]]){for(s=e[n],i=0;i<n.length;i++)r[n][i]=t[s[i]];u=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===u?r.alpha:u)),"alpha"===n)return!1;for(i=0;i<n.length;i++)o=Math.max(0,Math.min(h[n][i],r[n][i])),r[n][i]=Math.round(o);for(f in e)f!==n&&(r[f]=eh[n][f](r[n]));return!0};s.prototype.setSpace=function(n,t){var i=t[0];return void 0===i?this.getValues(n):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(n,i),this)};s.prototype.setChannel=function(n,t,i){var r=this.values[n];return void 0===i?r[t]:i===r[t]?this:(r[t]=i,this.setValues(n,r),this)};"undefined"!=typeof window&&(window.Color=s);var he,gi=s,u={noop:function(){},uid:(he=0,function(){return he++}),isNullOrUndef:function(n){return null==n},isArray:function(n){if(Array.isArray&&Array.isArray(n))return!0;var t=Object.prototype.toString.call(n);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)},isFinite:function(n){return("number"==typeof n||n instanceof Number)&&isFinite(n)},valueOrDefault:function(n,t){return void 0===n?t:n},valueAtIndexOrDefault:function(n,t,i){return u.valueOrDefault(u.isArray(n)?n[t]:n,i)},callback:function(n,t,i){if(n&&"function"==typeof n.call)return n.apply(i,t)},each:function(n,t,i,r){var f,e,o;if(u.isArray(n))if(e=n.length,r)for(f=e-1;f>=0;f--)t.call(i,n[f],f);else for(f=0;f<e;f++)t.call(i,n[f],f);else if(u.isObject(n))for(e=(o=Object.keys(n)).length,f=0;f<e;f++)t.call(i,n[o[f]],o[f])},arrayEquals:function(n,t){var i,e,r,f;if(!n||!t||n.length!==t.length)return!1;for(i=0,e=n.length;i<e;++i)if(r=n[i],f=t[i],r instanceof Array&&f instanceof Array){if(!u.arrayEquals(r,f))return!1}else if(r!==f)return!1;return!0},clone:function(n){if(u.isArray(n))return n.map(u.clone);if(u.isObject(n)){for(var r={},i=Object.keys(n),f=i.length,t=0;t<f;++t)r[i[t]]=u.clone(n[i[t]]);return r}return n},_merger:function(n,t,i,r){var e=t[n],f=i[n];u.isObject(e)&&u.isObject(f)?u.merge(e,f,r):t[n]=u.clone(f)},_mergerIf:function(n,t,i){var f=t[n],r=i[n];u.isObject(f)&&u.isObject(r)?u.mergeIf(f,r):t.hasOwnProperty(n)||(t[n]=u.clone(r))},merge:function(n,t,i){var e,r,o,s,f,h=u.isArray(t)?t:[t],c=h.length;if(!u.isObject(n))return n;for(e=(i=i||{}).merger||u._merger,r=0;r<c;++r)if(t=h[r],u.isObject(t))for(f=0,s=(o=Object.keys(t)).length;f<s;++f)e(o[f],n,t,i);return n},mergeIf:function(n,t){return u.merge(n,t,{merger:u._mergerIf})},extend:Object.assign||function(n){return u.merge(n,[].slice.call(arguments,1),{merger:function(n,t,i){t[n]=i[n]}})},inherits:function(n){var i=this,t=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return i.apply(this,arguments)},r=function(){this.constructor=t};return r.prototype=i.prototype,t.prototype=new r,t.extend=u.inherits,n&&u.extend(t.prototype,n),t.__super__=i.prototype,t},_deprecated:function(n,t,i,r){void 0!==t&&console.warn(n+': "'+i+'" is deprecated. Please use "'+r+'" instead')}},p=u;u.callCallback=u.callback;u.indexOf=function(n,t,i){return Array.prototype.indexOf.call(n,t,i)};u.getValueOrDefault=u.valueOrDefault;u.getValueAtIndexOrDefault=u.valueAtIndexOrDefault;ui={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return-n*(n-2)},easeInOutQuad:function(n){return(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1)},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return(n-=1)*n*n+1},easeInOutCubic:function(n){return(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return-((n-=1)*n*n*n-1)},easeInOutQuart:function(n){return(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return(n-=1)*n*n*n*n+1},easeInOutQuint:function(n){return(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},easeInSine:function(n){return 1-Math.cos(n*(Math.PI/2))},easeOutSine:function(n){return Math.sin(n*(Math.PI/2))},easeInOutSine:function(n){return-.5*(Math.cos(Math.PI*n)-1)},easeInExpo:function(n){return 0===n?0:Math.pow(2,10*(n-1))},easeOutExpo:function(n){return 1===n?1:1-Math.pow(2,-10*n)},easeInOutExpo:function(n){return 0===n?0:1===n?1:(n/=.5)<1?.5*Math.pow(2,10*(n-1)):.5*(2-Math.pow(2,-10*--n))},easeInCirc:function(n){return n>=1?n:-(Math.sqrt(1-n*n)-1)},easeOutCirc:function(n){return Math.sqrt(1-(n-=1)*n)},easeInOutCirc:function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},easeInElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:1===n?1:(t||(t=.3),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/t))},easeOutElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:1===n?1:(t||(t=.3),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*n)*Math.sin((n-r)*2*Math.PI/t)+1)},easeInOutElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:2==(n/=.5)?1:(t||(t=.45),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),n<1?i*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/t)*-.5:i*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*2*Math.PI/t)*.5+1)},easeInBack:function(n){var t=1.70158;return n*n*((t+1)*n-t)},easeOutBack:function(n){var t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack:function(n){var t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:function(n){return 1-ui.easeOutBounce(1-n)},easeOutBounce:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:function(n){return n<.5?.5*ui.easeInBounce(2*n):.5*ui.easeOutBounce(2*n-1)+.5}};ce={effects:ui};p.easingEffects=ui;var h=Math.PI,oh=h/180,sh=2*h,w=h/2,hi=h/4,le=2*h/3,nr={clear:function(n){n.ctx.clearRect(0,0,n.width,n.height)},roundedRect:function(n,t,i,r,u,f){if(f){var e=Math.min(f,u/2,r/2),o=t+e,s=i+e,c=t+r-e,l=i+u-e;n.moveTo(t,s);o<c&&s<l?(n.arc(o,s,e,-h,-w),n.arc(c,s,e,-w,0),n.arc(c,l,e,0,w),n.arc(o,l,e,w,h)):o<c?(n.moveTo(o,i),n.arc(c,s,e,-w,w),n.arc(o,s,e,w,h+w)):s<l?(n.arc(o,s,e,-h,0),n.arc(o,l,e,0,h)):n.arc(o,s,e,-h,h);n.closePath();n.moveTo(t,i)}else n.rect(t,i,r,u)},drawPoint:function(n,t,i,r,u,f){var a,o,s,c,l,e=(f||0)*oh;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(a=t.toString())||"[object HTMLCanvasElement]"===a))return n.save(),n.translate(r,u),n.rotate(e),n.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void n.restore();if(!(isNaN(i)||i<=0)){switch(n.beginPath(),t){default:n.arc(r,u,i,0,sh);n.closePath();break;case"triangle":n.moveTo(r+Math.sin(e)*i,u-Math.cos(e)*i);e+=le;n.lineTo(r+Math.sin(e)*i,u-Math.cos(e)*i);e+=le;n.lineTo(r+Math.sin(e)*i,u-Math.cos(e)*i);n.closePath();break;case"rectRounded":c=i-(l=.516*i);o=Math.cos(e+hi)*c;s=Math.sin(e+hi)*c;n.arc(r-o,u-s,l,e-h,e-w);n.arc(r+s,u-o,l,e-w,e);n.arc(r+o,u+s,l,e,e+w);n.arc(r-s,u+o,l,e+w,e+h);n.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*i;n.rect(r-c,u-c,2*c,2*c);break}e+=hi;case"rectRot":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+s,u-o);n.lineTo(r+o,u+s);n.lineTo(r-s,u+o);n.closePath();break;case"crossRot":e+=hi;case"cross":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);break;case"star":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);e+=hi;o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);break;case"line":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);break;case"dash":n.moveTo(r,u);n.lineTo(r+Math.cos(e)*i,u+Math.sin(e)*i)}n.fill();n.stroke()}},_isPointInArea:function(n,t){return n.x>t.left-1e-6&&n.x<t.right+1e-6&&n.y>t.top-1e-6&&n.y<t.bottom+1e-6},clipArea:function(n,t){n.save();n.beginPath();n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top);n.clip()},unclipArea:function(n){n.restore()},lineTo:function(n,t,i,r){var u=i.steppedLine,f;u?("middle"===u?(f=(t.x+i.x)/2,n.lineTo(f,r?i.y:t.y),n.lineTo(f,r?t.y:i.y)):"after"===u&&!r||"after"!==u&&r?n.lineTo(t.x,i.y):n.lineTo(i.x,t.y),n.lineTo(i.x,i.y)):i.tension?n.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?i.controlPointNextX:i.controlPointPreviousX,r?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):n.lineTo(i.x,i.y)}},hh=nr;p.clear=nr.clear;p.drawRoundedRectangle=function(n){n.beginPath();nr.roundedRect.apply(nr,arguments)};ru={_set:function(n,t){return p.merge(this[n]||(this[n]={}),t)}};ru._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var i=ru,tr=p.valueOrDefault,ch={toLineHeight:function(n,t){var i=(""+n).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*t;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100}return t*n},toPadding:function(n){var t,i,r,u;return p.isObject(n)?(t=+n.top||0,i=+n.right||0,r=+n.bottom||0,u=+n.left||0):t=i=r=u=+n||0,{top:t,right:i,bottom:r,left:u,height:t+r,width:u+i}},_parseFont:function(n){var t=i.global,u=tr(n.fontSize,t.defaultFontSize),r={family:tr(n.fontFamily,t.defaultFontFamily),lineHeight:p.options.toLineHeight(tr(n.lineHeight,t.defaultLineHeight),u),size:u,style:tr(n.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=function(n){return!n||p.isNullOrUndef(n.size)||p.isNullOrUndef(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r},resolve:function(n,t,i,r){for(var u,e=!0,f=0,o=n.length;f<o;++f)if(void 0!==(u=n[f])&&(void 0!==t&&"function"==typeof u&&(u=u(t),e=!1),void 0!==i&&p.isArray(u)&&(u=u[i],e=!1),void 0!==u))return r&&!e&&(r.cacheable=!1),u}},ae={_factorize:function(n){for(var i=[],r=Math.sqrt(n),t=1;t<r;t++)n%t==0&&(i.push(t),i.push(n/t));return r===(0|r)&&i.push(r),i.sort(function(n,t){return n-t}).pop(),i},log10:Math.log10||function(n){var t=Math.log(n)*Math.LOG10E,i=Math.round(t);return n===Math.pow(10,i)?i:t}},lh=ae;p.log10=ae.log10;var t=p,ah=ce,vh=hh,yh=ch,ph=lh,wh={getRtlAdapter:function(n,t,i){return n?function(n,t){return{x:function(i){return n+n+t-i},setWidth:function(n){t=n},textAlign:function(n){return"center"===n?n:"right"===n?"left":"right"},xPlus:function(n,t){return n-t},leftForLtr:function(n,t){return n-t}}}(t,i):{x:function(n){return n},setWidth:function(){},textAlign:function(n){return n},xPlus:function(n,t){return n+t},leftForLtr:function(n){return n}}},overrideTextDirection:function(n,t){var i,r;"ltr"!==t&&"rtl"!==t||(r=[(i=n.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),n.prevTextDirection=r)},restoreTextDirection:function(n){var t=n.prevTextDirection;void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}};t.easing=ah;t.canvas=vh;t.options=yh;t.math=ph;t.rtl=wh;ir=function(n){t.extend(this,n);this.initialize.apply(this,arguments)};t.extend(ir.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var n=this;return n._view||(n._view=t.extend({},n._model)),n._start={},n},transition:function(n){var i=this,r=i._model,u=i._start,f=i._view;return r&&1!==n?(f||(f=i._view={}),u||(u=i._start={}),function(n,i,r,u){for(var f,c,o,e,l,a,v,y=Object.keys(r),s=0,h=y.length;s<h;++s)if(e=r[f=y[s]],i.hasOwnProperty(f)||(i[f]=e),(c=i[f])!==e&&"_"!==f[0]){if(n.hasOwnProperty(f)||(n[f]=c),(l=typeof e)==typeof(o=n[f]))if("string"===l){if((a=gi(o)).valid&&(v=gi(e)).valid){i[f]=v.mix(a,u).rgbString();continue}}else if(t.isFinite(o)&&t.isFinite(e)){i[f]=o+(e-o)*u;continue}i[f]=e}}(u,f,r,n),i):(i._view=t.extend({},r),i._start=null,i)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}});ir.extend=t.inherits;var nt=ir,uu=nt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),fu=uu;Object.defineProperty(uu.prototype,"animationObject",{get:function(){return this}});Object.defineProperty(uu.prototype,"chartInstance",{get:function(){return this.chart},set:function(n){this.chart=n}});i._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop}});var eu={animations:[],request:null,addAnimation:function(n,t,i,r){var u,e,f=this.animations;for(t.chart=n,t.startTime=Date.now(),t.duration=i,r||(n.animating=!0),u=0,e=f.length;u<e;++u)if(f[u].chart===n)return void(f[u]=t);f.push(t);1===f.length&&this.requestAnimationFrame()},cancelAnimation:function(n){var i=t.findIndex(this.animations,function(t){return t.chart===n});-1!==i&&(this.animations.splice(i,1),n.animating=!1)},requestAnimationFrame:function(){var n=this;null===n.request&&(n.request=t.requestAnimFrame.call(window,function(){n.request=null;n.startDigest()}))},startDigest:function(){this.advance();this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var n,i,r,e,f=this.animations,u=0;u<f.length;)i=(n=f[u]).chart,r=n.numSteps,e=Math.floor((Date.now()-n.startTime)/n.duration*r)+1,n.currentStep=Math.min(e,r),t.callback(n.render,[i,n],i),t.callback(n.onAnimationProgress,[n],i),n.currentStep>=r?(t.callback(n.onAnimationComplete,[n],i),i.animating=!1,f.splice(u,1)):++u}},fi=t.options.resolve,ve=["push","pop","shift","splice","unshift"];rr=function(n,t){this.initialize(n,t)};t.extend(rr.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(n,t){var i=this;i.chart=n;i.index=t;i.linkScales();i.addElements();i._type=i.getMeta().type},updateIndex:function(n){this.index=n},linkScales:function(){var n=this.getMeta(),i=this.chart,r=i.scales,t=this.getDataset(),u=i.options.scales;null!==n.xAxisID&&n.xAxisID in r&&!t.xAxisID||(n.xAxisID=t.xAxisID||u.xAxes[0].id);null!==n.yAxisID&&n.yAxisID in r&&!t.yAxisID||(n.yAxisID=t.yAxisID||u.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(n){return this.chart.scales[n]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&ye(this._data,this)},createMetaDataset:function(){var n=this.datasetElementType;return n&&new n({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(n){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:n})},addElements:function(){for(var t=this.getMeta(),u=this.getDataset().data||[],r=t.data,n=0,i=u.length;n<i;++n)r[n]=r[n]||this.createMetaData(n);t.dataset=t.dataset||this.createMetaDataset()},addElementAndReset:function(n){var t=this.createMetaData(n);this.getMeta().data.splice(n,0,t);this.updateElement(t,n,!0)},buildOrUpdateElements:function(){var i,u,n=this,f=n.getDataset(),r=f.data||(f.data=[]);n._data!==r&&(n._data&&ye(n._data,n),r&&Object.isExtensible(r)&&(u=n,(i=r)._chartjs?i._chartjs.listeners.push(u):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[u]}}),ve.forEach(function(n){var r="onData"+n.charAt(0).toUpperCase()+n.slice(1),u=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value:function(){var n=Array.prototype.slice.call(arguments),f=u.apply(this,n);return t.each(i._chartjs.listeners,function(t){"function"==typeof t[r]&&t[r].apply(t,n)}),f}})}))),n._data=r);n.resyncElements()},_configure:function(){this._config=t.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(n,i,r){"_meta"!==n&&"data"!==n&&t._merger(n,i,r)}})},_update:function(n){this._configure();this._cachedDataOpts=null;this.update(n)},update:t.noop,transition:function(n){for(var t=this.getMeta(),r=t.data||[],u=r.length,i=0;i<u;++i)r[i].transition(n);t.dataset&&t.dataset.transition(n)},draw:function(){var n=this.getMeta(),i=n.data||[],r=i.length,t=0;for(n.dataset&&n.dataset.draw();t<r;++t)i[t].draw()},getStyle:function(n){var t,i=this.getMeta(),r=i.dataset;return this._configure(),r&&void 0===n?t=this._resolveDatasetElementOptions(r||{}):(n=n||0,t=this._resolveDataElementOptions(i.data[n]||{},n)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(n,t){for(var r,f,i=this,o=i.chart,c=i._config,l=n.custom||{},a=o.options.elements[i.datasetElementType.prototype._type]||{},s=i._datasetElementOptions,h={},v={chart:o,dataset:i.getDataset(),datasetIndex:i.index,hover:t},u=0,e=s.length;u<e;++u)r=s[u],f=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=fi([l[f],c[f],a[f]],v);return h},_resolveDataElementOptions:function(n,i){var u=this,e=n&&n.custom,a=u._cachedDataOpts;if(a&&!e)return a;var v,f,s,r,y=u.chart,c=u._config,p=y.options.elements[u.dataElementType.prototype._type]||{},o=u._dataElementOptions,h={},w={chart:y,dataIndex:i,dataset:u.getDataset(),datasetIndex:u.index},l={cacheable:!e};if(e=e||{},t.isArray(o))for(f=0,s=o.length;f<s;++f)h[r=o[f]]=fi([e[r],c[r],p[r]],w,i,l);else for(f=0,s=(v=Object.keys(o)).length;f<s;++f)h[r=v[f]]=fi([e[r],c[o[r]],c[r],p[r]],w,i,l);return l.cacheable&&(u._cachedDataOpts=Object.freeze(h)),h},removeHoverStyle:function(n){t.merge(n._model,n.$previousStyle||{});delete n.$previousStyle},setHoverStyle:function(n){var r=this.chart.data.datasets[n._datasetIndex],u=n._index,f=n.custom||{},i=n._model,e=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=fi([f.hoverBackgroundColor,r.hoverBackgroundColor,e(i.backgroundColor)],void 0,u);i.borderColor=fi([f.hoverBorderColor,r.hoverBorderColor,e(i.borderColor)],void 0,u);i.borderWidth=fi([f.hoverBorderWidth,r.hoverBorderWidth,i.borderWidth],void 0,u)},_removeDatasetHoverStyle:function(){var n=this.getMeta().dataset;n&&this.removeHoverStyle(n)},_setDatasetHoverStyle:function(){var n,f,t,e,r,u,i=this.getMeta().dataset,o={};if(i){for(u=i._model,r=this._resolveDatasetElementOptions(i,!0),n=0,f=(e=Object.keys(r)).length;n<f;++n)o[t=e[n]]=u[t],u[t]=r[t];i.$previousStyle=o}},resyncElements:function(){var i=this.getMeta(),r=this.getDataset().data,n=i.data.length,t=r.length;t<n?i.data.splice(t,n-t):t>n&&this.insertElements(n,t-n)},insertElements:function(n,t){for(var i=0;i<t;++i)this.addElementAndReset(n+i)},onDataPush:function(){var n=arguments.length;this.insertElements(this.getDataset().data.length-n,n)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(n,t){this.getMeta().data.splice(n,t);this.insertElements(n,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});rr.extend=t.inherits;y=rr;d=2*Math.PI;i._set("global",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var kh=nt.extend({_type:"arc",inLabelRange:function(n){var t=this._view;return!!t&&Math.pow(n-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(n,i){var r=this._view,h,c;if(r){for(var o=t.getAngleFromPoint(r,{x:n,y:i}),u=o.angle,s=o.distance,e=r.startAngle,f=r.endAngle;f<e;)f+=d;for(;u>f;)u-=d;for(;u<e;)u+=d;return h=u>=e&&u<=f,c=s>=r.innerRadius&&s<=r.outerRadius,h&&c}return!1},getCenterPoint:function(){var n=this._view,t=(n.startAngle+n.endAngle)/2,i=(n.innerRadius+n.outerRadius)/2;return{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},getArea:function(){var n=this._view;return Math.PI*((n.endAngle-n.startAngle)/(2*Math.PI))*(Math.pow(n.outerRadius,2)-Math.pow(n.innerRadius,2))},tooltipPosition:function(){var n=this._view,t=n.startAngle+(n.endAngle-n.startAngle)/2,i=(n.outerRadius-n.innerRadius)/2+n.innerRadius;return{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},draw:function(){var r,t=this._chart.ctx,i=this._view,u="inner"===i.borderAlign?.33:0,n={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-u,0),pixelMargin:u,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/d)};if(t.save(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,n.fullCircles){for(n.endAngle=n.startAngle+d,t.beginPath(),t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),r=0;r<n.fullCircles;++r)t.fill();n.endAngle=n.startAngle+i.circumference%d}t.beginPath();t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle);t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0);t.closePath();t.fill();i.borderWidth&&bh(t,i,n);t.restore()}}),we=t.valueOrDefault,be=i.global.defaultColor;i._set("global",{elements:{line:{tension:.4,backgroundColor:be,borderWidth:3,borderColor:be,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var dh=nt.extend({_type:"line",draw:function(){var r,c,f,s=this,e=s._view,n=s._chart.ctx,a=e.spanGaps,u=s._children.slice(),v=i.global,h=v.elements.line,o=-1,l=s._loop;if(u.length){if(s._loop){for(r=0;r<u.length;++r)if(c=t.previousItem(u,r),!u[r]._view.skip&&c._view.skip){u=u.slice(r).concat(u.slice(0,r));l=a;break}l&&u.push(u[0])}for(n.save(),n.lineCap=e.borderCapStyle||h.borderCapStyle,n.setLineDash&&n.setLineDash(e.borderDash||h.borderDash),n.lineDashOffset=we(e.borderDashOffset,h.borderDashOffset),n.lineJoin=e.borderJoinStyle||h.borderJoinStyle,n.lineWidth=we(e.borderWidth,h.borderWidth),n.strokeStyle=e.borderColor||v.defaultColor,n.beginPath(),(f=u[0]._view).skip||(n.moveTo(f.x,f.y),o=0),r=1;r<u.length;++r)f=u[r]._view,c=-1===o?t.previousItem(u,r):u[o],f.skip||(o!==r-1&&!a||-1===o?n.moveTo(f.x,f.y):t.canvas.lineTo(n,c._view,f),o=r);l&&n.closePath();n.stroke();n.restore()}}}),gh=t.valueOrDefault,ke=i.global.defaultColor;i._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ke,borderColor:ke,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});ge=nt.extend({_type:"point",inRange:function(n,t){var i=this._view;return!!i&&Math.pow(n-i.x,2)+Math.pow(t-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:de,inXRange:de,inYRange:function(n){var t=this._view;return!!t&&Math.abs(n-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var n=this._view;return{x:n.x,y:n.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var n=this._view;return{x:n.x,y:n.y,padding:n.radius+n.borderWidth}},draw:function(n){var r=this._view,u=this._chart.ctx,o=r.pointStyle,s=r.rotation,h=r.radius,c=r.x,l=r.y,f=i.global,e=f.defaultColor;r.skip||(void 0===n||t.canvas._isPointInArea(r,n))&&(u.strokeStyle=r.borderColor||e,u.lineWidth=gh(r.borderWidth,f.elements.point.borderWidth),u.fillStyle=r.backgroundColor||e,t.canvas.drawPoint(u,o,h,c,l,s))}});ou=i.global.defaultColor;i._set("global",{elements:{rectangle:{backgroundColor:ou,borderColor:ou,borderSkipped:"bottom",borderWidth:0}}});var tc=nt.extend({_type:"rectangle",draw:function(){var n=this._chart.ctx,r=this._view,u=function(n){var t=no(n),r=t.right-t.left,u=t.bottom-t.top,i=nc(n,r/2,u/2);return{outer:{x:t.left,y:t.top,w:r,h:u},inner:{x:t.left+i.l,y:t.top+i.t,w:r-i.l-i.r,h:u-i.t-i.b}}}(r),t=u.outer,i=u.inner;n.fillStyle=r.backgroundColor;n.fillRect(t.x,t.y,t.w,t.h);t.w===i.w&&t.h===i.h||(n.save(),n.beginPath(),n.rect(t.x,t.y,t.w,t.h),n.clip(),n.fillStyle=r.borderColor,n.rect(i.x,i.y,i.w,i.h),n.fill("evenodd"),n.restore())},height:function(){var n=this._view;return n.base-n.y},inRange:function(n,t){return ci(this._view,n,t)},inLabelRange:function(n,t){var i=this._view;return ur(i)?ci(i,n,null):ci(i,null,t)},inXRange:function(n){return ci(this._view,n,null)},inYRange:function(n){return ci(this._view,null,n)},getCenterPoint:function(){var t,i,n=this._view;return ur(n)?(t=n.x,i=(n.y+n.base)/2):(t=(n.x+n.base)/2,i=n.y),{x:t,y:i}},getArea:function(){var n=this._view;return ur(n)?n.width*Math.abs(n.y-n.base):n.height*Math.abs(n.x-n.base)},tooltipPosition:function(){var n=this._view;return{x:n.x,y:n.y}}}),c={},ic=kh,rc=dh,uc=ge,fc=tc;c.Arc=ic;c.Line=rc;c.Point=uc;c.Rectangle=fc;ei=t._deprecated;yt=t.valueOrDefault;i._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});i._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var io=y.extend({dataElementType:c.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var i,n,t=this;y.prototype.initialize.apply(t,arguments);(i=t.getMeta()).stack=t.getDataset().stack;i.bar=!0;n=t._getIndexScale().options;ei("bar chart",n.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage");ei("bar chart",n.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness");ei("bar chart",n.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage");ei("bar chart",t._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength");ei("bar chart",n.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(n){var t,i,r=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,i=r.length;t<i;++t)this.updateElement(r[t],t,n)},updateElement:function(n,i,r){var u=this,e=u.getMeta(),o=u.getDataset(),f=u._resolveDataElementOptions(n,i);n._xScale=u.getScaleForId(e.xAxisID);n._yScale=u.getScaleForId(e.yAxisID);n._datasetIndex=u.index;n._index=i;n._model={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderSkipped:f.borderSkipped,borderWidth:f.borderWidth,datasetLabel:o.label,label:u.chart.data.labels[i]};t.isArray(o.data[i])&&(n._model.borderSkipped=null);u._updateElementGeometry(n,i,r,f);n.pivot()},_updateElementGeometry:function(n,t,i,r){var u=this,f=n._model,c=u._getValueScale(),s=c.getBasePixel(),e=c.isHorizontal(),l=u._ruler||u.getRuler(),h=u.calculateBarValuePixels(u.index,t,r),o=u.calculateBarIndexPixels(u.index,t,l,r);f.horizontal=e;f.base=i?s:h.base;f.x=e?i?s:h.head:o.center;f.y=e?o.center:i?s:h.head;f.height=e?o.size:void 0;f.width=e?void 0:o.size},_getStacks:function(n){for(var t,u=this._getIndexScale(),f=u._getMatchingVisibleMetas(this._type),e=u.options.stacked,o=f.length,r=[],i=0;i<o&&(t=f[i],(!1===e||-1===r.indexOf(t.stack)||void 0===e&&void 0===t.stack)&&r.push(t.stack),t.index!==n);++i);return r},getStackCount:function(){return this._getStacks().length},getStackIndex:function(n,t){var i=this._getStacks(n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r},getRuler:function(){for(var t=this._getIndexScale(),r=[],n=0,i=this.getMeta().data.length;n<i;++n)r.push(t.getPixelForValue(null,n,this.index));return{pixels:r,start:t._startPixel,end:t._endPixel,stackCount:this.getStackCount(),scale:t}},calculateBarValuePixels:function(n,t,i){var h,a,c,e,l,o,f,g=this.chart,u=this._getValueScale(),p=u.isHorizontal(),w=g.data.datasets,b=u._getMatchingVisibleMetas(this._type),r=u._parseValue(w[n].data[t]),s=i.minBarLength,k=u.options.stacked,d=this.getMeta().stack,v=void 0===r.start?0:r.max>=0&&r.min>=0?r.min:r.max,y=void 0===r.start?r.end:r.max>=0&&r.min>=0?r.max-r.min:r.min-r.max,nt=b.length;if(k||void 0===k&&void 0!==d)for(h=0;h<nt&&(a=b[h]).index!==n;++h)a.stack===d&&(c=void 0===(f=u._parseValue(w[a.index].data[t])).start?f.end:f.min>=0&&f.max>=0?f.max:f.min,(r.min<0&&c<0||r.max>=0&&c>0)&&(v+=c));return e=u.getPixelForValue(v),o=(l=u.getPixelForValue(v+y))-e,void 0!==s&&Math.abs(o)<s&&(o=s,l=y>=0&&!p||y<0&&p?e-s:e+s),{size:o,base:e,head:l,center:l+o/2}},calculateBarIndexPixels:function(n,t,i,r){var u="flex"===r.barThickness?function(n,t,i){var o,e=t.pixels,r=e[n],f=n>0?e[n-1]:null,u=n<e.length-1?e[n+1]:null,s=i.categoryPercentage;return null===f&&(f=r-(null===u?t.end-t.start:u-r)),null===u&&(u=r+r-f),o=r-(r-Math.min(f,u))/2*s,{chunk:Math.abs(u-f)/2*s/t.stackCount,ratio:i.barPercentage,start:o}}(t,i,r):ec(t,i,r),o=this.getStackIndex(n,this.getMeta().stack),f=u.start+u.chunk*o+u.chunk/2,e=Math.min(yt(r.maxBarThickness,1/0),u.chunk*u.ratio);return{base:f-e/2,head:f+e/2,center:f,size:e}},draw:function(){var i=this.chart,f=this._getValueScale(),u=this.getMeta().data,e=this.getDataset(),o=u.length,n=0,r;for(t.canvas.clipArea(i.ctx,i.chartArea);n<o;++n)r=f._parseValue(e.data[n]),isNaN(r.min)||isNaN(r.max)||u[n].draw();t.canvas.unclipArea(i.ctx)},_resolveDataElementOptions:function(){var r=this,n=t.extend({},y.prototype._resolveDataElementOptions.apply(r,arguments)),i=r._getIndexScale().options,u=r._getValueScale().options;return n.barPercentage=yt(i.barPercentage,n.barPercentage),n.barThickness=yt(i.barThickness,n.barThickness),n.categoryPercentage=yt(i.categoryPercentage,n.categoryPercentage),n.maxBarThickness=yt(i.maxBarThickness,n.maxBarThickness),n.minBarLength=yt(u.minBarLength,n.minBarLength),n}}),su=t.valueOrDefault,oc=t.options.resolve;i._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(n,t){var i=t.datasets[n.datasetIndex].label||"",r=t.datasets[n.datasetIndex].data[n.index];return i+": ("+n.xLabel+", "+n.yLabel+", "+r.r+")"}}}});var sc=y.extend({dataElementType:c.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(n){var i=this,r=i.getMeta().data;t.each(r,function(t,r){i.updateElement(t,r,n)})},updateElement:function(n,t,i){var u=this,h=u.getMeta(),a=n.custom||{},f=u.getScaleForId(h.xAxisID),e=u.getScaleForId(h.yAxisID),r=u._resolveDataElementOptions(n,t),o=u.getDataset().data[t],s=u.index,c=i?f.getPixelForDecimal(.5):f.getPixelForValue("object"==typeof o?o:NaN,t,s),l=i?e.getBasePixel():e.getPixelForValue(o,t,s);n._xScale=f;n._yScale=e;n._options=r;n._datasetIndex=s;n._index=t;n._model={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,hitRadius:r.hitRadius,pointStyle:r.pointStyle,rotation:r.rotation,radius:i?0:r.radius,skip:a.skip||isNaN(c)||isNaN(l),x:c,y:l};n.pivot()},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=su(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=su(r.hoverBorderColor,u(r.borderColor));i.borderWidth=su(r.hoverBorderWidth,r.borderWidth);i.radius=r.radius+r.hoverRadius},_resolveDataElementOptions:function(n,i){var r=this,f=r.chart,e=r.getDataset(),o=n.custom||{},s=e.data[i]||{},u=y.prototype._resolveDataElementOptions.apply(r,arguments),h={chart:f,dataIndex:i,dataset:e,datasetIndex:r.index};return r._cachedDataOpts===u&&(u=t.extend({},u)),u.radius=oc([o.radius,s.r,r._config.radius,f.options.elements.point.radius],h,i),u}}),fr=t.valueOrDefault,pt=Math.PI,rt=2*pt,wt=pt/2;i._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(n){var t,u,f,i=document.createElement("ul"),e=n.data,r=e.datasets,o=e.labels;if(i.setAttribute("class",n.id+"-legend"),r.length)for(t=0,u=r[0].data.length;t<u;++t)(f=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],o[t]&&f.appendChild(document.createTextNode(o[t]));return i.outerHTML},legend:{labels:{generateLabels:function(n){var t=n.data;return t.labels.length&&t.datasets.length?t.labels.map(function(i,r){var f=n.getDatasetMeta(0),u=f.controller.getStyle(r);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,hidden:isNaN(t.datasets[0].data[r])||f.data[r].hidden,index:r}}):[]}},onClick:function(n,t){for(var r,u=t.index,f=this.chart,i=0,e=(f.data.datasets||[]).length;i<e;++i)(r=f.getDatasetMeta(i)).data[u]&&(r.data[u].hidden=!r.data[u].hidden);f.update()}},cutoutPercentage:50,rotation:-wt,circumference:rt,tooltips:{callbacks:{title:function(){return""},label:function(n,i){var r=i.labels[n.index],u=": "+i.datasets[n.datasetIndex].data[n.index];return t.isArray(r)?(r=r.slice())[0]+=u:r+=u,r}}}});hu=y.extend({dataElementType:c.Arc,linkScales:t.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(n){for(var i=0,t=0;t<n;++t)this.chart.isDatasetVisible(t)&&++i;return i},update:function(n){var p,w,r,s,i=this,t=i.chart,h=t.chartArea,y=t.options,b=1,k=1,d=0,g=0,nt=i.getMeta(),o=nt.data,u=y.cutoutPercentage/100||0,tt=y.circumference,ot=i._getRingWeight(i.index);if(tt<rt){var f=y.rotation%rt,e=(f+=f>=pt?-rt:f<-pt?rt:0)+tt,c=Math.cos(f),l=Math.sin(f),a=Math.cos(e),v=Math.sin(e),st=f<=0&&e>=0||e>=rt,ht=f<=wt&&e>=wt||e>=rt+wt,ct=f<=-wt&&e>=-wt||e>=pt+wt,it=f===-pt||e>=pt?-1:Math.min(c,c*u,a,a*u),ut=ct?-1:Math.min(l,l*u,v,v*u),ft=st?1:Math.max(c,c*u,a,a*u),et=ht?1:Math.max(l,l*u,v,v*u);b=(ft-it)/2;k=(et-ut)/2;d=-(ft+it)/2;g=-(et+ut)/2}for(r=0,s=o.length;r<s;++r)o[r]._options=i._resolveDataElementOptions(o[r],r);for(t.borderWidth=i.getMaxBorderWidth(),p=(h.right-h.left-t.borderWidth)/b,w=(h.bottom-h.top-t.borderWidth)/k,t.outerRadius=Math.max(Math.min(p,w)/2,0),t.innerRadius=Math.max(t.outerRadius*u,0),t.radiusLength=(t.outerRadius-t.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),t.offsetX=d*t.outerRadius,t.offsetY=g*t.outerRadius,nt.total=i.calculateTotal(),i.outerRadius=t.outerRadius-t.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-t.radiusLength*ot,0),r=0,s=o.length;r<s;++r)i.updateElement(o[r],r,n)},updateElement:function(n,i,r){var u=this,f=u.chart,s=f.chartArea,e=f.options,h=e.animation,a=(s.left+s.right)/2,v=(s.top+s.bottom)/2,y=e.rotation,p=e.rotation,l=u.getDataset(),w=r&&h.animateRotate?0:n.hidden?0:u.calculateCircumference(l.data[i])*(e.circumference/rt),b=r&&h.animateScale?0:u.innerRadius,k=r&&h.animateScale?0:u.outerRadius,c=n._options||{},o;t.extend(n,{_datasetIndex:u.index,_index:i,_model:{backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,borderAlign:c.borderAlign,x:a+f.offsetX,y:v+f.offsetY,startAngle:y,endAngle:p,circumference:w,outerRadius:k,innerRadius:b,label:t.valueAtIndexOrDefault(l.label,i,f.data.labels[i])}});o=n._model;r&&h.animateRotate||(o.startAngle=0===i?e.rotation:u.getMeta().data[i-1]._model.endAngle,o.endAngle=o.startAngle+o.circumference);n.pivot()},calculateTotal:function(){var n,r=this.getDataset(),u=this.getMeta(),i=0;return t.each(u.data,function(t,u){n=r.data[u];isNaN(n)||t.hidden||(i+=Math.abs(n))}),i},calculateCircumference:function(n){var t=this.getMeta().total;return t>0&&!isNaN(n)?rt*(Math.abs(n)/t):0},getMaxBorderWidth:function(n){var t,u,h,e,f,r,o,c,i=0,s=this.chart;if(!n)for(t=0,u=s.data.datasets.length;t<u;++t)if(s.isDatasetVisible(t)){n=(h=s.getDatasetMeta(t)).data;t!==this.index&&(f=h.controller);break}if(!n)return 0;for(t=0,u=n.length;t<u;++t)e=n[t],f?(f._configure(),r=f._resolveDataElementOptions(e,t)):r=e._options,"inner"!==r.borderAlign&&(o=r.borderWidth,i=(c=r.hoverBorderWidth)>(i=o>i?o:i)?c:i);return i},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=fr(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=fr(r.hoverBorderColor,u(r.borderColor));i.borderWidth=fr(r.hoverBorderWidth,r.borderWidth)},_getRingWeightOffset:function(n){for(var i=0,t=0;t<n;++t)this.chart.isDatasetVisible(t)&&(i+=this._getRingWeight(t));return i},_getRingWeight:function(n){return Math.max(fr(this.chart.data.datasets[n].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});i._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});i._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var hc=io.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ut=t.valueOrDefault,cc=t.options.resolve,cu=t.canvas._isPointInArea;i._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});lu=y.extend({datasetElementType:c.Line,dataElementType:c.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(n){var i,e,t=this,o=t.getMeta(),r=o.dataset,u=o.data||[],h=t.chart.options,f=t._config,s=t._showLine=ut(f.showLine,h.showLines);for(t._xScale=t.getScaleForId(o.xAxisID),t._yScale=t.getScaleForId(o.yAxisID),s&&(void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),r._scale=t._yScale,r._datasetIndex=t.index,r._children=u,r._model=t._resolveDatasetElementOptions(r),r.pivot()),i=0,e=u.length;i<e;++i)t.updateElement(u[i],i,n);for(s&&0!==r._model.tension&&t.updateBezierControlPoints(),i=0,e=u.length;i<e;++i)u[i].pivot()},updateElement:function(n,t,i){var e,o,u=this,v=u.getMeta(),c=n.custom||{},y=u.getDataset(),s=u.index,h=y.data[t],l=u._xScale,a=u._yScale,f=v.dataset._model,r=u._resolveDataElementOptions(n,t);e=l.getPixelForValue("object"==typeof h?h:NaN,t,s);o=i?a.getBasePixel():u.calculatePointY(h,t,s);n._xScale=l;n._yScale=a;n._options=r;n._datasetIndex=s;n._index=t;n._model={x:e,y:o,skip:c.skip||isNaN(e)||isNaN(o),radius:r.radius,pointStyle:r.pointStyle,rotation:r.rotation,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,tension:ut(c.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:r.hitRadius}},_resolveDatasetElementOptions:function(n){var i=this,r=i._config,e=n.custom||{},u=i.chart.options,f=u.elements.line,t=y.prototype._resolveDatasetElementOptions.apply(i,arguments);return t.spanGaps=ut(r.spanGaps,u.spanGaps),t.tension=ut(r.lineTension,f.tension),t.steppedLine=cc([e.steppedLine,r.steppedLine,f.stepped]),t.clip=ac(ut(r.clip,lc(i._xScale,i._yScale,t.borderWidth))),t},calculatePointY:function(n,t,i){var u,s,f,o,e,h,c,l=this.chart,r=this._yScale,a=0,v=0;if(r.options.stacked){for(e=+r.getRightValue(n),c=(h=l._getSortedVisibleDatasetMetas()).length,u=0;u<c&&(f=h[u]).index!==i;++u)s=l.data.datasets[f.index],"line"===f.type&&f.yAxisID===r.id&&((o=+r.getRightValue(s.data[t]))<0?v+=o||0:a+=o||0);return e<0?r.getPixelForValue(v+e):r.getPixelForValue(a+e)}return r.getPixelForValue(n)},updateBezierControlPoints:function(){function o(n,t,i){return Math.max(Math.min(n,i),t)}var i,e,n,f,h=this.chart,c=this.getMeta(),s=c.dataset._model,u=h.chartArea,r=c.data||[];if(s.spanGaps&&(r=r.filter(function(n){return!n._model.skip})),"monotone"===s.cubicInterpolationMode)t.splineCurveMonotone(r);else for(i=0,e=r.length;i<e;++i)n=r[i]._model,f=t.splineCurve(t.previousItem(r,i)._model,n,t.nextItem(r,i)._model,s.tension),n.controlPointPreviousX=f.previous.x,n.controlPointPreviousY=f.previous.y,n.controlPointNextX=f.next.x,n.controlPointNextY=f.next.y;if(h.options.elements.line.capBezierPoints)for(i=0,e=r.length;i<e;++i)n=r[i]._model,cu(n,u)&&(i>0&&cu(r[i-1]._model,u)&&(n.controlPointPreviousX=o(n.controlPointPreviousX,u.left,u.right),n.controlPointPreviousY=o(n.controlPointPreviousY,u.top,u.bottom)),i<r.length-1&&cu(r[i+1]._model,u)&&(n.controlPointNextX=o(n.controlPointNextX,u.left,u.right),n.controlPointNextY=o(n.controlPointNextY,u.top,u.bottom)))},draw:function(){var n,r=this.chart,u=this.getMeta(),e=u.data||[],i=r.chartArea,o=r.canvas,f=0,s=e.length;for(this._showLine&&(n=u.dataset._model.clip,t.canvas.clipArea(r.ctx,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?o.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?o.height:i.bottom+n.bottom}),u.dataset.draw(),t.canvas.unclipArea(r.ctx));f<s;++f)e[f].draw(i)},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=ut(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=ut(r.hoverBorderColor,u(r.borderColor));i.borderWidth=ut(r.hoverBorderWidth,r.borderWidth);i.radius=ut(r.hoverRadius,r.radius)}});uo=t.options.resolve;i._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(n){var t,u,f,i=document.createElement("ul"),e=n.data,r=e.datasets,o=e.labels;if(i.setAttribute("class",n.id+"-legend"),r.length)for(t=0,u=r[0].data.length;t<u;++t)(f=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],o[t]&&f.appendChild(document.createTextNode(o[t]));return i.outerHTML},legend:{labels:{generateLabels:function(n){var t=n.data;return t.labels.length&&t.datasets.length?t.labels.map(function(i,r){var f=n.getDatasetMeta(0),u=f.controller.getStyle(r);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,hidden:isNaN(t.datasets[0].data[r])||f.data[r].hidden,index:r}}):[]}},onClick:function(n,t){for(var f,e=t.index,r=this.chart,i=0,u=(r.data.datasets||[]).length;i<u;++i)(f=r.getDatasetMeta(i)).data[e].hidden=!f.data[e].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(n,t){return t.labels[n.index]+": "+n.yLabel}}}});fo=y.extend({dataElementType:c.Arc,linkScales:t.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(n){var t,r,f,i=this,s=i.getDataset(),e=i.getMeta(),o=i.chart.options.startAngle||0,h=i._starts=[],c=i._angles=[],u=e.data;for(i._updateRadius(),e.count=i.countVisibleElements(),t=0,r=s.data.length;t<r;t++)h[t]=o,f=i._computeAngle(t),c[t]=f,o+=f;for(t=0,r=u.length;t<r;++t)u[t]._options=i._resolveDataElementOptions(u[t],t),i.updateElement(u[t],t,n)},_updateRadius:function(){var t=this,n=t.chart,i=n.chartArea,r=n.options,u=Math.min(i.right-i.left,i.bottom-i.top);n.outerRadius=Math.max(u/2,0);n.innerRadius=Math.max(r.cutoutPercentage?n.outerRadius/100*r.cutoutPercentage:1,0);n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount();t.outerRadius=n.outerRadius-n.radiusLength*t.index;t.innerRadius=t.outerRadius-n.radiusLength},updateElement:function(n,i,r){var u=this,o=u.chart,h=u.getDataset(),c=o.options,s=c.animation,f=o.scale,l=o.data.labels,y=f.xCenter,p=f.yCenter,a=c.startAngle,w=n.hidden?0:f.getDistanceFromCenterForValue(h.data[i]),v=u._starts[i],b=v+(n.hidden?0:u._angles[i]),k=s.animateScale?0:f.getDistanceFromCenterForValue(h.data[i]),e=n._options||{};t.extend(n,{_datasetIndex:u.index,_index:i,_scale:f,_model:{backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,borderAlign:e.borderAlign,x:y,y:p,innerRadius:0,outerRadius:r?k:w,startAngle:r&&s.animateRotate?a:v,endAngle:r&&s.animateRotate?a:b,label:t.valueAtIndexOrDefault(l,i,l[i])}});n.pivot()},countVisibleElements:function(){var i=this.getDataset(),r=this.getMeta(),n=0;return t.each(r.data,function(t,r){isNaN(i.data[r])||t.hidden||n++}),n},setHoverStyle:function(n){var i=n._model,r=n._options,f=t.getHoverColor,u=t.valueOrDefault;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=u(r.hoverBackgroundColor,f(r.backgroundColor));i.borderColor=u(r.hoverBorderColor,f(r.borderColor));i.borderWidth=u(r.hoverBorderWidth,r.borderWidth)},_computeAngle:function(n){var t=this,u=this.getMeta().count,i=t.getDataset(),f=t.getMeta(),r;return isNaN(i.data[n])||f.data[n].hidden?0:(r={chart:t.chart,dataIndex:n,dataset:i,datasetIndex:t.index},uo([t.chart.options.elements.arc.angle,2*Math.PI/u],r,n))}});i._set("pie",t.clone(i.doughnut));i._set("pie",{cutoutPercentage:0});eo=hu;ht=t.valueOrDefault;i._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});oo=y.extend({datasetElementType:c.Line,dataElementType:c.Point,linkScales:t.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(n){var t,f,i=this,o=i.getMeta(),r=o.dataset,u=o.data||[],s=i.chart.scale,e=i._config;for(void 0!==e.tension&&void 0===e.lineTension&&(e.lineTension=e.tension),r._scale=s,r._datasetIndex=i.index,r._children=u,r._loop=!0,r._model=i._resolveDatasetElementOptions(r),r.pivot(),t=0,f=u.length;t<f;++t)i.updateElement(u[t],t,n);for(i.updateBezierControlPoints(),t=0,f=u.length;t<f;++t)u[t].pivot()},updateElement:function(n,t,i){var u=this,e=n.custom||{},l=u.getDataset(),f=u.chart.scale,o=f.getPointPositionForValue(t,l.data[t]),r=u._resolveDataElementOptions(n,t),s=u.getMeta().dataset._model,h=i?f.xCenter:o.x,c=i?f.yCenter:o.y;n._scale=f;n._options=r;n._datasetIndex=u.index;n._index=t;n._model={x:h,y:c,skip:e.skip||isNaN(h)||isNaN(c),radius:r.radius,pointStyle:r.pointStyle,rotation:r.rotation,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,tension:ht(e.tension,s?s.tension:0),hitRadius:r.hitRadius}},_resolveDatasetElementOptions:function(){var n=this,i=n._config,r=n.chart.options,t=y.prototype._resolveDatasetElementOptions.apply(n,arguments);return t.spanGaps=ht(i.spanGaps,r.spanGaps),t.tension=ht(i.lineTension,r.elements.line.tension),t},updateBezierControlPoints:function(){function e(n,t,i){return Math.max(Math.min(n,i),t)}var r,o,i,f,s=this.getMeta(),n=this.chart.chartArea,u=s.data||[];for(s.dataset._model.spanGaps&&(u=u.filter(function(n){return!n._model.skip})),r=0,o=u.length;r<o;++r)i=u[r]._model,f=t.splineCurve(t.previousItem(u,r,!0)._model,i,t.nextItem(u,r,!0)._model,i.tension),i.controlPointPreviousX=e(f.previous.x,n.left,n.right),i.controlPointPreviousY=e(f.previous.y,n.top,n.bottom),i.controlPointNextX=e(f.next.x,n.left,n.right),i.controlPointNextY=e(f.next.y,n.top,n.bottom)},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=ht(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=ht(r.hoverBorderColor,u(r.borderColor));i.borderWidth=ht(r.hoverBorderWidth,r.borderWidth);i.radius=ht(r.hoverRadius,r.radius)}});i._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(n){return"("+n.xLabel+", "+n.yLabel+")"}}}});i._set("global",{datasets:{scatter:{showLine:!1}}});au={bar:io,bubble:sc,doughnut:hu,horizontalBar:hc,line:lu,polarArea:fo,pie:eo,radar:oo,scatter:lu};kt={modes:{single:function(n,t){var r=bt(t,n),i=[];return li(n,function(n){if(n.inRange(r.x,r.y))return i.push(n),i}),i.slice(0,1)},label:wu,index:wu,dataset:function(n,t,i){var u=bt(t,n),f,r;return i.axis=i.axis||"xy",f=pu(i.axis),r=i.intersect?vu(n,u):yu(n,u,!1,f),r.length>0&&(r=n.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(n,t){return wu(n,t,{intersect:!1})},point:function(n,t){return vu(n,bt(t,n))},nearest:function(n,t,i){var u=bt(t,n),r;return i.axis=i.axis||"xy",r=pu(i.axis),yu(n,u,i.intersect,r)},x:function(n,t,i){var r=bt(t,n),u=[],f=!1;return li(n,function(n){n.inXRange(r.x)&&u.push(n);n.inRange(r.x,r.y)&&(f=!0)}),i.intersect&&!f&&(u=[]),u},y:function(n,t,i){var r=bt(t,n),u=[],f=!1;return li(n,function(n){n.inYRange(r.y)&&u.push(n);n.inRange(r.x,r.y)&&(f=!0)}),i.intersect&&!f&&(u=[]),u}}};er=t.extend;i._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var bu,b={defaults:{},addBox:function(n,t){n.boxes||(n.boxes=[]);t.fullWidth=t.fullWidth||!1;t.position=t.position||"top";t.weight=t.weight||0;t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]};n.boxes.push(t)},removeBox:function(n,t){var i=n.boxes?n.boxes.indexOf(t):-1;-1!==i&&n.boxes.splice(i,1)},configure:function(n,t,i){for(var r,f=["fullWidth","position","weight"],e=f.length,u=0;u<e;++u)r=f[u],i.hasOwnProperty(r)&&(t[r]=i[r])},update:function(n,i,r){if(n){var a=n.options.layout||{},f=t.options.toPadding(a.padding),h=i-f.width,c=r-f.height,o=function(n){var t=function(n){for(var i,u=[],t=0,r=(n||[]).length;t<r;++t)i=n[t],u.push({index:t,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return u}(n),i=or(ai(t,"left"),!0),r=or(ai(t,"right")),u=or(ai(t,"top"),!0),f=or(ai(t,"bottom"));return{leftAndTop:i.concat(u),rightAndBottom:r.concat(f),chartArea:ai(t,"chartArea"),vertical:i.concat(r),horizontal:u.concat(f)}}(n.boxes),s=o.vertical,l=o.horizontal,e=Object.freeze({outerWidth:i,outerHeight:r,padding:f,availableWidth:h,vBoxMaxWidth:h/2/s.length,hBoxMaxHeight:c/2}),u=er({maxPadding:er({},f),w:h,h:c,x:f.left,y:f.top},f);!function(n,t){for(var i,r=0,u=n.length;r<u;++r)(i=n[r]).width=i.horizontal?i.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,i.height=i.horizontal&&t.hBoxMaxHeight}(s.concat(l),e);sr(s,u,e);sr(l,u,e)&&sr(s,u,e),function(n){function t(t){var r=Math.max(i[t]-n[t],0);return n[t]+=r,r}var i=n.maxPadding;n.y+=t("top");n.x+=t("left");t("right");t("bottom")}(u);ho(o.leftAndTop,u,e);u.x+=u.w;u.y+=u.h;ho(o.rightAndBottom,u,e);n.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h};t.each(o.chartArea,function(t){var i=t.box;er(i,n.chartArea);i.update(u.w,u.h)})}}},pc=(bu=Object.freeze({__proto__:null,"default":"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&bu.default||bu,o="$chartjs",ku="chartjs-size-monitor",co="chartjs-render-monitor",wc="chartjs-render-animation",lo=["animationstart","webkitAnimationStart"],bc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};du=!!function(){var n=!1,t;try{t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("e",null,t)}catch(n){}return n}()&&{passive:!0};tf={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(n){if(!this.disableCSSInjection){var t=n.getRootNode?n.getRootNode():document;!function(n,t){var r=n[o]||(n[o]={}),i;r.containsStyles||(r.containsStyles=!0,t="/* Chart.js */\n"+t,i=document.createElement("style"),i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),n.appendChild(i))}(t.host?t:document.head,pc)}},acquireContext:function(n,t){"string"==typeof n?n=document.getElementById(n):n.length&&(n=n[0]);n&&n.canvas&&(n=n.canvas);var i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(this._ensureLoaded(n),function(n,t){var i=n.style,u=n.getAttribute("height"),f=n.getAttribute("width"),r,e;(n[o]={initial:{height:u,width:f,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===f||""===f)&&(r=ao(n,"width"),void 0!==r&&(n.width=r));(null===u||""===u)&&(""===n.style.height?n.height=n.width/(t.options.aspectRatio||2):(e=ao(n,"height"),void 0!==r&&(n.height=e)))}(n,t),i):null},releaseContext:function(n){var i=n.canvas,r;i[o]&&(r=i[o].initial,["height","width"].forEach(function(n){var u=r[n];t.isNullOrUndef(u)?i.removeAttribute(n):i.setAttribute(n,u)}),t.each(r.style||{},function(n,t){i.style[t]=n}),i.width=i.width,delete i[o])},addEventListener:function(n,i,r){var f=n.canvas,u;"resize"!==i?(u=r[o]||(r[o]={}),vi(f,i,(u.proxies||(u.proxies={}))[n.id+"_"+i]=function(i){r(function(n,i){var u=bc[n.type]||n.type,r=t.getRelativePosition(n,i);return nf(u,i,r.x,r.y,n)}(i,n))})):kc(f,r,n)},removeEventListener:function(n,t,i){var u=n.canvas,r;"resize"!==t?(r=((i[o]||{}).proxies||{})[n.id+"_"+t],r&&gu(u,t,r)):dc(u)}};t.addEvent=vi;t.removeEvent=gu;vo=tf._enabled?tf:{acquireContext:function(n){return n&&n.canvas&&(n=n.canvas),n&&n.getContext("2d")||null}};dt=t.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},vo);i._set("global",{plugins:{}});var f={_plugins:[],_cacheId:0,register:function(n){var t=this._plugins;[].concat(n).forEach(function(n){-1===t.indexOf(n)&&t.push(n)});this._cacheId++},unregister:function(n){var t=this._plugins;[].concat(n).forEach(function(n){var i=t.indexOf(n);-1!==i&&t.splice(i,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(n,t,i){for(var u,f,e,o,s=this.descriptors(n),h=s.length,r=0;r<h;++r)if("function"==typeof(o=(f=(u=s[r]).plugin)[t])&&((e=[n].concat(i||[])).push(u.options),!1===o.apply(f,e)))return!1;return!0},descriptors:function(n){var r=n.$plugins||(n.$plugins={});if(r.id===this._cacheId)return r.descriptors;var e=[],u=[],f=n&&n.config||{},o=f.options&&f.options.plugins||{};return this._plugins.concat(f.plugins||[]).forEach(function(n){if(-1===e.indexOf(n)){var f=n.id,r=o[f];!1!==r&&(!0===r&&(r=t.clone(i.global.plugins[f])),e.push(n),u.push({plugin:n,options:r||{}}))}}),r.descriptors=u,r.id=this._cacheId,u},_invalidate:function(n){delete n.$plugins}},pi={constructors:{},defaults:{},registerScaleType:function(n,i,r){this.constructors[n]=i;this.defaults[n]=t.clone(r)},getScaleConstructor:function(n){if(this.constructors.hasOwnProperty(n))return this.constructors[n]},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.merge({},[i.scale,this.defaults[n]]):{}},updateScaleDefaults:function(n,i){this.defaults.hasOwnProperty(n)&&(this.defaults[n]=t.extend(this.defaults[n],i))},addScalesToLayout:function(n){t.each(n.scales,function(t){t.fullWidth=t.options.fullWidth;t.position=t.options.position;t.weight=t.options.weight;b.addBox(n,t)})}},ft=t.valueOrDefault,rf=t.rtl.getRtlAdapter;i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:t.noop,title:function(n,t){var r="",u=t.labels,f=u?u.length:0,i;return n.length>0&&(i=n[0],i.label?r=i.label:i.xLabel?r=i.xLabel:f>0&&i.index<f&&(r=u[i.index])),r},afterTitle:t.noop,beforeBody:t.noop,beforeLabel:t.noop,label:function(n,i){var r=i.datasets[n.datasetIndex].label||"";return r&&(r+=": "),r+=t.isNullOrUndef(n.value)?n.yLabel:n.value,r},labelColor:function(n,t){var i=t.getDatasetMeta(n.datasetIndex).data[n.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:t.noop,afterBody:t.noop,beforeFooter:t.noop,footer:t.noop,afterFooter:t.noop}}});uf={average:function(n){var i,u;if(!n.length)return!1;for(var e=0,o=0,r=0,t=0,f=n.length;t<f;++t)i=n[t],i&&i.hasValue()&&(u=i.tooltipPosition(),e+=u.x,o+=u.y,++r);return{x:e/r,y:o/r}},nearest:function(n,i){for(var f,h=i.x,c=i.y,l=Number.POSITIVE_INFINITY,r,a,e,o,u=0,s=n.length;u<s;++u)r=n[u],r&&r.hasValue()&&(a=r.getCenterPoint(),e=t.distanceBetweenPoints(i,a),e<l&&(l=e,f=r));return f&&(o=f.tooltipPosition(),h=o.x,c=o.y),{x:h,y:c}}};var gc=nt.extend({initialize:function(){this._model=yo(this._options);this._lastActive=[]},getTitle:function(){var t=this,r=t._options,i=r.callbacks,u=i.beforeTitle.apply(t,arguments),f=i.title.apply(t,arguments),e=i.afterTitle.apply(t,arguments),n=[];return n=tt(n,et(u)),n=tt(n,et(f)),n=tt(n,et(e))},getBeforeBody:function(){return po(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(n,i){var r=this,u=r._options.callbacks,f=[];return t.each(n,function(n){var t={before:[],lines:[],after:[]};tt(t.before,et(u.beforeLabel.call(r,n,i)));tt(t.lines,u.label.call(r,n,i));tt(t.after,et(u.afterLabel.call(r,n,i)));f.push(t)}),f},getAfterBody:function(){return po(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,i=t._options.callbacks,r=i.beforeFooter.apply(t,arguments),u=i.footer.apply(t,arguments),f=i.afterFooter.apply(t,arguments),n=[];return n=tt(n,et(r)),n=tt(n,et(u)),n=tt(n,et(f))},update:function(n){var v,rt,e,y,p,h,o,w,b,k,r=this,f=r._options,s=r._model,i=r._model=yo(f),d=r._active,c=r._data,g={xAlign:s.xAlign,yAlign:s.yAlign},nt={x:s.x,y:s.y},l={width:s.width,height:s.height},a={x:s.caretX,y:s.caretY},tt,it,u;if(d.length){for(i.opacity=1,tt=[],it=[],a=uf[f.position].call(r,d,r._eventPosition),u=[],v=0,rt=d.length;v<rt;++v)u.push((e=d[v],y=void 0,p=void 0,h=void 0,o=void 0,w=void 0,b=void 0,k=void 0,y=e._xScale,p=e._yScale||e._scale,h=e._index,o=e._datasetIndex,w=e._chart.getDatasetMeta(o).controller,b=w._getIndexScale(),k=w._getValueScale(),{xLabel:y?y.getLabelForIndex(h,o):"",yLabel:p?p.getLabelForIndex(h,o):"",label:b?""+b.getLabelForIndex(h,o):"",value:k?""+k.getLabelForIndex(h,o):"",index:h,datasetIndex:o,x:e._model.x,y:e._model.y}));f.filter&&(u=u.filter(function(n){return f.filter(n,c)}));f.itemSort&&(u=u.sort(function(n,t){return f.itemSort(n,t,c)}));t.each(u,function(n){tt.push(f.callbacks.labelColor.call(r,n,r._chart));it.push(f.callbacks.labelTextColor.call(r,n,r._chart))});i.title=r.getTitle(u,c);i.beforeBody=r.getBeforeBody(u,c);i.body=r.getBody(u,c);i.afterBody=r.getAfterBody(u,c);i.footer=r.getFooter(u,c);i.x=a.x;i.y=a.y;i.caretPadding=f.caretPadding;i.labelColors=tt;i.labelTextColors=it;i.dataPoints=u;l=function(n,i){var f=n._chart.ctx,r=2*i.yPadding,c=0,a=i.body,e=a.reduce(function(n,t){return n+t.before.length+t.lines.length+t.after.length},0),h,u;e+=i.beforeBody.length+i.afterBody.length;var o=i.title.length,s=i.footer.length,v=i.titleFontSize,l=i.bodyFontSize,y=i.footerFontSize;return r+=o*v,r+=o?(o-1)*i.titleSpacing:0,r+=o?i.titleMarginBottom:0,r+=e*l,r+=e?(e-1)*i.bodySpacing:0,r+=s?i.footerMarginTop:0,r+=s*y,r+=s?(s-1)*i.footerSpacing:0,h=0,u=function(n){c=Math.max(c,f.measureText(n).width+h)},f.font=t.fontString(v,i._titleFontStyle,i._titleFontFamily),t.each(i.title,u),f.font=t.fontString(l,i._bodyFontStyle,i._bodyFontFamily),t.each(i.beforeBody.concat(i.afterBody),u),h=i.displayColors?l+2:0,t.each(a,function(n){t.each(n.before,u);t.each(n.lines,u);t.each(n.after,u)}),h=0,f.font=t.fontString(y,i._footerFontStyle,i._footerFontFamily),t.each(i.footer,u),{width:c+=2*i.xPadding,height:r}}(this,i);nt=function(n,t,i,r){var u=n.x,o=n.y,l=n.caretSize,h=n.caretPadding,a=n.cornerRadius,f=i.xAlign,s=i.yAlign,e=l+h,c=a+h;return"right"===f?u-=t.width:"center"===f&&((u-=t.width/2)+t.width>r.width&&(u=r.width-t.width),u<0&&(u=0)),"top"===s?o+=e:o-="bottom"===s?t.height+e:t.height/2,"center"===s?"left"===f?u+=e:"right"===f&&(u-=e):"left"===f?u-=c:"right"===f&&(u+=c),{x:u,y:o}}(i,l,g=function(n,t){var o,s,a,v,h,i=n._model,c=n._chart,e=n._chart.chartArea,u="center",r="center",l,y,f;return i.y<t.height?r="top":i.y>c.height-t.height&&(r="bottom"),l=(e.left+e.right)/2,y=(e.top+e.bottom)/2,"center"===r?(o=function(n){return n<=l},s=function(n){return n>l}):(o=function(n){return n<=t.width/2},s=function(n){return n>=c.width-t.width/2}),a=function(n){return n+t.width+i.caretSize+i.caretPadding>c.width},v=function(n){return n-t.width-i.caretSize-i.caretPadding<0},h=function(n){return n<=y?"top":"bottom"},o(i.x)?(u="left",a(i.x)&&(u="center",r=h(i.y))):s(i.x)&&(u="right",v(i.x)&&(u="center",r=h(i.y))),f=n._options,{xAlign:f.xAlign?f.xAlign:u,yAlign:f.yAlign?f.yAlign:r}}(this,l),r._chart)}else i.opacity=0;return i.xAlign=g.xAlign,i.yAlign=g.yAlign,i.x=nt.x,i.y=nt.y,i.width=l.width,i.height=l.height,i.caretX=a.x,i.caretY=a.y,r._model=i,n&&f.custom&&f.custom.call(r,i),r},drawCaret:function(n,t){var r=this._chart.ctx,u=this._view,i=this.getCaretPosition(n,t,u);r.lineTo(i.x1,i.y1);r.lineTo(i.x2,i.y2);r.lineTo(i.x3,i.y3)},getCaretPosition:function(n,t,i){var u,f,e,s,o,h,r=i.caretSize,v=i.cornerRadius,l=i.xAlign,y=i.yAlign,c=n.x,a=n.y,p=t.width,w=t.height,b;return"center"===y?(o=a+w/2,"left"===l?(f=(u=c)-r,e=u,s=o+r,h=o-r):(f=(u=c+p)+r,e=u,s=o-r,h=o+r)):("left"===l?(u=(f=c+v+r)-r,e=f+r):"right"===l?(u=(f=c+p-v-r)-r,e=f+r):(u=(f=i.caretX)-r,e=f+r),"top"===y)?(o=(s=a)-r,h=s):(o=(s=a+w)+r,h=s,b=e,e=u,u=b),{x1:u,x2:f,x3:e,y1:s,y2:o,y3:h}},drawTitle:function(n,i,r){var f,e,u,h=i.title,o=h.length,s;if(o)for(s=rf(i.rtl,i.x,i.width),n.x=hr(i,i._titleAlign),r.textAlign=s.textAlign(i._titleAlign),r.textBaseline="middle",f=i.titleFontSize,e=i.titleSpacing,r.fillStyle=i.titleFontColor,r.font=t.fontString(f,i._titleFontStyle,i._titleFontFamily),u=0;u<o;++u)r.fillText(h[u],s.x(n.x),n.y+f/2),n.y+=f+e,u+1===o&&(n.y+=i.titleMarginBottom-e)},drawBody:function(n,i,r){var s,l,a,w,e,h,b,k,u=i.bodyFontSize,d=i.bodySpacing,v=i._bodyAlign,g=i.body,y=i.displayColors,p=0,tt=y?hr(i,"left"):0,f=rf(i.rtl,i.x,i.width),o=function(t){r.fillText(t,f.x(n.x+p),n.y+u/2);n.y+=u+d},nt=f.textAlign(v),c;for(r.textAlign=v,r.textBaseline="middle",r.font=t.fontString(u,i._bodyFontStyle,i._bodyFontFamily),n.x=hr(i,nt),r.fillStyle=i.bodyFontColor,t.each(i.beforeBody,o),p=y&&"right"!==nt?"center"===v?u/2+1:u+2:0,e=0,b=g.length;e<b;++e){for(s=g[e],l=i.labelTextColors[e],a=i.labelColors[e],r.fillStyle=l,t.each(s.before,o),h=0,k=(w=s.lines).length;h<k;++h)y&&(c=f.x(tt),r.fillStyle=i.legendColorBackground,r.fillRect(f.leftForLtr(c,u),n.y,u,u),r.lineWidth=1,r.strokeStyle=a.borderColor,r.strokeRect(f.leftForLtr(c,u),n.y,u,u),r.fillStyle=a.backgroundColor,r.fillRect(f.leftForLtr(f.xPlus(c,1),u-2),n.y+1,u-2,u-2),r.fillStyle=l),o(w[h]);t.each(s.after,o)}p=0;t.each(i.afterBody,o);n.y-=d},drawFooter:function(n,i,r){var u,f,o=i.footer,s=o.length,e;if(s)for(e=rf(i.rtl,i.x,i.width),n.x=hr(i,i._footerAlign),n.y+=i.footerMarginTop,r.textAlign=e.textAlign(i._footerAlign),r.textBaseline="middle",u=i.footerFontSize,r.fillStyle=i.footerFontColor,r.font=t.fontString(u,i._footerFontStyle,i._footerFontFamily),f=0;f<s;++f)r.fillText(o[f],e.x(n.x),n.y+u/2),n.y+=u+i.footerSpacing},drawBackground:function(n,t,i,r){i.fillStyle=t.backgroundColor;i.strokeStyle=t.borderColor;i.lineWidth=t.borderWidth;var c=t.xAlign,h=t.yAlign,u=n.x,f=n.y,o=r.width,s=r.height,e=t.cornerRadius;i.beginPath();i.moveTo(u+e,f);"top"===h&&this.drawCaret(n,r);i.lineTo(u+o-e,f);i.quadraticCurveTo(u+o,f,u+o,f+e);"center"===h&&"right"===c&&this.drawCaret(n,r);i.lineTo(u+o,f+s-e);i.quadraticCurveTo(u+o,f+s,u+o-e,f+s);"bottom"===h&&this.drawCaret(n,r);i.lineTo(u+e,f+s);i.quadraticCurveTo(u,f+s,u,f+s-e);"center"===h&&"left"===c&&this.drawCaret(n,r);i.lineTo(u,f+e);i.quadraticCurveTo(u,f,u+e,f);i.closePath();i.fill();t.borderWidth>0&&i.stroke()},draw:function(){var i=this._chart.ctx,n=this._view;if(0!==n.opacity){var u={width:n.width,height:n.height},r={x:n.x,y:n.y},f=Math.abs(n.opacity<.001)?0:n.opacity,e=n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length;this._options.enabled&&e&&(i.save(),i.globalAlpha=f,this.drawBackground(r,n,i,u),r.y+=n.yPadding,t.rtl.overrideTextDirection(i,n.textDirection),this.drawTitle(r,n,i),this.drawBody(r,n,i),this.drawFooter(r,n,i),t.rtl.restoreTextDirection(i,n.textDirection),i.restore())}},handleEvent:function(n){var u,i=this,r=i._options;return i._lastActive=i._lastActive||[],"mouseout"===n.type?i._active=[]:(i._active=i._chart.getElementsAtEventForMode(n,r.mode,r),r.reverse&&i._active.reverse()),(u=!t.arrayEquals(i._active,i._lastActive))&&(i._lastActive=i._active,(r.enabled||r.custom)&&(i._eventPosition={x:n.x,y:n.y},i.update(!0),i.pivot())),u}}),nl=uf,ff=gc;ff.positioners=nl;cr=t.valueOrDefault;i._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});ot=function(n,t){return this.construct(n,t),this};t.extend(ot.prototype,{construct:function(n,r){var u=this;r=function(n){var t=(n=n||{}).data=n.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],n.options=ef(i.global,i[n.type],n.options||{}),n}(r);var e=dt.acquireContext(n,r),f=e&&e.canvas,o=f&&f.height,s=f&&f.width;u.id=t.uid();u.ctx=e;u.canvas=f;u.config=r;u.width=s;u.height=o;u.aspectRatio=o?s/o:null;u.options=r.options;u._bufferedRender=!1;u._layers=[];u.chart=u;u.controller=u;ot.instances[u.id]=u;Object.defineProperty(u,"data",{get:function(){return u.config.data},set:function(n){u.config.data=n}});e&&f?(u.initialize(),u.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var n=this;return f.notify(n,"beforeInit"),t.retinaScale(n,n.options.devicePixelRatio),n.bindEvents(),n.options.responsive&&n.resize(!0),n.initToolTip(),f.notify(n,"afterInit"),n},clear:function(){return t.canvas.clear(this),this},stop:function(){return eu.cancelAnimation(this),this},resize:function(n){var i=this,u=i.options,r=i.canvas,h=u.maintainAspectRatio&&i.aspectRatio||null,e=Math.max(0,Math.floor(t.getMaximumWidth(r))),o=Math.max(0,Math.floor(h?e/h:t.getMaximumHeight(r))),s;i.width===e&&i.height===o||(r.width=i.width=e,r.height=i.height=o,r.style.width=e+"px",r.style.height=o+"px",t.retinaScale(i,u.devicePixelRatio),n)||(s={width:e,height:o},f.notify(i,"resize",[s]),u.onResize&&u.onResize(i,s),i.stop(),i.update({duration:u.responsiveAnimationDuration}))},ensureScalesHaveIDs:function(){var r=this.options,n=r.scales||{},i=r.scale;t.each(n.xAxes,function(t,i){t.id||(t.id=bo(n.xAxes,"x-axis-",i))});t.each(n.yAxes,function(t,i){t.id||(t.id=bo(n.yAxes,"y-axis-",i))});i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var n=this,r=n.options,i=n.scales||{},u=[],f=Object.keys(i).reduce(function(n,t){return n[t]=!1,n},{});r.scales&&(u=u.concat((r.scales.xAxes||[]).map(function(n){return{options:n,dtype:"category",dposition:"bottom"}}),(r.scales.yAxes||[]).map(function(n){return{options:n,dtype:"linear",dposition:"left"}})));r.scale&&u.push({options:r.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"});t.each(u,function(t){var u=t.options,e=u.id,o=cr(u.type,t.dtype),r,s;if(ko(u.position)!==ko(t.dposition)&&(u.position=t.dposition),f[e]=!0,r=null,e in i&&i[e].type===o)(r=i[e]).options=u,r.ctx=n.ctx,r.chart=n;else{if(s=pi.getScaleConstructor(o),!s)return;r=new s({id:e,type:o,options:u,ctx:n.ctx,chart:n});i[r.id]=r}r.mergeTicksOptions();t.isDefault&&(n.scale=r)});t.each(f,function(n,t){n||delete i[t]});n.scales=i;pi.addScalesToLayout(this)},buildOrUpdateControllers:function(){for(var i=this,f=[],e=i.data.datasets,r,t=0,u=e.length;t<u;t++){var o=e[t],n=i.getDatasetMeta(t),s=o.type||i.config.type;if(n.type&&n.type!==s&&(i.destroyDatasetMeta(t),n=i.getDatasetMeta(t)),n.type=s,n.order=o.order||0,n.index=t,n.controller)n.controller.updateIndex(t),n.controller.linkScales();else{if(r=au[n.type],void 0===r)throw new Error('"'+n.type+'" is not a chart type.');n.controller=new r(i,t);f.push(n.controller)}}return f},resetElements:function(){var n=this;t.each(n.data.datasets,function(t,i){n.getDatasetMeta(i).controller.reset()},n)},reset:function(){this.resetElements();this.tooltip.initialize()},update:function(n){var r,u,i=this,e;if(n&&"object"==typeof n||(n={duration:n,lazy:arguments[1]}),tl(i),f._invalidate(i),!1!==f.notify(i,"beforeUpdate")){for(i.tooltip._data=i.data,e=i.buildOrUpdateControllers(),r=0,u=i.data.datasets.length;r<u;r++)i.getDatasetMeta(r).controller.buildOrUpdateElements();i.updateLayout();i.options.animation&&i.options.animation.duration&&t.each(e,function(n){n.reset()});i.updateDatasets();i.tooltip.initialize();i.lastActive=[];f.notify(i,"afterUpdate");i._layers.sort(go("z","_idx"));i._bufferedRender?i._bufferedRequest={duration:n.duration,easing:n.easing,lazy:n.lazy}:i.render(n)}},updateLayout:function(){var n=this;!1!==f.notify(n,"beforeLayout")&&(b.update(this,this.width,this.height),n._layers=[],t.each(n.boxes,function(t){t._configure&&t._configure();n._layers.push.apply(n._layers,t._layers())},n),n._layers.forEach(function(n,t){n._idx=t}),f.notify(n,"afterScaleUpdate"),f.notify(n,"afterLayout"))},updateDatasets:function(){if(!1!==f.notify(this,"beforeDatasetsUpdate")){for(var n=0,t=this.data.datasets.length;n<t;++n)this.updateDataset(n);f.notify(this,"afterDatasetsUpdate")}},updateDataset:function(n){var t=this.getDatasetMeta(n),i={meta:t,index:n};!1!==f.notify(this,"beforeDatasetUpdate",[i])&&(t.controller._update(),f.notify(this,"afterDatasetUpdate",[i]))},render:function(n){var i=this,e,o;n&&"object"==typeof n||(n={duration:n,lazy:arguments[1]});var r=i.options.animation,u=cr(n.duration,r&&r.duration),s=n.lazy;if(!1!==f.notify(i,"beforeRender"))return e=function(n){f.notify(i,"afterRender");t.callback(r&&r.onComplete,[n],i)},r&&u?(o=new fu({numSteps:u/16.66,easing:n.easing||r.easing,render:function(n,i){var f=t.easing.effects[i.easing],r=i.currentStep,u=r/i.numSteps;n.draw(f(u),u,r)},onAnimationProgress:r.onProgress,onAnimationComplete:e}),eu.addAnimation(i,o,u,s)):(i.draw(),e(new fu({numSteps:0,chart:i}))),i},draw:function(n){var r,u,i=this;if(i.clear(),t.isNullOrUndef(n)&&(n=1),i.transition(n),!(i.width<=0||i.height<=0)&&!1!==f.notify(i,"beforeDraw",[n])){for(u=i._layers,r=0;r<u.length&&u[r].z<=0;++r)u[r].draw(i.chartArea);for(i.drawDatasets(n);r<u.length;++r)u[r].draw(i.chartArea);i._drawTooltip(n);f.notify(i,"afterDraw",[n])}},transition:function(n){for(var t=0,i=(this.data.datasets||[]).length;t<i;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(n);this.tooltip.transition(n)},_getSortedDatasetMetas:function(n){for(var i=[],t=0,r=(this.data.datasets||[]).length;t<r;++t)n&&!this.isDatasetVisible(t)||i.push(this.getDatasetMeta(t));return i.sort(go("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(n){var i,t;if(!1!==f.notify(this,"beforeDatasetsDraw",[n])){for(t=(i=this._getSortedVisibleDatasetMetas()).length-1;t>=0;--t)this.drawDataset(i[t],n);f.notify(this,"afterDatasetsDraw",[n])}},drawDataset:function(n,t){var i={meta:n,index:n.index,easingValue:t};!1!==f.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(t),f.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(n){var t=this.tooltip,i={tooltip:t,easingValue:n};!1!==f.notify(this,"beforeTooltipDraw",[i])&&(t.draw(),f.notify(this,"afterTooltipDraw",[i]))},getElementAtEvent:function(n){return kt.modes.single(this,n)},getElementsAtEvent:function(n){return kt.modes.label(this,n,{intersect:!0})},getElementsAtXAxis:function(n){return kt.modes["x-axis"](this,n,{intersect:!0})},getElementsAtEventForMode:function(n,t,i){var r=kt.modes[t];return"function"==typeof r?r(this,n,i):[]},getDatasetAtEvent:function(n){return kt.modes.dataset(this,n,{intersect:!0})},getDatasetMeta:function(n){var t=this.data.datasets[n],i;return t._meta||(t._meta={}),i=t._meta[this.id],i||(i=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:n}),i},getVisibleDatasetCount:function(){for(var t=0,n=0,i=this.data.datasets.length;n<i;++n)this.isDatasetVisible(n)&&t++;return t},isDatasetVisible:function(n){var t=this.getDatasetMeta(n);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[n].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(n){var i=this.id,t=this.data.datasets[n],r=t._meta&&t._meta[i];r&&(r.controller.destroy(),delete t._meta[i])},destroy:function(){var i,r,n=this,u=n.canvas;for(n.stop(),i=0,r=n.data.datasets.length;i<r;++i)n.destroyDatasetMeta(i);u&&(n.unbindEvents(),t.canvas.clear(n),dt.releaseContext(n.ctx),n.canvas=null,n.ctx=null);f.notify(n,"destroy");delete ot.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var n=this;n.tooltip=new ff({_chart:n,_chartInstance:n,_data:n.data,_options:n.options.tooltips},n)},bindEvents:function(){var n=this,r=n._listeners={},i=function(){n.eventHandler.apply(n,arguments)};t.each(n.options.events,function(t){dt.addEventListener(n,t,i);r[t]=i});n.options.responsive&&(i=function(){n.resize()},dt.addEventListener(n,"resize",i),r.resize=i)},unbindEvents:function(){var n=this,i=n._listeners;i&&(delete n._listeners,t.each(i,function(t,i){dt.removeEventListener(n,i,t)}))},updateHoverStyle:function(n,t,i){for(var u,e=i?"set":"remove",r=0,f=n.length;r<f;++r)(u=n[r])&&this.getDatasetMeta(u._datasetIndex).controller[e+"HoverStyle"](u);"dataset"===t&&this.getDatasetMeta(n[0]._datasetIndex).controller["_"+e+"DatasetHoverStyle"]()},eventHandler:function(n){var t=this,i=t.tooltip,r,u;if(!1!==f.notify(t,"beforeEvent",[n]))return t._bufferedRender=!0,t._bufferedRequest=null,r=t.handleEvent(n),i&&(r=i._start?i.handleEvent(n):r|i.handleEvent(n)),f.notify(t,"afterEvent",[n]),u=t._bufferedRequest,u?t.render(u):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t},handleEvent:function(n){var f,i=this,r=i.options||{},u=r.hover;return i.lastActive=i.lastActive||[],i.active="mouseout"===n.type?[]:i.getElementsAtEventForMode(n,u.mode,u),t.callback(r.onHover||r.hover.onHover,[n.native,i.active],i),"mouseup"!==n.type&&"click"!==n.type||r.onClick&&r.onClick.call(i,n.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,u.mode,!1),i.active.length&&u.mode&&i.updateHoverStyle(i.active,u.mode,!0),f=!t.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,f}});ot.instances={};r=ot;ot.Controller=ot;ot.types={};t.configMerge=ef;t.scaleMerge=wo;t.extend(lr.prototype,{formats:gt,parse:gt,format:gt,add:gt,diff:gt,startOf:gt,endOf:gt,_create:function(n){return n}});lr.override=function(n){t.extend(lr.prototype,n)};var of={_date:lr},wi={formatters:{values:function(n){return t.isArray(n)?n:""+n},linear:function(n,i,r){var o=r.length>3?r[2]-r[1]:r[1]-r[0],s,u,h,f,e;return Math.abs(o)>1&&n!==Math.floor(n)&&(o=n-Math.floor(n)),s=t.log10(Math.abs(o)),u="",0!==n?Math.max(Math.abs(r[0]),Math.abs(r[r.length-1]))<.0001?(h=t.log10(Math.abs(n)),f=Math.floor(h)-Math.floor(s),f=Math.max(Math.min(f,20),0),u=n.toExponential(f)):(e=-1*Math.floor(s),e=Math.max(Math.min(e,20),0),u=n.toFixed(e)):u="0",u},logarithmic:function(n,i,r){var u=n/Math.pow(10,Math.floor(t.log10(n)));return 0===n?"0":1===u||2===u||5===u||0===i||i===r.length-1?n.toExponential():""}}},ni=t.isArray,bi=t.isNullOrUndef,ti=t.valueOrDefault,oi=t.valueAtIndexOrDefault;i._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:wi.formatters.values,minor:{},major:{}}});vr=nt.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){t.callback(this.options.beforeUpdate,[this])},update:function(n,i,r){var e,c,s,f,h,u=this,o=u.options.ticks,l=o.sampleSize;if(u.beforeUpdate(),u.maxWidth=n,u.maxHeight=i,u.margins=t.extend({left:0,right:0,top:0,bottom:0},r),u._ticks=null,u.ticks=null,u._labelSizes=null,u._maxLabelLines=0,u.longestLabelWidth=0,u.longestTextCache=u.longestTextCache||{},u._gridLineItems=null,u._labelItems=null,u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),f=u.buildTicks()||[],(!(f=u.afterBuildTicks(f)||f)||!f.length)&&u.ticks)for(f=[],e=0,c=u.ticks.length;e<c;++e)f.push({value:u.ticks[e],major:!1});return u._ticks=f,h=l<f.length,s=u._convertTicksToLabels(h?function(n,t){for(var r=[],u=n.length/t,i=0,f=n.length;i<f;i+=u)r.push(n[Math.floor(i)]);return r}(f,l):f),u._configure(),u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u._ticksToDraw=o.display&&(o.autoSkip||"auto"===o.source)?u._autoSkip(f):f,h&&(s=u._convertTicksToLabels(u._ticksToDraw)),u.ticks=s,u.afterUpdate(),u.minSize},_configure:function(){var t,i,n=this,r=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,i=n.right):(t=n.top,i=n.bottom,r=!r);n._startPixel=t;n._endPixel=i;n._reversePixels=r;n._length=i-t},afterUpdate:function(){t.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0},afterSetDimensions:function(){t.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(n){var i=this;return ni(n)&&n.length?t.callback(i.options.afterBuildTicks,[i,n]):(i.ticks=t.callback(i.options.afterBuildTicks,[i,i.ticks])||i.ticks,n)},beforeTickToLabelConversion:function(){t.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var n=this.options.ticks;this.ticks=this.ticks.map(n.userCallback||n.callback,this)},afterTickToLabelConversion:function(){t.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var u,i,f,c,l,v,a,n=this,r=n.options,e=r.ticks,o=n.getTicks().length,s=e.minRotation||0,y=e.maxRotation,h=s;!n._isVisible()||!e.display||s>=y||o<=1||!n.isHorizontal()?n.labelRotation=s:(i=(u=n._getLabelSizes()).widest.width,f=u.highest.height-u.highest.offset,c=Math.min(n.maxWidth,n.chart.width-i),i+6>(l=r.offset?n.maxWidth/o:c/(o-1))&&(l=c/(o-(r.offset?.5:1)),v=n.maxHeight-ki(r.gridLines)-e.padding-sf(r.scaleLabel),a=Math.sqrt(i*i+f*f),h=t.toDegrees(Math.min(Math.asin(Math.min((u.highest.height+6)/l,1)),Math.asin(Math.min(v/a,1))-Math.asin(f/a))),h=Math.max(s,Math.min(y,h))),n.labelRotation=h)},afterCalculateTickRotation:function(){t.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callback(this.options.beforeFit,[this])},fit:function(){var n=this,i=n.minSize={width:0,height:0},b=n.chart,e=n.options,o=e.ticks,k=e.scaleLabel,d=e.gridLines,c=n._isVisible(),g="bottom"===e.position,s=n.isHorizontal(),v,y,p,w,ft;if(s?i.width=n.maxWidth:c&&(i.width=ki(d)+sf(k)),s?c&&(i.height=ki(d)+sf(k)):i.height=n.maxHeight,o.display&&c){var et=hf(o),h=n._getLabelSizes(),r=h.first,u=h.last,nt=h.widest,tt=h.highest,it=.4*et.minor.lineHeight,rt=o.padding;if(s){var l=0!==n.labelRotation,ut=t.toRadians(n.labelRotation),a=Math.cos(ut),f=Math.sin(ut),ot=f*nt.width+a*(tt.height-(l?tt.offset:0))+(l?0:it);i.height=Math.min(n.maxHeight,i.height+ot+rt);p=n.getPixelForTick(0)-n.left;w=n.right-n.getPixelForTick(n.getTicks().length-1);l?(v=g?a*r.width+f*r.offset:f*(r.height-r.offset),y=g?f*(u.height-u.offset):a*u.width+f*u.offset):(v=r.width/2,y=u.width/2);n.paddingLeft=Math.max((v-p)*n.width/(n.width-p),0)+3;n.paddingRight=Math.max((y-w)*n.width/(n.width-w),0)+3}else ft=o.mirror?0:nt.width+rt+it,i.width=Math.min(n.maxWidth,i.width+ft),n.paddingTop=r.height/2,n.paddingBottom=u.height/2}n.handleMargins();s?(n.width=n._length=b.width-n.margins.left-n.margins.right,n.height=i.height):(n.width=i.width,n.height=n._length=b.height-n.margins.top-n.margins.bottom)},handleMargins:function(){var n=this;n.margins&&(n.margins.left=Math.max(n.paddingLeft,n.margins.left),n.margins.top=Math.max(n.paddingTop,n.margins.top),n.margins.right=Math.max(n.paddingRight,n.margins.right),n.margins.bottom=Math.max(n.paddingBottom,n.margins.bottom))},afterFit:function(){t.callback(this.options.afterFit,[this])},isHorizontal:function(){var n=this.options.position;return"top"===n||"bottom"===n},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(n){if(bi(n))return NaN;if(("number"==typeof n||n instanceof Number)&&!isFinite(n))return NaN;if(n)if(this.isHorizontal()){if(void 0!==n.x)return this.getRightValue(n.x)}else if(void 0!==n.y)return this.getRightValue(n.y);return n},_convertTicksToLabels:function(n){var r,t,u,i=this;for(i.ticks=n.map(function(n){return n.value}),i.beforeTickToLabelConversion(),r=i.convertTicksToLabels(n)||i.ticks,i.afterTickToLabelConversion(),t=0,u=n.length;t<u;++t)n[t].label=r[t];return r},_getLabelSizes:function(){var n=this,t=n._labelSizes;return t||(n._labelSizes=t=rl(n.ctx,hf(n.options.ticks),n.getTicks(),n.longestTextCache),n.longestLabelWidth=t.widest.width),t},_parseValue:function(n){var t,i,r,u;return ni(n)?(t=+this.getRightValue(n[0]),i=+this.getRightValue(n[1]),r=Math.min(t,i),u=Math.max(t,i)):(t=void 0,i=n=+this.getRightValue(n),r=n,u=n),{min:r,max:u,start:t,end:i}},_getScaleLabel:function(n){var t=this._parseValue(n);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(n)},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(n){var t=this.options.offset,i=this._ticks.length,r=1/Math.max(i-(t?0:1),1);return n<0||n>i-1?null:this.getPixelForDecimal(n*r+(t?r/2:0))},getPixelForDecimal:function(n){return this._reversePixels&&(n=1-n),this._startPixel+n*this._length},getDecimalForPixel:function(n){var t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var n=this.min,t=this.max;return this.beginAtZero?0:n<0&&t<0?t:n>0&&t>0?n:0},_autoSkip:function(n){var u,c,f,e,l=this.options.ticks,a=this._length,o=l.maxTicksLimit||a/this._tickSize()+1,i=l.major.enabled?function(n){for(var r=[],t=0,i=n.length;t<i;t++)n[t].major&&r.push(t);return r}(n):[],r=i.length,s=i[0],h=i[r-1];if(r>o)return function(n,t,i){var r,u,e=0,f=t[0];for(i=Math.ceil(i),r=0;r<n.length;r++)u=n[r],r===f?(u._index=r,f=t[++e*i]):delete u.label}(n,i,r/o),cf(n);if(f=function(n,i,r,u){var o,s,f,h,c=function(n){var t,i,r=n.length;if(r<2)return!1;for(i=n[0],t=1;t<r;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),e=(i.length-1)/u;if(!c)return Math.max(e,1);for(f=0,h=(o=t.math._factorize(c)).length-1;f<h;f++)if((s=o[f])>e)return s;return Math.max(e,1)}(i,n,0,o),r>0){for(u=0,c=r-1;u<c;u++)ar(n,f,i[u],i[u+1]);return e=r>1?(h-s)/(r-1):null,ar(n,f,t.isNullOrUndef(e)?0:s-e,s),ar(n,f,h,t.isNullOrUndef(e)?n.length:h+e),cf(n)}return ar(n,f),cf(n)},_tickSize:function(){var s=this.options.ticks,e=t.toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=s.autoSkipPadding||0,u=r?r.widest.width+o:0,f=r?r.highest.height+o:0;return this.isHorizontal()?f*n>u*i?u/n:f/i:f*i<u*n?f/n:u/i},_isVisible:function(){var n,i,r,t=this.chart,u=this.options.display;if("auto"!==u)return!!u;for(n=0,i=t.data.datasets.length;n<i;++n)if(t.isDatasetVisible(n)&&((r=t.getDatasetMeta(n)).xAxisID===this.id||r.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(n){var u,f,d,ot,g,s,h,c,l,a,v,y,p,w,nt,tt,it,i=this,st=i.chart,rt=i.options,r=rt.gridLines,ut=rt.position,ft=r.offsetGridLines,at=i.isHorizontal(),et=i._ticksToDraw,ht=et.length+(ft?1:0),b=ki(r),k=[],ct=r.drawBorder?oi(r.lineWidth,0,0):0,e=ct/2,lt=t._alignPixel,o=function(n){return lt(st,n,ct)};for("top"===ut?(u=o(i.bottom),h=i.bottom-b,l=u-e,v=o(n.top)+e,p=n.bottom):"bottom"===ut?(u=o(i.top),v=n.top,p=o(n.bottom)-e,h=u+e,l=i.top+b):"left"===ut?(u=o(i.right),s=i.right-b,c=u-e,a=o(n.left)+e,y=n.right):(u=o(i.left),a=n.left,y=o(n.right)-e,s=u+e,c=i.left+b),f=0;f<ht;++f)d=et[f]||{},bi(d.label)&&f<et.length||(f===i.zeroLineIndex&&rt.offset===ft?(w=r.zeroLineWidth,nt=r.zeroLineColor,tt=r.zeroLineBorderDash||[],it=r.zeroLineBorderDashOffset||0):(w=oi(r.lineWidth,f,1),nt=oi(r.color,f,"rgba(0,0,0,0.1)"),tt=r.borderDash||[],it=r.borderDashOffset||0),void 0!==(ot=il(i,d._index||f,ft))&&(g=lt(st,ot,w),at?s=c=a=y=g:h=l=v=p=g,k.push({tx1:s,ty1:h,tx2:c,ty2:l,x1:a,y1:v,x2:y,y2:p,width:w,color:nt,borderDash:tt,borderDashOffset:it})));return k.ticksLength=ht,k.borderValue=u,k},_computeLabelItems:function(){var i,d,y,r,e,o,u,p,g,s,w,b,n=this,k=n.options,h=k.ticks,c=k.position,l=h.mirror,rt=n.isHorizontal(),nt=n._ticksToDraw,tt=hf(h),a=h.padding,v=ki(k.gridLines),f=-t.toRadians(n.labelRotation),it=[];for("top"===c?(o=n.bottom-v-a,u=f?"left":"center"):"bottom"===c?(o=n.top+v+a,u=f?"right":"center"):"left"===c?(e=n.right-(l?0:v)-a,u=l?"left":"right"):(e=n.left+(l?0:v)+a,u=l?"right":"left"),i=0,d=nt.length;i<d;++i)r=(y=nt[i]).label,bi(r)||(p=n.getPixelForTick(y._index||i)+h.labelOffset,s=(g=y.major?tt.major:tt.minor).lineHeight,w=ni(r)?r.length:1,rt?(e=p,b="top"===c?((f?1:.5)-w)*s:(f?0:.5)*s):(o=p,b=(1-w)*s/2),it.push({x:e,y:o,rotation:f,label:r,font:g,textOffset:b,textAlign:u}));return it},_drawGrid:function(n){var u=this,f=u.options.gridLines;if(f.display){for(var a,v,r,i=u.ctx,o=u.chart,s=t._alignPixel,y=f.drawBorder?oi(f.lineWidth,0,0):0,h=u._gridLineItems||(u._gridLineItems=u._computeGridLineItems(n)),e=0,d=h.length;e<d;++e)a=(r=h[e]).width,v=r.color,a&&v&&(i.save(),i.lineWidth=a,i.strokeStyle=v,i.setLineDash&&(i.setLineDash(r.borderDash),i.lineDashOffset=r.borderDashOffset),i.beginPath(),f.drawTicks&&(i.moveTo(r.tx1,r.ty1),i.lineTo(r.tx2,r.ty2)),f.drawOnChartArea&&(i.moveTo(r.x1,r.y1),i.lineTo(r.x2,r.y2)),i.stroke(),i.restore());if(y){var p,w,b,k,c=y,l=oi(f.lineWidth,h.ticksLength-1,1),g=h.borderValue;u.isHorizontal()?(p=s(o,u.left,c)-c/2,w=s(o,u.right,l)+l/2,b=k=g):(b=s(o,u.top,c)-c/2,k=s(o,u.bottom,l)+l/2,p=w=g);i.lineWidth=y;i.strokeStyle=oi(f.color,0);i.beginPath();i.moveTo(p,b);i.lineTo(w,k);i.stroke()}}},_drawLabels:function(){var i=this,u,f,h,c,t,e,r,o,n,s;if(i.options.ticks.display)for(n=i.ctx,s=i._labelItems||(i._labelItems=i._computeLabelItems()),u=0,h=s.length;u<h;++u){if(e=(t=s[u]).font,n.save(),n.translate(t.x,t.y),n.rotate(t.rotation),n.font=e.string,n.fillStyle=e.color,n.textBaseline="middle",n.textAlign=t.textAlign,r=t.label,o=t.textOffset,ni(r))for(f=0,c=r.length;f<c;++f)n.fillText(""+r[f],0,o),o+=e.lineHeight;else n.fillText(r,0,o);n.restore()}},_drawTitle:function(){var n=this,r=n.ctx,c=n.options,u=c.scaleLabel,h;if(u.display){var o,s,y=ti(u.fontColor,i.global.defaultFontColor),l=t.options._parseFont(u),f=t.options.toPadding(u.padding),e=l.lineHeight/2,a=c.position,v=0;n.isHorizontal()?(o=n.left+n.width/2,s="bottom"===a?n.bottom-e-f.bottom:n.top+e+f.top):(h="left"===a,o=h?n.left+e+f.top:n.right-e-f.top,s=n.top+n.height/2,v=h?-.5*Math.PI:.5*Math.PI);r.save();r.translate(o,s);r.rotate(v);r.textAlign="center";r.textBaseline="middle";r.fillStyle=y;r.font=l.string;r.fillText(u.labelString,0,0);r.restore()}},draw:function(n){this._isVisible()&&(this._drawGrid(n),this._drawTitle(),this._drawLabels())},_layers:function(){var n=this,t=n.options,i=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return n._isVisible()&&i!==r&&n.draw===n._draw?[{z:r,draw:function(){n._drawGrid.apply(n,arguments);n._drawTitle.apply(n,arguments)}},{z:i,draw:function(){n._drawLabels.apply(n,arguments)}}]:[{z:i,draw:function(){n.draw.apply(n,arguments)}}]},_getMatchingVisibleMetas:function(n){var t=this,i=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(r){return(!n||r.type===n)&&(i?r.xAxisID===t.id:r.yAxisID===t.id)})}});vr.prototype._draw=vr.prototype.draw;var l=vr,lf=t.isNullOrUndef,ts=l.extend({determineDataLimits:function(){var i,n=this,t=n._getLabels(),f=n.options.ticks,e=f.min,o=f.max,r=0,u=t.length-1;void 0!==e&&(i=t.indexOf(e))>=0&&(r=i);void 0!==o&&(i=t.indexOf(o))>=0&&(u=i);n.minIndex=r;n.maxIndex=u;n.min=t[r];n.max=t[u]},buildTicks:function(){var n=this._getLabels(),t=this.minIndex,i=this.maxIndex;this.ticks=0===t&&i===n.length-1?n:n.slice(t,i+1)},getLabelForIndex:function(n,t){var i=this.chart;return i.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(i.data.datasets[t].data[n]):this._getLabels()[n]},_configure:function(){var n=this,t=n.options.offset,i=n.ticks;l.prototype._configure.call(n);n.isHorizontal()||(n._reversePixels=!n._reversePixels);i&&(n._startValue=n.minIndex-(t?.5:0),n._valueRange=Math.max(i.length-(t?0:1),1))},getPixelForValue:function(n,i,r){var f,e,o,u=this;return lf(i)||lf(r)||(n=u.chart.data.datasets[r].data[i]),lf(n)||(f=u.isHorizontal()?n.x:n.y),(void 0!==f||void 0!==n&&isNaN(i))&&(e=u._getLabels(),n=t.valueOrDefault(f,n),i=-1!==(o=e.indexOf(n))?o:i,isNaN(i)&&(i=n)),u.getPixelForDecimal((i-u._startValue)/u._valueRange)},getPixelForTick:function(n){var t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n],n+this.minIndex)},getValueForPixel:function(n){var t=Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});ts._defaults={position:"bottom"};var ul=t.noop,ii=t.isNullOrUndef,yr=l.extend({getRightValue:function(n){return"string"==typeof n?+n:l.prototype.getRightValue.call(this,n)},handleTickRangeOptions:function(){var n=this,i=n.options.ticks,r,u,f,e;i.beginAtZero&&(r=t.sign(n.min),u=t.sign(n.max),r<0&&u<0?n.max=0:r>0&&u>0&&(n.min=0));f=void 0!==i.min||void 0!==i.suggestedMin;e=void 0!==i.max||void 0!==i.suggestedMax;void 0!==i.min?n.min=i.min:void 0!==i.suggestedMin&&(n.min=null===n.min?i.suggestedMin:Math.min(n.min,i.suggestedMin));void 0!==i.max?n.max=i.max:void 0!==i.suggestedMax&&(n.max=null===n.max?i.suggestedMax:Math.max(n.max,i.suggestedMax));f!==e&&n.min>=n.max&&(f?n.max=n.min+1:n.min=n.max-1);n.min===n.max&&(n.max++,i.beginAtZero||n.min--)},getTickLimit:function(){var n,r=this.options.ticks,i=r.stepSize,t=r.maxTicksLimit;return i?n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1:(n=this._computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:ul,buildTicks:function(){var n=this,i=n.options.ticks,u=n.getTickLimit(),f={maxTicks:u=Math.max(2,u),min:i.min,max:i.max,precision:i.precision,stepSize:t.valueOrDefault(i.fixedStepSize,i.stepSize)},r=n.ticks=function(n,i){var u,e,o,f,c=[],p=n.stepSize,l=p||1,w=n.maxTicks-1,s=n.min,h=n.max,b=n.precision,a=i.min,v=i.max,r=t.niceNum((v-a)/w/l)*l,y;if(r<1e-14&&ii(s)&&ii(h))return[a,v];for((f=Math.ceil(v/r)-Math.floor(a/r))>w&&(r=t.niceNum(f*r/w/l)*l),p||ii(b)?u=Math.pow(10,t._decimalPlaces(r)):(u=Math.pow(10,b),r=Math.ceil(r*u)/u),e=Math.floor(a/r)*r,o=Math.ceil(v/r)*r,p&&(!ii(s)&&t.almostWhole(s/r,r/1e3)&&(e=s),!ii(h)&&t.almostWhole(h/r,r/1e3)&&(o=h)),f=(o-e)/r,f=t.almostEquals(f,Math.round(f),r/1e3)?Math.round(f):Math.ceil(f),e=Math.round(e*u)/u,o=Math.round(o*u)/u,c.push(ii(s)?e:s),y=1;y<f;++y)c.push(Math.round((e+y*r)*u)/u);return c.push(ii(h)?o:h),c}(f,n);n.handleDirectionalChanges();n.max=t.max(r);n.min=t.min(r);i.reverse?(r.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var n=this;n.ticksAsNumbers=n.ticks.slice();n.zeroLineIndex=n.ticks.indexOf(0);l.prototype.convertTicksToLabels.call(n)},_configure:function(){var r,n=this,u=n.getTicks(),t=n.min,i=n.max;l.prototype._configure.call(n);n.options.offset&&u.length&&(t-=r=(i-t)/Math.max(u.length-1,1)/2,i+=r);n._startValue=t;n._endValue=i;n._valueRange=i-t}}),fl={position:"left",ticks:{callback:wi.formatters.linear}};af=yr.extend({determineDataLimits:function(){var i,r,f,e,n=this,c=n.options,l=n.chart.data.datasets,o=n._getMatchingVisibleMetas(),u=c.stacked,s={},h=o.length;if(n.min=Number.POSITIVE_INFINITY,n.max=Number.NEGATIVE_INFINITY,void 0===u)for(i=0;!u&&i<h;++i)u=void 0!==(r=o[i]).stack;for(i=0;i<h;++i)f=l[(r=o[i]).index].data,u?el(n,s,r,f):ol(n,r,f);t.each(s,function(i){e=i.pos.concat(i.neg);n.min=Math.min(n.min,t.min(e));n.max=Math.max(n.max,t.max(e))});n.min=t.isFinite(n.min)&&!isNaN(n.min)?n.min:0;n.max=t.isFinite(n.max)&&!isNaN(n.max)?n.max:1;n.handleTickRangeOptions()},_computeTickLimit:function(){var n;return this.isHorizontal()?Math.ceil(this.width/40):(n=t.options._parseFont(this.options.ticks),Math.ceil(this.height/n.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(n,t){return this._getScaleLabel(this.chart.data.datasets[t].data[n])},getPixelForValue:function(n){return this.getPixelForDecimal((+this.getRightValue(n)-this._startValue)/this._valueRange)},getValueForPixel:function(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange},getPixelForTick:function(n){var t=this.ticksAsNumbers;return n<0||n>t.length-1?null:this.getPixelForValue(t[n])}});is=fl;af._defaults=is;var vf=t.valueOrDefault,a=t.math.log10,sl={position:"left",ticks:{callback:wi.formatters.logarithmic}};yf=l.extend({determineDataLimits:function(){function p(t){return w?t.xAxisID===n.id:t.yAxisID===n.id}var i,f,r,h,u,c,n=this,y=n.options,e=n.chart,o=e.data.datasets,w=n.isHorizontal(),l,s,a,v;if(n.min=Number.POSITIVE_INFINITY,n.max=Number.NEGATIVE_INFINITY,n.minNotZero=Number.POSITIVE_INFINITY,l=y.stacked,void 0===l)for(i=0;i<o.length;i++)if(f=e.getDatasetMeta(i),e.isDatasetVisible(i)&&p(f)&&void 0!==f.stack){l=!0;break}if(y.stacked||l){for(s={},i=0;i<o.length;i++)if(a=[(f=e.getDatasetMeta(i)).type,void 0===y.stacked&&void 0===f.stack?i:"",f.stack].join("."),e.isDatasetVisible(i)&&p(f))for(void 0===s[a]&&(s[a]=[]),u=0,c=(h=o[i].data).length;u<c;u++)v=s[a],r=n._parseValue(h[u]),isNaN(r.min)||isNaN(r.max)||f.data[u].hidden||r.min<0||r.max<0||(v[u]=v[u]||0,v[u]+=r.max);t.each(s,function(i){if(i.length>0){var r=t.min(i),u=t.max(i);n.min=Math.min(n.min,r);n.max=Math.max(n.max,u)}})}else for(i=0;i<o.length;i++)if(f=e.getDatasetMeta(i),e.isDatasetVisible(i)&&p(f))for(u=0,c=(h=o[i].data).length;u<c;u++)r=n._parseValue(h[u]),isNaN(r.min)||isNaN(r.max)||f.data[u].hidden||r.min<0||r.max<0||(n.min=Math.min(r.min,n.min),n.max=Math.max(r.max,n.max),0!==r.min&&(n.minNotZero=Math.min(r.min,n.minNotZero)));n.min=t.isFinite(n.min)?n.min:null;n.max=t.isFinite(n.max)?n.max:null;n.minNotZero=t.isFinite(n.minNotZero)?n.minNotZero:null;this.handleTickRangeOptions()},handleTickRangeOptions:function(){var n=this,t=n.options.ticks;n.min=pr(t.min,n.min);n.max=pr(t.max,n.max);n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(a(n.min))-1),n.max=Math.pow(10,Math.floor(a(n.max))+1)):(n.min=1,n.max=10));null===n.min&&(n.min=Math.pow(10,Math.floor(a(n.max))-1));null===n.max&&(n.max=0!==n.min?Math.pow(10,Math.floor(a(n.min))+1):10);null===n.minNotZero&&(n.minNotZero=n.min>0?n.min:n.max<1?Math.pow(10,Math.floor(a(n.max))):1)},buildTicks:function(){var n=this,i=n.options.ticks,r=!n.isHorizontal(),f={min:pr(i.min),max:pr(i.max)},u=n.ticks=function(n,t){var i,u,e=[],r=vf(n.min,Math.pow(10,Math.floor(a(t.min)))),o=Math.floor(a(t.max)),h=Math.ceil(t.max/Math.pow(10,o)),f,s;0===r?(i=Math.floor(a(t.minNotZero)),u=Math.floor(t.minNotZero/Math.pow(10,i)),e.push(r),r=u*Math.pow(10,i)):(i=Math.floor(a(r)),u=Math.floor(r/Math.pow(10,i)));f=i<0?Math.pow(10,Math.abs(i)):1;do e.push(r),10==++u&&(u=1,f=++i>=0?1:f),r=Math.round(u*Math.pow(10,i)*f)/f;while(i<o||i===o&&u<h);return s=vf(n.max,r),e.push(s),e}(f,n);n.max=t.max(u);n.min=t.min(u);i.reverse?(r=!r,n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max);r&&u.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();l.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(n,t){return this._getScaleLabel(this.chart.data.datasets[t].data[n])},getPixelForTick:function(n){var t=this.tickValues;return n<0||n>t.length-1?null:this.getPixelForValue(t[n])},_getFirstTickValue:function(n){var t=Math.floor(a(n));return Math.floor(n/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var n=this,t=n.min,r=0;l.prototype._configure.call(n);0===t&&(t=n._getFirstTickValue(n.minNotZero),r=vf(n.options.ticks.fontSize,i.global.defaultFontSize)/n._length);n._startValue=a(t);n._valueOffset=r;n._valueRange=(a(n.max)-a(t))/(1-r)},getPixelForValue:function(n){var t=this,i=0;return(n=+t.getRightValue(n))>t.min&&n>0&&(i=(a(n)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(i)},getValueForPixel:function(n){var t=this,i=t.getDecimalForPixel(n);return 0===i&&0===t.min?0:Math.pow(10,t._startValue+(i-t._valueOffset)*t._valueRange)}});rs=sl;yf._defaults=rs;var wr=t.valueOrDefault,pf=t.valueAtIndexOrDefault,us=t.options.resolve,hl={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:wi.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(n){return n}}};bf=yr.extend({setDimensions:function(){var n=this;n.width=n.maxWidth;n.height=n.maxHeight;n.paddingTop=wf(n.options)/2;n.xCenter=Math.floor(n.width/2);n.yCenter=Math.floor((n.height-n.paddingTop)/2);n.drawingArea=Math.min(n.height-n.paddingTop,n.width)/2},determineDataLimits:function(){var n=this,u=n.chart,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;t.each(u.data.datasets,function(f,e){if(u.isDatasetVisible(e)){var o=u.getDatasetMeta(e);t.each(f.data,function(t,u){var f=+n.getRightValue(t);isNaN(f)||o.data[u].hidden||(i=Math.min(f,i),r=Math.max(f,r))})}});n.min=i===Number.POSITIVE_INFINITY?0:i;n.max=r===Number.NEGATIVE_INFINITY?0:r;n.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/wf(this.options))},convertTicksToLabels:function(){var n=this;yr.prototype.convertTicksToLabels.call(n);n.pointLabels=n.chart.data.labels.map(function(){var i=t.callback(n.options.pointLabels.callback,arguments,n);return i||0===i?i:""})},getLabelForIndex:function(n,t){return+this.getRightValue(this.chart.data.datasets[t].data[n])},fit:function(){var n=this.options;n.display&&n.pointLabels.display?function(n){var r,o,l,v=t.options._parseFont(n.options.pointLabels),i={l:0,r:n.width,t:0,b:n.height-n.paddingTop},u={},s,a,f,y;for(n.ctx.font=v.string,n._pointLabelSizes=[],y=n.chart.data.labels.length,r=0;r<y;r++){l=n.getPointPosition(r,n.drawingArea+5);s=n.ctx;a=v.lineHeight;f=n.pointLabels[r];o=t.isArray(f)?{w:t.longestText(s,s.font,f),h:f.length*a}:{w:s.measureText(f).width,h:a};n._pointLabelSizes[r]=o;var e=n.getIndexAngle(r),p=t.toDegrees(e)%360,h=fs(p,l.x,o.w,0,180),c=fs(p,l.y,o.h,90,270);h.start<i.l&&(i.l=h.start,u.l=e);h.end>i.r&&(i.r=h.end,u.r=e);c.start<i.t&&(i.t=c.start,u.t=e);c.end>i.b&&(i.b=c.end,u.b=e)}n.setReductions(n.drawingArea,i,u)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(n,t,i){var r=this,u=t.l/Math.sin(i.l),f=Math.max(t.r-r.width,0)/Math.sin(i.r),e=-t.t/Math.cos(i.t),o=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(i.b);u=br(u);f=br(f);e=br(e);o=br(o);r.drawingArea=Math.min(Math.floor(n-(u+f)/2),Math.floor(n-(e+o)/2));r.setCenterPoint(u,f,e,o)},setCenterPoint:function(n,t,i,r){var u=this,f=u.width-t-u.drawingArea,e=n+u.drawingArea,o=i+u.drawingArea,s=u.height-u.paddingTop-r-u.drawingArea;u.xCenter=Math.floor((e+f)/2+u.left);u.yCenter=Math.floor((o+s)/2+u.top+u.paddingTop)},getIndexAngle:function(n){var i=this.chart,t=(n*(360/i.data.labels.length)+((i.options||{}).startAngle||0))%360;return(t<0?t+360:t)*Math.PI/180},getDistanceFromCenterForValue:function(n){var i=this,r;return t.isNullOrUndef(n)?NaN:(r=i.drawingArea/(i.max-i.min),i.options.ticks.reverse?(i.max-n)*r:(n-i.min)*r)},getPointPosition:function(n,t){var i=this.getIndexAngle(n)-Math.PI/2;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter}},getPointPositionForValue:function(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))},getBasePosition:function(n){var t=this.min,i=this.max;return this.getPointPositionForValue(n||0,this.beginAtZero?0:t<0&&i<0?i:t>0&&i>0?t:0)},_drawGrid:function(){var e,o,h,n=this,r=n.ctx,s=n.options,u=s.gridLines,f=s.angleLines,c=wr(f.lineWidth,u.lineWidth),l=wr(f.color,u.color);if(s.pointLabels.display&&function(n){var u=n.ctx,f=n.options,o=f.pointLabels,l=wf(f),a=n.getDistanceFromCenterForValue(f.ticks.reverse?n.min:n.max),s=t.options._parseFont(o),r,c,e;for(u.save(),u.font=s.string,u.textBaseline="middle",r=n.chart.data.labels.length-1;r>=0;r--){var v=0===r?l/2:0,h=n.getPointPosition(r,a+v+5),y=pf(o.fontColor,r,i.global.defaultFontColor);u.fillStyle=y;c=n.getIndexAngle(r);e=t.toDegrees(c);u.textAlign=cl(e);al(e,n._pointLabelSizes[r],h);ll(u,n.pointLabels[r],h,s.lineHeight)}u.restore()}(n),u.display&&t.each(n.ticks,function(t,i){0!==i&&(o=n.getDistanceFromCenterForValue(n.ticksAsNumbers[i]),function(n,t,i,r){var f,u=n.ctx,o=t.circular,s=n.chart.data.labels.length,h=pf(t.color,r-1),c=pf(t.lineWidth,r-1),e;if((o||s)&&h&&c){if(u.save(),u.strokeStyle=h,u.lineWidth=c,u.setLineDash&&(u.setLineDash(t.borderDash||[]),u.lineDashOffset=t.borderDashOffset||0),u.beginPath(),o)u.arc(n.xCenter,n.yCenter,i,0,2*Math.PI);else for(f=n.getPointPosition(0,i),u.moveTo(f.x,f.y),e=1;e<s;e++)f=n.getPointPosition(e,i),u.lineTo(f.x,f.y);u.closePath();u.stroke();u.restore()}}(n,u,o,i))}),f.display&&c&&l){for(r.save(),r.lineWidth=c,r.strokeStyle=l,r.setLineDash&&(r.setLineDash(us([f.borderDash,u.borderDash,[]])),r.lineDashOffset=us([f.borderDashOffset,u.borderDashOffset,0])),e=n.chart.data.labels.length-1;e>=0;e--)o=n.getDistanceFromCenterForValue(s.ticks.reverse?n.min:n.max),h=n.getPointPosition(e,o),r.beginPath(),r.moveTo(n.xCenter,n.yCenter),r.lineTo(h.x,h.y),r.stroke();r.restore()}},_drawLabels:function(){var u=this,n=u.ctx,r=u.options.ticks;if(r.display){var f,e,s=u.getIndexAngle(0),o=t.options._parseFont(r),h=wr(r.fontColor,i.global.defaultFontColor);n.save();n.font=o.string;n.translate(u.xCenter,u.yCenter);n.rotate(s);n.textAlign="center";n.textBaseline="middle";t.each(u.ticks,function(t,i){(0!==i||r.reverse)&&(f=u.getDistanceFromCenterForValue(u.ticksAsNumbers[i]),r.showLabelBackdrop&&(e=n.measureText(t).width,n.fillStyle=r.backdropColor,n.fillRect(-e/2-r.backdropPaddingX,-f-o.size/2-r.backdropPaddingY,e+2*r.backdropPaddingX,o.size+2*r.backdropPaddingY)),n.fillStyle=h,n.fillText(t,0,-f))});n.restore()}},_drawTitle:t.noop});es=hl;bf._defaults=es;var kf=t._deprecated,os=t.options.resolve,vl=t.valueOrDefault,ss=Number.MIN_SAFE_INTEGER||-9007199254740991,df=Number.MAX_SAFE_INTEGER||9007199254740991,kr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},v=Object.keys(kr);ne=l.extend({initialize:function(){this.mergeTicksOptions();l.prototype.initialize.call(this)},update:function(){var i=this,r=i.options,n=r.time||(r.time={}),u=i._adapter=new of._date(r.adapters.date);return kf("time scale",n.format,"time.format","time.parser"),kf("time scale",n.min,"time.min","ticks.min"),kf("time scale",n.max,"time.max","ticks.max"),t.mergeIf(n.displayFormats,u.formats()),l.prototype.update.apply(i,arguments)},getRightValue:function(n){return n&&void 0!==n.t&&(n=n.t),l.prototype.getRightValue.call(this,n)},determineDataLimits:function(){for(var o,y,c,l,p,i=this,a=i.chart,w=i._adapter,v=i.options,b=v.time.unit||"day",r=df,u=ss,f=[],h=[],e=[],k=i._getLabels(),n=0,s=k.length;n<s;++n)e.push(ri(i,k[n]));for(n=0,s=(a.data.datasets||[]).length;n<s;++n)if(a.isDatasetVisible(n))if(c=a.data.datasets[n].data,t.isObject(c[0]))for(h[n]=[],o=0,y=c.length;o<y;++o)l=ri(i,c[o]),f.push(l),h[n][o]=l;else h[n]=e.slice(0),p||(f=f.concat(e),p=!0);else h[n]=[];e.length&&(r=Math.min(r,e[0]),u=Math.max(u,e[e.length-1]));f.length&&(f=s>1?function(n){for(var i,u={},f=[],t=0,r=n.length;t<r;++t)u[i=n[t]]||(u[i]=!0,f.push(i));return f}(f).sort(hs):f.sort(hs),r=Math.min(r,f[0]),u=Math.max(u,f[f.length-1]));r=ri(i,cs(v))||r;u=ri(i,ls(v))||u;r=r===df?+w.startOf(Date.now(),b):r;u=u===ss?+w.endOf(Date.now(),b)+1:u;i.min=Math.min(r,u);i.max=Math.max(r+1,u);i._table=[];i._timestamps={data:f,datasets:h,labels:e}},buildTicks:function(){var e,l,s,n=this,i=n.min,r=n.max,u=n.options,o=u.ticks,h=u.time,t=n._timestamps,f=[],a=n.getLabelCapacity(i),c=o.source,y=u.distribution;for(t="data"===c||"auto"===c&&"series"===y?t.data:"labels"===c?t.labels:function(n,t,i,r){var u,s=n._adapter,a=n.options,f=a.time,e=f.unit||as(f.minUnit,t,i,r),h=os([f.stepSize,f.unitStepSize,1]),c="week"===e&&f.isoWeekday,o=t,l=[];if(c&&(o=+s.startOf(o,"isoWeek",c)),o=+s.startOf(o,c?"day":e),s.diff(i,t,e)>1e5*h)throw t+" and "+i+" are too far apart with stepSize of "+h+" "+e;for(u=o;u<i;u=+s.add(u,h,e))l.push(u);return u!==i&&"ticks"!==a.bounds||l.push(u),l}(n,i,r,a),"ticks"===u.bounds&&t.length&&(i=t[0],r=t[t.length-1]),i=ri(n,cs(u))||i,r=ri(n,ls(u))||r,e=0,l=t.length;e<l;++e)(s=t[e])>=i&&s<=r&&f.push(s);return n.min=i,n.max=r,n._unit=h.unit||(o.autoSkip?as(h.minUnit,n.min,n.max,a):function(n,t,i,r,u){for(var e,f=v.length-1;f>=v.indexOf(i);f--)if(e=v[f],kr[e].common&&n._adapter.diff(u,r,e)>=t-1)return e;return v[i?v.indexOf(i):0]}(n,f.length,h.minUnit,n.min,n.max)),n._majorUnit=o.major.enabled&&"year"!==n._unit?function(n){for(var t=v.indexOf(n)+1,i=v.length;t<i;++t)if(kr[v[t]].common)return v[t]}(n._unit):void 0,n._table=function(n,t,i,r){if("linear"===r||!n.length)return[{time:t,pos:0},{time:i,pos:1}];for(var s,f,h,c=[],e=[t],u=0,o=n.length;u<o;++u)(f=n[u])>t&&f<i&&e.push(f);for(e.push(i),u=0,o=e.length;u<o;++u)h=e[u+1],s=e[u-1],f=e[u],void 0!==s&&void 0!==h&&Math.round((h+s)/2)===f||c.push({time:f,pos:u/(o-1)});return c}(n._timestamps.data,i,r,y),n._offsets=function(n,t,i,r,u){var f,e,o=0,s=0;return u.offset&&t.length&&(f=si(n,"time",t[0],"pos"),o=1===t.length?1-f:(si(n,"time",t[1],"pos")-f)/2,e=si(n,"time",t[t.length-1],"pos"),s=1===t.length?e:(e-si(n,"time",t[t.length-2],"pos"))/2),{start:o,end:s,factor:1/(o+1+s)}}(n._table,f,0,0,u),o.reverse&&f.reverse(),vs(n,f,n._majorUnit)},getLabelForIndex:function(n,i){var r=this,o=r._adapter,f=r.chart.data,e=r.options.time,u=f.labels&&n<f.labels.length?f.labels[n]:"",s=f.datasets[i].data[n];return t.isObject(s)&&(u=r.getRightValue(s)),e.tooltipFormat?o.format(gf(r,u),e.tooltipFormat):"string"==typeof u?u:o.format(gf(r,u),e.displayFormats.datetime)},tickFormatFunction:function(n,t,i,r){var y=this._adapter,f=this.options,e=f.time.displayFormats,p=e[this._unit],o=this._majorUnit,s=e[o],h=i[t],u=f.ticks,c=o&&s&&h&&h.major,l=y.format(n,r||(c?s:p)),a=c?u.major:u.minor,v=os([a.callback,a.userCallback,u.callback,u.userCallback]);return v?v(l,t,i):l},convertTicksToLabels:function(n){for(var r=[],t=0,i=n.length;t<i;++t)r.push(this.tickFormatFunction(n[t].value,t,n));return r},getPixelForOffset:function(n){var t=this._offsets,i=si(this._table,"time",n,"pos");return this.getPixelForDecimal((t.start+i)*t.factor)},getPixelForValue:function(n,t,i){var r=null;if(void 0!==t&&void 0!==i&&(r=this._timestamps.datasets[i][t]),null===r&&(r=ri(this,n)),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(n){var t=this.getTicks();return n>=0&&n<t.length?this.getPixelForOffset(t[n].value):null},getValueForPixel:function(n){var t=this._offsets,i=this.getDecimalForPixel(n)/t.factor-t.end,r=si(this._table,"pos",i,"time");return this._adapter._create(r)},_getLabelSize:function(n){var r=this.options.ticks,u=this.ctx.measureText(n).width,f=t.toRadians(this.isHorizontal()?r.maxRotation:r.minRotation),e=Math.cos(f),o=Math.sin(f),s=vl(r.fontSize,i.global.defaultFontSize);return{w:u*e+s*o,h:u*o+s*e}},getLabelWidth:function(n){return this._getLabelSize(n).w},getLabelCapacity:function(n){var t=this,r=t.options.time,u=r.displayFormats,e=u[r.unit]||u.millisecond,o=t.tickFormatFunction(n,0,vs(t,[n],t._majorUnit),e),f=t._getLabelSize(o),i=Math.floor(t.isHorizontal()?t.width/f.w:t.height/f.h);return t.options.offset&&i--,i>0?i:1}});ys={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};ne._defaults=ys;ps={category:ts,linear:af,logarithmic:yf,radialLinear:bf,time:ne};ws={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};of._date.override("function"==typeof n?{_id:"moment",formats:function(){return ws},parse:function(t,i){return"string"==typeof t&&"string"==typeof i?t=n(t,i):t instanceof n||(t=n(t)),t.isValid()?t.valueOf():null},format:function(t,i){return n(t).format(i)},add:function(t,i,r){return n(t).add(i,r).valueOf()},diff:function(t,i,r){return n(t).diff(n(i),r)},startOf:function(t,i,r){return t=n(t),"isoWeek"===i?t.isoWeekday(r).valueOf():t.startOf(i).valueOf()},endOf:function(t,i){return n(t).endOf(i).valueOf()},_create:function(t){return n(t)}}:{});i._set("global",{plugins:{filler:{propagate:!0}}});bs={dataset:function(n){var t=n.fill,i=n.chart,r=i.getDatasetMeta(t),u=r&&i.isDatasetVisible(t)&&r.dataset._children||[],f=u.length||0;return f?function(n,t){return t<f&&u[t]._view||null}:null},boundary:function(n){var i=n.boundary,r=i?i.x:null,u=i?i.y:null;return t.isArray(i)?function(n,t){return i[t]}:function(n){return{x:null===r?n.x:r,y:null===u?n.y:u}}}};var dl={id:"filler",afterDatasetsUpdate:function(n,t){for(var o,u,r,f=(n.data.datasets||[]).length,s=t.propagate,e=[],i=0;i<f;++i)r=null,(u=(o=n.getDatasetMeta(i)).dataset)&&u._model&&u instanceof c.Line&&(r={visible:n.isDatasetVisible(i),fill:yl(u,i,f),chart:n,el:u}),o.$filler=r,e.push(r);for(i=0;i<f;++i)(r=e[i])&&(r.fill=wl(e,i,s),r.boundary=pl(r),r.mapper=bl(r))},beforeDatasetsDraw:function(n){for(var r,f,e,o,s,h,l=n._getSortedVisibleDatasetMetas(),c=n.ctx,u=l.length-1;u>=0;--u)(r=l[u].$filler)&&r.visible&&(e=(f=r.el)._view,o=f._children||[],s=r.mapper,h=e.backgroundColor||i.global.defaultColor,s&&h&&o.length&&(t.canvas.clipArea(c,n.chartArea),kl(c,o,s,e,h,f._loop),t.canvas.unclipArea(c)))}},gl=t.rtl.getRtlAdapter,ct=t.noop,lt=t.valueOrDefault;i._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(n,t){var r=t.datasetIndex,i=this.chart,u=i.getDatasetMeta(r);u.hidden=null===u.hidden?!i.data.datasets[r].hidden:null;i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var i=n.data.datasets,t=n.options.legend||{},r=t.labels&&t.labels.usePointStyle;return n._getSortedDatasetMetas().map(function(t){var u=t.controller.getStyle(r?0:void 0);return{text:i[t.index].label,fillStyle:u.backgroundColor,hidden:!n.isDatasetVisible(t.index),lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:u.borderWidth,strokeStyle:u.borderColor,pointStyle:u.pointStyle,rotation:u.rotation,datasetIndex:t.index}},this)}}},legendCallback:function(n){var t,u,f,r=document.createElement("ul"),i=n.data.datasets;for(r.setAttribute("class",n.id+"-legend"),t=0,u=i.length;t<u;t++)(f=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=i[t].backgroundColor,i[t].label&&f.appendChild(document.createTextNode(i[t].label));return r.outerHTML}});ie=nt.extend({initialize:function(n){t.extend(this,n);this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=!1},beforeUpdate:ct,update:function(n,t,i){var r=this;return r.beforeUpdate(),r.maxWidth=n,r.maxHeight=t,r.margins=i,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:ct,beforeSetDimensions:ct,setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0;n.minSize={width:0,height:0}},afterSetDimensions:ct,beforeBuildLabels:ct,buildLabels:function(){var n=this,r=n.options.labels||{},i=t.callback(r.generateLabels,[n.chart],n)||[];r.filter&&(i=i.filter(function(t){return r.filter(t,n.chart.data)}));n.options.reverse&&i.reverse();n.legendItems=i},afterBuildLabels:ct,beforeFit:ct,fit:function(){var n=this,a=n.options,r=a.labels,h=a.display,o=n.ctx,v=t.options._parseFont(r),u=v.size,y=n.legendHitBoxes=[],i=n.minSize,p=n.isHorizontal(),f,c;if(p?(i.width=n.maxWidth,i.height=h?10:0):(i.width=h?10:0,i.height=n.maxHeight),h){if(o.font=v.string,p)f=n.lineWidths=[0],c=0,o.textAlign="left",o.textBaseline="middle",t.each(n.legendItems,function(n,t){var e=te(r,u)+u/2+o.measureText(n.text).width;(0===t||f[f.length-1]+e+2*r.padding>i.width)&&(c+=u+r.padding,f[f.length-(t>0?0:1)]=0);y[t]={left:0,top:0,width:e,height:u};f[f.length-1]+=e+r.padding}),i.height+=c;else{var w=r.padding,b=n.columnWidths=[],k=n.columnHeights=[],l=r.padding,e=0,s=0;t.each(n.legendItems,function(n,t){var f=te(r,u)+u/2+o.measureText(n.text).width;t>0&&s+u+2*w>i.height&&(l+=e+r.padding,b.push(e),k.push(s),e=0,s=0);e=Math.max(e,f);s+=u+w;y[t]={left:0,top:0,width:f,height:u}});l+=e;b.push(e);k.push(s);i.width+=l}n.width=i.width;n.height=i.height}else n.width=i.width=n.height=i.height=0},afterFit:ct,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var r=this,h=r.options,f=h.labels,v=i.global,w=v.defaultColor,c=v.elements.line,b=r.height,k=r.columnHeights,d=r.width,g=r.lineWidths,a;if(h.display){var u,o=gl(h.rtl,r.left,r.minSize.width),n=r.ctx,nt=lt(f.fontColor,v.defaultFontColor),tt=t.options._parseFont(f),s=tt.size;n.textAlign=o.textAlign("left");n.textBaseline="middle";n.lineWidth=.5;n.strokeStyle=nt;n.fillStyle=nt;n.font=tt.string;var e=te(f,s),y=r.legendHitBoxes,l=function(n,t){switch(h.align){case"start":return f.padding;case"end":return n-t;default:return(n-t+f.padding)/2}},p=r.isHorizontal();u=p?{x:r.left+l(d,g[0]),y:r.top+f.padding,line:0}:{x:r.left+f.padding,y:r.top+l(b,k[0]),line:0};t.rtl.overrideTextDirection(r.ctx,h.textDirection);a=s+f.padding;t.each(r.legendItems,function(i,h){var it=n.measureText(i.text).width,rt=e+s/2+it,nt=u.x,v=u.y,tt;o.setWidth(r.minSize.width);p?h>0&&nt+rt+f.padding>r.left+r.minSize.width&&(v=u.y+=a,u.line++,nt=u.x=r.left+l(d,g[u.line])):h>0&&v+a>r.top+r.minSize.height&&(nt=u.x=nt+r.columnWidths[u.line]+f.padding,u.line++,v=u.y=r.top+l(b,k[u.line]));tt=o.x(nt);!function(i,r,u){var h;if(!(isNaN(e)||e<=0)){if(n.save(),h=lt(u.lineWidth,c.borderWidth),n.fillStyle=lt(u.fillStyle,w),n.lineCap=lt(u.lineCap,c.borderCapStyle),n.lineDashOffset=lt(u.lineDashOffset,c.borderDashOffset),n.lineJoin=lt(u.lineJoin,c.borderJoinStyle),n.lineWidth=h,n.strokeStyle=lt(u.strokeStyle,w),n.setLineDash&&n.setLineDash(lt(u.lineDash,c.borderDash)),f&&f.usePointStyle){var l=e*Math.SQRT2/2,a=o.xPlus(i,e/2),v=r+s/2;t.canvas.drawPoint(n,u.pointStyle,l,a,v,u.rotation)}else n.fillRect(o.leftForLtr(i,e),r,e,s),0!==h&&n.strokeRect(o.leftForLtr(i,e),r,e,s);n.restore()}}(tt,v,i);y[h].left=o.leftForLtr(tt,y[h].width);y[h].top=v,function(t,i,r,u){var c=s/2,f=o.xPlus(t,e+c),h=i+c;n.fillText(r.text,f,h);r.hidden&&(n.beginPath(),n.lineWidth=2,n.moveTo(f,h),n.lineTo(o.xPlus(f,u),h),n.stroke())}(tt,v,i,it);p?u.x+=rt+f.padding:u.y+=a});t.rtl.restoreTextDirection(r.ctx,h.textDirection)}},_getLegendItemAt:function(n,t){var u,i,f,r=this;if(n>=r.left&&n<=r.right&&t>=r.top&&t<=r.bottom)for(f=r.legendHitBoxes,u=0;u<f.length;++u)if(n>=(i=f[u]).left&&n<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return r.legendItems[u];return null},handleEvent:function(n){var r,t=this,i=t.options,u="mouseup"===n.type?"click":n.type;if("mousemove"===u){if(!i.onHover&&!i.onLeave)return}else{if("click"!==u)return;if(!i.onClick)return}r=t._getLegendItemAt(n.x,n.y);"click"===u?r&&i.onClick&&i.onClick.call(t,n.native,r):(i.onLeave&&r!==t._hoveredItem&&(t._hoveredItem&&i.onLeave.call(t,n.native,t._hoveredItem),t._hoveredItem=r),i.onHover&&r&&i.onHover.call(t,n.native,r))}});nh={id:"legend",_element:ie,beforeInit:function(n){var t=n.options.legend;t&&gs(n,t)},beforeUpdate:function(n){var r=n.options.legend,u=n.legend;r?(t.mergeIf(r,i.global.legend),u?(b.configure(n,u,r),u.options=r):gs(n,r)):u&&(b.removeBox(n,u),delete n.legend)},afterEvent:function(n,t){var i=n.legend;i&&i.handleEvent(t)}};it=t.noop;i._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});re=nt.extend({initialize:function(n){t.extend(this,n);this.legendHitBoxes=[]},beforeUpdate:it,update:function(n,t,i){var r=this;return r.beforeUpdate(),r.maxWidth=n,r.maxHeight=t,r.margins=i,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:it,beforeSetDimensions:it,setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0;n.minSize={width:0,height:0}},afterSetDimensions:it,beforeBuildLabels:it,buildLabels:it,afterBuildLabels:it,beforeFit:it,fit:function(){var u,n=this,i=n.options,r=n.minSize={},f=n.isHorizontal();i.display?(u=(t.isArray(i.text)?i.text.length:1)*t.options._parseFont(i).lineHeight+2*i.padding,n.width=r.width=f?n.maxWidth:u,n.height=r.height=f?u:n.maxHeight):n.width=r.width=n.height=r.height=0},afterFit:it,isHorizontal:function(){var n=this.options.position;return"top"===n||"bottom"===n},draw:function(){var r=this,n=r.ctx,u=r.options,f,y,h;if(u.display){var e,c,l,p=t.options._parseFont(u),w=p.lineHeight,a=w/2+u.padding,b=0,o=r.top,s=r.left,k=r.bottom,v=r.right;if(n.fillStyle=t.valueOrDefault(u.fontColor,i.global.defaultFontColor),n.font=p.string,r.isHorizontal()?(c=s+(v-s)/2,l=o+a,e=v-s):(c="left"===u.position?s+a:v-a,l=o+(k-o)/2,e=k-o,b=Math.PI*("left"===u.position?-.5:.5)),n.save(),n.translate(c,l),n.rotate(b),n.textAlign="center",n.textBaseline="middle",f=u.text,t.isArray(f))for(y=0,h=0;h<f.length;++h)n.fillText(f[h],0,y,e),y+=w;else n.fillText(f,0,0,e);n.restore()}}});var at={},na=dl,ta=nh,ia={id:"title",_element:re,beforeInit:function(n){var t=n.options.title;t&&th(n,t)},beforeUpdate:function(n){var r=n.options.title,u=n.titleBlock;r?(t.mergeIf(r,i.global.title),u?(b.configure(n,u,r),u.options=r):th(n,r)):u&&(b.removeBox(n,u),delete n.titleBlock)}};for(ue in at.filler=na,at.legend=ta,at.title=ia,r.helpers=t,function(){function n(n,t,i){var r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*t.parentNode[i])):r=n,r}function r(n){return null!=n&&"none"!==n}function u(i,u,f){var e=document.defaultView,o=t._getParentNode(i),s=e.getComputedStyle(i)[u],h=e.getComputedStyle(o)[u],c=r(s),l=r(h),a=Number.POSITIVE_INFINITY;return c||l?Math.min(c?n(s,i,f):a,l?n(h,o,f):a):"none"}t.where=function(n,i){if(t.isArray(n)&&Array.prototype.filter)return n.filter(i);var r=[];return t.each(n,function(n){i(n)&&r.push(n)}),r};t.findIndex=Array.prototype.findIndex?function(n,t,i){return n.findIndex(t,i)}:function(n,t,i){i=void 0===i?n:i;for(var r=0,u=n.length;r<u;++r)if(t.call(i,n[r],r,n))return r;return-1};t.findNextWhere=function(n,i,r){var u,f;for(t.isNullOrUndef(r)&&(r=-1),u=r+1;u<n.length;u++)if(f=n[u],i(f))return f};t.findPreviousWhere=function(n,i,r){var u,f;for(t.isNullOrUndef(r)&&(r=n.length),u=r-1;u>=0;u--)if(f=n[u],i(f))return f};t.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};t.almostEquals=function(n,t,i){return Math.abs(n-t)<i};t.almostWhole=function(n,t){var i=Math.round(n);return i-t<=n&&i+t>=n};t.max=function(n){return n.reduce(function(n,t){return isNaN(t)?n:Math.max(n,t)},Number.NEGATIVE_INFINITY)};t.min=function(n){return n.reduce(function(n,t){return isNaN(t)?n:Math.min(n,t)},Number.POSITIVE_INFINITY)};t.sign=Math.sign?function(n){return Math.sign(n)}:function(n){return 0==(n=+n)||isNaN(n)?n:n>0?1:-1};t.toRadians=function(n){return n*(Math.PI/180)};t.toDegrees=function(n){return n*(180/Math.PI)};t._decimalPlaces=function(n){if(t.isFinite(n)){for(var i=1,r=0;Math.round(n*i)/i!==n;)i*=10,r++;return r}};t.getAngleFromPoint=function(n,t){var i=t.x-n.x,r=t.y-n.y,f=Math.sqrt(i*i+r*r),u=Math.atan2(r,i);return u<-.5*Math.PI&&(u+=2*Math.PI),{angle:u,distance:f}};t.distanceBetweenPoints=function(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))};t.aliasPixel=function(n){return n%2==0?0:.5};t._alignPixel=function(n,t,i){var r=n.currentDevicePixelRatio,u=i/2;return Math.round((t-u)*r)/r+u};t.splineCurve=function(n,t,i,r){var f=n.skip?t:n,u=t,e=i.skip?t:i,o=Math.sqrt(Math.pow(u.x-f.x,2)+Math.pow(u.y-f.y,2)),s=Math.sqrt(Math.pow(e.x-u.x,2)+Math.pow(e.y-u.y,2)),h=o/(o+s),c=s/(o+s),l=r*(h=isNaN(h)?0:h),a=r*(c=isNaN(c)?0:c);return{previous:{x:u.x-l*(e.x-f.x),y:u.y-l*(e.y-f.y)},next:{x:u.x+a*(e.x-f.x),y:u.y+a*(e.y-f.y)}}};t.EPSILON=Number.EPSILON||1e-14;t.splineCurveMonotone=function(n){for(var f,i,u,h,c,l,v,o,e=(n||[]).map(function(n){return{model:n._model,deltaK:0,mK:0}}),s=e.length,a,r=0;r<s;++r)(i=e[r]).model.skip||((f=r>0?e[r-1]:null,(u=r<s-1?e[r+1]:null)&&!u.model.skip)&&(a=u.model.x-i.model.x,i.deltaK=0!==a?(u.model.y-i.model.y)/a:0),i.mK=!f||f.model.skip?i.deltaK:!u||u.model.skip?f.deltaK:this.sign(f.deltaK)!==this.sign(i.deltaK)?0:(f.deltaK+i.deltaK)/2);for(r=0;r<s-1;++r)i=e[r],u=e[r+1],i.model.skip||u.model.skip||(t.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=u.mK=0:(h=i.mK/i.deltaK,c=u.mK/i.deltaK,(v=Math.pow(h,2)+Math.pow(c,2))<=9||(l=3/Math.sqrt(v),i.mK=h*l*i.deltaK,u.mK=c*l*i.deltaK)));for(r=0;r<s;++r)(i=e[r]).model.skip||(f=r>0?e[r-1]:null,u=r<s-1?e[r+1]:null,f&&!f.model.skip&&(o=(i.model.x-f.model.x)/3,i.model.controlPointPreviousX=i.model.x-o,i.model.controlPointPreviousY=i.model.y-o*i.mK),u&&!u.model.skip&&(o=(u.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+o,i.model.controlPointNextY=i.model.y+o*i.mK))};t.nextItem=function(n,t,i){return i?t>=n.length-1?n[0]:n[t+1]:t>=n.length-1?n[n.length-1]:n[t+1]};t.previousItem=function(n,t,i){return i?t<=0?n[n.length-1]:n[t-1]:t<=0?n[0]:n[t-1]};t.niceNum=function(n,i){var u=Math.floor(t.log10(n)),r=n/Math.pow(10,u);return(i?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,u)};t.requestAnimFrame="undefined"==typeof window?function(n){n()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(n,1e3/60)};t.getRelativePosition=function(n,i){var f,e,s=n.originalEvent||n,r=n.target||n.srcElement,u=r.getBoundingClientRect(),o=s.touches;o&&o.length>0?(f=o[0].clientX,e=o[0].clientY):(f=s.clientX,e=s.clientY);var h=parseFloat(t.getStyle(r,"padding-left")),c=parseFloat(t.getStyle(r,"padding-top")),l=parseFloat(t.getStyle(r,"padding-right")),a=parseFloat(t.getStyle(r,"padding-bottom")),v=u.right-u.left-h-l,y=u.bottom-u.top-c-a;return{x:f=Math.round((f-u.left-h)/v*r.width/i.currentDevicePixelRatio),y:e=Math.round((e-u.top-c)/y*r.height/i.currentDevicePixelRatio)}};t.getConstraintWidth=function(n){return u(n,"max-width","clientWidth")};t.getConstraintHeight=function(n){return u(n,"max-height","clientHeight")};t._calculatePadding=function(n,i,r){return(i=t.getStyle(n,i)||"0").indexOf("%")>-1?r*parseInt(i,10)/100:parseInt(i,10)};t._getParentNode=function(n){var t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t};t.getMaximumWidth=function(n){var i=t._getParentNode(n);if(!i)return n.clientWidth;var r=i.clientWidth,u=r-t._calculatePadding(i,"padding-left",r)-t._calculatePadding(i,"padding-right",r),f=t.getConstraintWidth(n);return isNaN(f)?u:Math.min(u,f)};t.getMaximumHeight=function(n){var i=t._getParentNode(n);if(!i)return n.clientHeight;var r=i.clientHeight,u=r-t._calculatePadding(i,"padding-top",r)-t._calculatePadding(i,"padding-bottom",r),f=t.getConstraintHeight(n);return isNaN(f)?u:Math.min(u,f)};t.getStyle=function(n,t){return n.currentStyle?n.currentStyle[t]:document.defaultView.getComputedStyle(n,null).getPropertyValue(t)};t.retinaScale=function(n,t){var r=n.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==r){var i=n.canvas,u=n.height,f=n.width;i.height=u*r;i.width=f*r;n.ctx.scale(r,r);i.style.height||i.style.width||(i.style.height=u+"px",i.style.width=f+"px")}};t.fontString=function(n,t,i){return t+" "+n+"px "+i};t.longestText=function(n,i,r,u){var h=(u=u||{}).data=u.data||{},e=u.garbageCollect=u.garbageCollect||[],f,c,v,o,a,s,y,l;for(u.font!==i&&(h=u.data={},e=u.garbageCollect=[],u.font=i),n.font=i,s=0,y=r.length,f=0;f<y;f++)if(null!=(o=r[f])&&!0!==t.isArray(o))s=t.measureText(n,h,e,s,o);else if(t.isArray(o))for(c=0,v=o.length;c<v;c++)null==(a=o[c])||t.isArray(a)||(s=t.measureText(n,h,e,s,a));if(l=e.length/2,l>r.length){for(f=0;f<l;f++)delete h[e[f]];e.splice(0,l)}return s};t.measureText=function(n,t,i,r,u){var f=t[u];return f||(f=t[u]=n.measureText(u).width,i.push(u)),f>r&&(r=f),r};t.numberOfLabelLines=function(n){var i=1;return t.each(n,function(n){t.isArray(n)&&n.length>i&&(i=n.length)}),i};t.color=gi?function(n){return n instanceof CanvasGradient&&(n=i.global.defaultColor),gi(n)}:function(n){return console.error("Color.js not found!"),n};t.getHoverColor=function(n){return n instanceof CanvasPattern||n instanceof CanvasGradient?n:t.color(n).saturate(.5).darken(.1).rgbString()}}(),r._adapters=of,r.Animation=fu,r.animationService=eu,r.controllers=au,r.DatasetController=y,r.defaults=i,r.Element=nt,r.elements=c,r.Interaction=kt,r.layouts=b,r.platform=dt,r.plugins=f,r.Scale=l,r.scaleService=pi,r.Ticks=wi,r.Tooltip=ff,r.helpers.each(ps,function(n,t){r.scaleService.registerScaleType(t,n,n._defaults)}),at)at.hasOwnProperty(ue)&&r.plugins.register(at[ue]);return r.platform.initialize(),ih=r,"undefined"!=typeof window&&(window.Chart=r),r.Chart=r,r.Legend=at.legend._element,r.Title=at.title._element,r.pluginService=r.plugins,r.PluginBase=r.Element.extend({}),r.canvasHelpers=r.helpers.canvas,r.layoutService=r.layouts,r.LinearScaleBase=yr,r.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(n){r[n]=function(t,i){return new r(t,r.helpers.merge(i||{},{type:n.charAt(0).toLowerCase()+n.slice(1)}))}}),ih});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&module.exports?module.exports=n:n(jQuery,window,document)}(function(n){!function(t){var i="function"==typeof define&&define.amd,r="undefined"!=typeof module&&module.exports,u="https:"==document.location.protocol?"https:":"http:";i||(r?require("jquery-mousewheel")(n):n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+u+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E")));t()}(function(){var h,c="mCustomScrollbar",t="mCS",it=".mCustomScrollbar",ot={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},pt=0,b={},p=window.attachEvent&&!window.addEventListener?1:0,e=!1,i=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],s={init:function(r){var r=n.extend(!0,{},ot,r),e=v.call(this),u,f;if(r.live){if(u=r.liveSelector||this.selector||it,f=n(u),"off"===r.live)return void k(u);b[u]=setTimeout(function(){f.mCustomScrollbar(r);"once"===r.live&&f.length&&k(u)},500)}else k(u);return r.setWidth=r.set_width?r.set_width:r.setWidth,r.setHeight=r.set_height?r.set_height:r.setHeight,r.axis=r.horizontalScroll?"x":wt(r.axis),r.scrollInertia=r.scrollInertia>0&&r.scrollInertia<17?17:r.scrollInertia,"object"!=typeof r.mouseWheel&&1==r.mouseWheel&&(r.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),r.mouseWheel.scrollAmount=r.mouseWheelPixels?r.mouseWheelPixels:r.mouseWheel.scrollAmount,r.mouseWheel.normalizeDelta=r.advanced.normalizeMouseWheelDelta?r.advanced.normalizeMouseWheelDelta:r.mouseWheel.normalizeDelta,r.scrollButtons.scrollType=bt(r.scrollButtons.scrollType),st(r),n(e).each(function(){var u=n(this);if(!u.data(t)){u.data(t,{idx:++pt,opt:r,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:u.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=u.data(t),f=e.opt,o=u.data("mcs-axis"),h=u.data("mcs-scrollbar-position"),c=u.data("mcs-theme");o&&(f.axis=o);h&&(f.scrollbarPosition=h);c&&(f.theme=c,st(f));kt.call(this);e&&f.callbacks.onCreate&&"function"==typeof f.callbacks.onCreate&&f.callbacks.onCreate.call(this);n("#mCSB_"+e.idx+"_container img:not(."+i[2]+")").addClass(i[2]);s.update.call(null,u)}})},update:function(r,f){var e=r||v.call(this);return n(e).each(function(){var s=n(this),c;if(s.data(t)){var e=s.data(t),r=e.opt,h=n("#mCSB_"+e.idx+"_container"),a=n("#mCSB_"+e.idx),l=[n("#mCSB_"+e.idx+"_dragger_vertical"),n("#mCSB_"+e.idx+"_dragger_horizontal")];if(!h.length)return;e.tweenRunning&&o(s);f&&e&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this);s.hasClass(i[3])&&s.removeClass(i[3]);s.hasClass(i[4])&&s.removeClass(i[4]);a.css("max-height","none");a.height()!==s.height()&&a.css("max-height",s.height());dt.call(this);"y"===r.axis||r.advanced.autoExpandHorizontalScroll||h.css("width",ht(h));e.overflowed=ii.call(this);ct.call(this);r.autoDraggerLength&&ni.call(this);ti.call(this);ri.call(this);c=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)];"x"!==r.axis&&(e.overflowed[0]?l[0].height()>l[0].parent().height()?y.call(this):(u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(y.call(this),"y"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[1]&&u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==r.axis&&(e.overflowed[1]?l[1].width()>l[1].parent().width()?y.call(this):(u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(y.call(this),"x"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[0]&&u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})));f&&e&&(2===f&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===f&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this));et.call(this)}})},scrollTo:function(i,r){if("undefined"!=typeof i&&null!=i){var f=v.call(this);return n(f).each(function(){var s=n(this);if(s.data(t)){var o=s.data(t),h=o.opt,c={trigger:"external",scrollInertia:h.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},f=n.extend(!0,{},c,r),e=ft.call(this,i),l=f.scrollInertia>0&&f.scrollInertia<17?17:f.scrollInertia;e[0]=at.call(this,e[0],"y");e[1]=at.call(this,e[1],"x");f.moveDragger&&(e[0]*=o.scrollRatio.y,e[1]*=o.scrollRatio.x);f.dur=wi()?0:l;setTimeout(function(){null!==e[0]&&"undefined"!=typeof e[0]&&"x"!==h.axis&&o.overflowed[0]&&(f.dir="y",f.overwrite="all",u(s,e[0].toString(),f));null!==e[1]&&"undefined"!=typeof e[1]&&"y"!==h.axis&&o.overflowed[1]&&(f.dir="x",f.overwrite="none",u(s,e[1].toString(),f))},f.timeout)}})}},stop:function(){var i=v.call(this);return n(i).each(function(){var i=n(this);i.data(t)&&o(i)})},disable:function(r){var u=v.call(this);return n(u).each(function(){var u=n(this);u.data(t)&&(u.data(t),et.call(this,"remove"),g.call(this),r&&y.call(this),ct.call(this,!0),u.addClass(i[3]))})},destroy:function(){var r=v.call(this);return n(r).each(function(){var f=n(this);if(f.data(t)){var u=f.data(t),e=u.opt,s=n("#mCSB_"+u.idx),o=n("#mCSB_"+u.idx+"_container"),h=n(".mCSB_"+u.idx+"_scrollbar");e.live&&k(e.liveSelector||n(r).selector);et.call(this,"remove");g.call(this);y.call(this);f.removeData(t);a(this,"mcs");h.remove();o.find("img."+i[2]).removeClass(i[2]);s.replaceWith(o.contents());f.removeClass(c+" _"+t+"_"+u.idx+" "+i[6]+" "+i[7]+" "+i[5]+" "+i[3]).addClass(i[4])}})}},v=function(){return"object"!=typeof n(this)||n(this).length<1?it:this},st=function(t){t.autoDraggerLength=n.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1?!1:t.autoDraggerLength;t.autoExpandScrollbar=n.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1?!1:t.autoExpandScrollbar;t.scrollButtons.enable=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!1:t.scrollButtons.enable;t.autoHideScrollbar=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!0:t.autoHideScrollbar;t.scrollbarPosition=n.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},k=function(n){b[n]&&(clearTimeout(b[n]),a(b,n))},wt=function(n){return"yx"===n||"xy"===n||"auto"===n?"yx":"x"===n||"horizontal"===n?"x":"y"},bt=function(n){return"stepped"===n||"pixels"===n||"step"===n||"click"===n?"stepped":"stepless"},kt=function(){var f=n(this),u=f.data(t),r=u.opt,l=r.autoExpandScrollbar?" "+i[1]+"_expand":"",o=["<div id='mCSB_"+u.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>","<div id='mCSB_"+u.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>"],v="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",a="yx"===r.axis?o[0]+o[1]:"x"===r.axis?o[1]:o[0],y="yx"===r.axis?"<div id='mCSB_"+u.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=r.autoHideScrollbar?" "+i[6]:"",w="x"!==r.axis&&"rtl"===u.langDir?" "+i[7]:"",h,s,e;r.setWidth&&f.css("width",r.setWidth);r.setHeight&&f.css("height",r.setHeight);r.setLeft="y"!==r.axis&&"rtl"===u.langDir?"989999px":r.setLeft;f.addClass(c+" _"+t+"_"+u.idx+p+w).wrapInner("<div id='mCSB_"+u.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+v+"'><div id='mCSB_"+u.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+u.langDir+"' /><\/div>");h=n("#mCSB_"+u.idx);s=n("#mCSB_"+u.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||s.css("width",ht(s));"outside"===r.scrollbarPosition?("static"===f.css("position")&&f.css("position","relative"),f.css("overflow","visible"),h.addClass("mCSB_outside").after(a)):(h.addClass("mCSB_inside").append(a),s.wrap(y));gt.call(this);e=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")];e[0].css("min-height",e[0].height());e[1].css("min-width",e[1].width())},ht=function(t){var i=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return n(this).outerWidth(!0)}).get())],r=t.parent().width();return i[0]>r?i[0]:i[1]>r?i[1]:"100%"},dt=function(){var e=n(this),f=e.data(t),r=f.opt,i=n("#mCSB_"+f.idx+"_container"),u;r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis&&(i.css({width:"auto","min-width":0,"overflow-x":"scroll"}),u=Math.ceil(i[0].scrollWidth),3===r.advanced.autoExpandHorizontalScroll||2!==r.advanced.autoExpandHorizontalScroll&&u>i.parent().width()?i.css({width:u,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},gt=function(){var s=n(this),o=s.data(t),u=o.opt,h=n(".mCSB_"+o.idx+"_scrollbar:first"),f=tt(u.scrollButtons.tabindex)?"tabindex='"+u.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+i[13]+"' "+f+" />","<a href='#' class='"+i[14]+"' "+f+" />","<a href='#' class='"+i[15]+"' "+f+" />","<a href='#' class='"+i[16]+"' "+f+" />"],e=["x"===u.axis?r[2]:r[0],"x"===u.axis?r[3]:r[1],r[2],r[3]];u.scrollButtons.enable&&h.prepend(e[0]).append(e[1]).next(".mCSB_scrollTools").prepend(e[2]).append(e[3])},ni=function(){var s=n(this),u=s.data(t),f=n("#mCSB_"+u.idx),e=n("#mCSB_"+u.idx+"_container"),r=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")],o=[f.height()/e.outerHeight(!1),f.width()/e.outerWidth(!1)],i=[parseInt(r[0].css("min-height")),Math.round(o[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(o[1]*r[1].parent().width())],h=p&&i[1]<i[0]?i[0]:i[1],c=p&&i[3]<i[2]?i[2]:i[3];r[0].css({height:h,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"});r[1].css({width:c,"max-width":r[1].parent().width()-10})},ti=function(){var s=n(this),i=s.data(t),u=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),r=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e=[f.outerHeight(!1)-u.height(),f.outerWidth(!1)-u.width()],o=[e[0]/(r[0].parent().height()-r[0].height()),e[1]/(r[1].parent().width()-r[1].width())];i.scrollRatio={y:o[0],x:o[1]}},d=function(n,t,r){var f=r?i[0]+"_expanded":"",u=n.closest(".mCSB_scrollTools");"active"===t?(n.toggleClass(i[0]+" "+f),u.toggleClass(i[1]),n[0]._draggable=n[0]._draggable?0:1):n[0]._draggable||("hide"===t?(n.removeClass(i[0]),u.removeClass(i[1])):(n.addClass(i[0]),u.addClass(i[1])))},ii=function(){var h=n(this),r=h.data(t),e=n("#mCSB_"+r.idx),i=n("#mCSB_"+r.idx+"_container"),u=null==r.overflowed?i.height():i.outerHeight(!1),f=null==r.overflowed?i.width():i.outerWidth(!1),o=i[0].scrollHeight,s=i[0].scrollWidth;return o>u&&(u=o),s>f&&(f=s),[u>e.height(),f>e.width()]},y=function(){var r=n(this),i=r.data(t),f=i.opt,c=n("#mCSB_"+i.idx),s=n("#mCSB_"+i.idx+"_container"),h=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e;(o(r),("x"!==f.axis&&!i.overflowed[0]||"y"===f.axis&&i.overflowed[0])&&(h[0].add(s).css("top",0),u(r,"_resetY")),"y"!==f.axis&&!i.overflowed[1]||"x"===f.axis&&i.overflowed[1])&&(e=dx=0,"rtl"===i.langDir&&(e=c.width()-s.outerWidth(!1),dx=Math.abs(e/i.scrollRatio.x)),s.css("left",e),h[1].css("left",dx),u(r,"_resetX"))},ri=function(){function u(){e=setTimeout(function(){n.event.special.mousewheel?(clearTimeout(e),oi.call(f[0])):u()},100)}var f=n(this),r=f.data(t),i=r.opt,e;r.bindEvents||((ui.call(this),i.contentTouchScroll&&fi.call(this),ei.call(this),i.mouseWheel.enable)&&u(),hi.call(this),li.call(this),i.advanced.autoScrollOnFocus&&ci.call(this),i.scrollButtons.enable&&ai.call(this),i.keyboard.enable&&vi.call(this),r.bindEvents=!0)},g=function(){var f=n(this),r=f.data(t),u=r.opt,o=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",e=n("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+s+" ."+i[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+s+">a"),h=n("#mCSB_"+r.idx+"_container");u.advanced.releaseDraggableSelectors&&e.add(n(u.advanced.releaseDraggableSelectors));u.advanced.extraDraggableSelectors&&e.add(n(u.advanced.extraDraggableSelectors));r.bindEvents&&(n(document).add(n(!l()||top.document)).unbind("."+o),e.each(function(){n(this).unbind("."+o)}),clearTimeout(f[0]._focusTimeout),a(f[0],"_focusTimeout"),clearTimeout(r.sequential.step),a(r.sequential,"step"),clearTimeout(h[0].onCompleteTimeout),a(h[0],"onCompleteTimeout"),r.bindEvents=!1)},ct=function(r){var h=n(this),u=h.data(t),o=u.opt,c=n("#mCSB_"+u.idx+"_container_wrapper"),f=c.length?c:n("#mCSB_"+u.idx+"_container"),e=[n("#mCSB_"+u.idx+"_scrollbar_vertical"),n("#mCSB_"+u.idx+"_scrollbar_horizontal")],s=[e[0].find(".mCSB_dragger"),e[1].find(".mCSB_dragger")];"x"!==o.axis&&(u.overflowed[0]&&!r?(e[0].add(s[0]).add(e[0].children("a")).css("display","block"),f.removeClass(i[8]+" "+i[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[0].css("display","none"),f.removeClass(i[10])):(e[0].css("display","none"),f.addClass(i[10])),f.addClass(i[8])));"y"!==o.axis&&(u.overflowed[1]&&!r?(e[1].add(s[1]).add(e[1].children("a")).css("display","block"),f.removeClass(i[9]+" "+i[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[1].css("display","none"),f.removeClass(i[11])):(e[1].css("display","none"),f.addClass(i[11])),f.addClass(i[9])));u.overflowed[0]||u.overflowed[1]?h.removeClass(i[5]):h.addClass(i[5])},r=function(t){var e=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[n(frameElement).offset().top,n(frameElement).offset().left]:null,u=l()&&t.target.ownerDocument!==top.document&&null!==frameElement?[n(t.view.frameElement).offset().top,n(t.view.frameElement).offset().left]:[0,0],r,f;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+u[0],t.originalEvent.pageX-i[1]+u[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":return r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],f=t.originalEvent.touches.length||t.originalEvent.changedTouches.length,t.target.ownerDocument!==document?[r.screenY,r.screenX,f>1]:[r.pageY,r.pageX,f>1];default:return i?[t.pageY-i[0]+u[0],t.pageX-i[1]+u[1],!1]:[t.pageY,t.pageX,!1]}},ui=function(){function k(n,t,r,f){var e,o;(w[0].idleTimer=h.scrollInertia<233?250:0,i.attr("id")===y[1])?(e="x",o=(i[0].offsetLeft-t+f)*s.scrollRatio.x):(e="y",o=(i[0].offsetTop-n+r)*s.scrollRatio.y);u(v,o.toString(),{dir:e,drag:!0})}var i,c,a,v=n(this),s=v.data(t),h=s.opt,f=t+"_"+s.idx,y=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],w=n("#mCSB_"+s.idx+"_container"),b=n("#"+y[0]+",#"+y[1]),g=h.advanced.releaseDraggableSelectors?b.add(n(h.advanced.releaseDraggableSelectors)):b,nt=h.advanced.extraDraggableSelectors?n(!l()||top.document).add(n(h.advanced.extraDraggableSelectors)):n(!l()||top.document);b.bind("contextmenu."+f,function(n){n.preventDefault()}).bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),yt(t)){e=!0;p&&(document.onselectstart=function(){return!1});lt.call(w,!1);o(v);i=n(this);var u=i.offset(),f=r(t)[0]-u.top,s=r(t)[1]-u.left,l=i.height()+u.top,y=i.width()+u.left;l>f&&f>0&&y>s&&s>0&&(c=f,a=s);d(i,"active",h.autoExpandScrollbar)}}).bind("touchmove."+f,function(n){n.stopImmediatePropagation();n.preventDefault();var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;k(c,a,u,f)});n(document).add(nt).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(n){if(i){var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;if(c===u&&a===f)return;k(c,a,u,f)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){i&&(d(i,"active",h.autoExpandScrollbar),i=null);e=!1;p&&(document.onselectstart=null);lt.call(w,!0)})},fi=function(){function at(n){if(!nt(n)||e||r(n)[2])return void(h=0);h=1;it=0;rt=0;st=1;g.removeClass("mCS_touch_action");var t=b.offset();k=r(n)[0]-t.top;d=r(n)[1]-t.left;v=[r(n)[0],r(n)[1]]}function vt(n){var c,l,a,y;if(nt(n)&&!e&&!r(n)[2]&&(f.documentTouchScroll||n.preventDefault(),n.stopImmediatePropagation(),(!rt||it)&&st)){gt=w();var o=ut.offset(),t=r(n)[0]-o.top,u=r(n)[1]-o.left,h="mcsLinearOut";(et.push(t),ot.push(u),v[2]=Math.abs(r(n)[0]-v[0]),v[3]=Math.abs(r(n)[1]-v[1]),i.overflowed[0])&&(c=ft[0].parent().height()-ft[0].height(),l=k-t>0&&t-k>-(c*i.scrollRatio.y)&&(2*v[3]<v[2]||"yx"===f.axis));i.overflowed[1]&&(a=ft[1].parent().width()-ft[1].width(),y=d-u>0&&u-d>-(a*i.scrollRatio.x)&&(2*v[2]<v[3]||"yx"===f.axis));l||y?(ii||n.preventDefault(),it=1):(rt=1,g.addClass("mCS_touch_action"));ii&&n.preventDefault();s="yx"===f.axis?[k-t,d-u]:"x"===f.axis?[null,d-u]:[k-t,null];b[0].idleTimer=250;i.overflowed[0]&&tt(s[0],ni,h,"y","all",!0);i.overflowed[1]&&tt(s[1],ni,h,"x",lt,!0)}}function yt(n){if(!nt(n)||e||r(n)[2])return void(h=0);h=1;n.stopImmediatePropagation();o(g);dt=w();var t=ut.offset();bt=r(n)[0]-t.top;kt=r(n)[1]-t.left;et=[];ot=[]}function pt(n){var t,u,h;if(nt(n)&&!e&&!r(n)[2]){st=0;n.stopImmediatePropagation();it=0;rt=0;ht=w();var l=ut.offset(),a=r(n)[0]-l.top,v=r(n)[1]-l.left;if(!(ht-gt>30)){c=1e3/(ht-dt);var p="mcsEaseOut",o=2.5>c,k=o?[et[et.length-2],ot[ot.length-2]]:[0,0];y=o?[a-k[0],v-k[1]]:[a-bt,v-kt];t=[Math.abs(y[0]),Math.abs(y[1])];c=o?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[c,c];u=[Math.abs(b[0].offsetTop)-y[0]*wt(t[0]/c[0],c[0]),Math.abs(b[0].offsetLeft)-y[1]*wt(t[1]/c[1],c[1])];s="yx"===f.axis?[u[0],u[1]]:"x"===f.axis?[null,u[1]]:[u[0],null];ct=[4*t[0]+f.scrollInertia,4*t[1]+f.scrollInertia];h=parseInt(f.contentTouchScroll)||0;s[0]=t[0]>h?s[0]:0;s[1]=t[1]>h?s[1]:0;i.overflowed[0]&&tt(s[0],ct[0],p,"y",lt,!1);i.overflowed[1]&&tt(s[1],ct[1],p,"x",lt,!1)}}}function wt(n,t){var i=[1.5*t,2*t,t/1.5,t/2];return n>90?t>4?i[0]:i[3]:n>60?t>3?i[3]:i[2]:n>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function tt(n,t,i,r,f,e){n&&u(g,n.toString(),{dur:t,scrollEasing:i,dir:r,overwrite:f,drag:e})}var st,k,d,bt,kt,dt,gt,ht,y,c,s,ct,it,rt,g=n(this),i=g.data(t),f=i.opt,a=t+"_"+i.idx,ut=n("#mCSB_"+i.idx),b=n("#mCSB_"+i.idx+"_container"),ft=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],et=[],ot=[],ni=0,lt="yx"===f.axis?"none":"all",v=[],ti=b.find("iframe"),p=["touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,"touchmove."+a+" pointermove."+a+" MSPointerMove."+a,"touchend."+a+" pointerup."+a+" MSPointerUp."+a],ii=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;b.bind(p[0],function(n){at(n)}).bind(p[1],function(n){vt(n)});ut.bind(p[0],function(n){yt(n)}).bind(p[2],function(n){pt(n)});ti.length&&ti.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){at(n);yt(n)}).bind(p[1],function(n){vt(n)}).bind(p[2],function(n){pt(n)})})})},ei=function(){function y(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(n,t,i){l.type=i&&u?"stepped":"stepless";l.scrollAmount=10;ut(a,n,t,"mcsLinearOut",i?60:null)}var u,a=n(this),f=a.data(t),v=f.opt,l=f.sequential,s=t+"_"+f.idx,o=n("#mCSB_"+f.idx+"_container"),c=o.parent();o.bind("mousedown."+s,function(){h||u||(u=1,e=!0)}).add(document).bind("mousemove."+s,function(n){if(!h&&u&&y()){var s=o.offset(),t=r(n)[0]-s.top+o[0].offsetTop,e=r(n)[1]-s.left+o[0].offsetLeft;t>0&&t<c.height()&&e>0&&e<c.width()?l.step&&i("off",null,"stepped"):("x"!==v.axis&&f.overflowed[0]&&(0>t?i("on",38):t>c.height()&&i("on",40)),"y"!==v.axis&&f.overflowed[1]&&(0>e?i("on",37):e>c.width()&&i("on",39)))}}).bind("mouseup."+s+" dragend."+s,function(){h||(u&&(u=0,i("off",null)),e=!1)})},oi=function(){function h(t,h){var a,v;if(o(s),!si(s,t.target)){if(a="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):p&&t.deltaFactor<100?100:t.deltaFactor||100,v=i.scrollInertia,"x"===i.axis||"x"===i.mouseWheel.axis)var y="x",l=[Math.round(a*r.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.width()?.9*e.width():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetLeft),b=f[1][0].offsetLeft,d=f[1].parent().width()-f[1].width(),c="y"===i.mouseWheel.axis?t.deltaY||h:t.deltaX;else var y="y",l=[Math.round(a*r.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.height()?.9*e.height():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetTop),b=f[0][0].offsetTop,d=f[0].parent().height()-f[0].height(),c=t.deltaY||h;("y"!==y||r.overflowed[0])&&("x"!==y||r.overflowed[1])&&((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),i.mouseWheel.normalizeDelta&&(c=0>c?-1:1),(c>0&&0!==b||0>c&&b!==d||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(w=t.deltaFactor,v=17),u(s,(k-c*w).toString(),{dir:y,dur:v}))}}if(n(this).data(t)){var s=n(this),r=s.data(t),i=r.opt,c=t+"_"+r.idx,e=n("#mCSB_"+r.idx),f=[n("#mCSB_"+r.idx+"_dragger_vertical"),n("#mCSB_"+r.idx+"_dragger_horizontal")],a=n("#mCSB_"+r.idx+"_container").find("iframe");a.length&&a.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind("mousewheel."+c,function(n,t){h(n,t)})})});e.bind("mousewheel."+c,function(n,t){h(n,t)})}},rt={},l=function(t){var r=!1,i=!1,u=null,f;if(void 0===t?i="#empty":void 0!==n(t).attr("id")&&(i=n(t).attr("id")),i!==!1&&void 0!==rt[i])return rt[i];if(t){try{f=t.contentDocument||t.contentWindow.document;u=f.body.innerHTML}catch(e){}r=null!==u}else{try{f=top.document;u=f.body.innerHTML}catch(e){}r=null!==u}return i!==!1&&(rt[i]=r),r},lt=function(n){var t=this.find("iframe"),i;t.length&&(i=n?"auto":"none",t.css("pointer-events",i))},si=function(i,r){var u=r.nodeName.toLowerCase(),f=i.data(t).opt.mouseWheel.disableOver;return n.inArray(u,f)>-1&&!(n.inArray(u,["select","textarea"])>-1&&!n(r).is(":focus"))},hi=function(){var s,h=n(this),f=h.data(t),r=t+"_"+f.idx,c=n("#mCSB_"+f.idx+"_container"),l=c.parent(),a=n(".mCSB_"+f.idx+"_scrollbar ."+i[12]);a.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(t){e=!0;n(t.target).hasClass("mCSB_dragger")||(s=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){e=!1}).bind("click."+r,function(t){var r,e;if(s&&(s=0,n(t.target).hasClass(i[12])||n(t.target).hasClass("mCSB_draggerRail"))){if(o(h),r=n(this),e=r.find(".mCSB_dragger"),r.parent(".mCSB_scrollTools_horizontal").length>0){if(!f.overflowed[1])return;var v="x",a=t.pageX>e.offset().left?-1:1,y=Math.abs(c[0].offsetLeft)-a*.9*l.width()}else{if(!f.overflowed[0])return;var v="y",a=t.pageY>e.offset().top?-1:1,y=Math.abs(c[0].offsetTop)-a*.9*l.height()}u(h,y.toString(),{dir:v,scrollEasing:"mcsEaseInOut"})}})},ci=function(){var i=n(this),s=i.data(t),e=s.opt,c=t+"_"+s.idx,r=n("#mCSB_"+s.idx+"_container"),h=r.parent();r.bind("focusin."+c,function(){var t=n(document.activeElement),c=r.find(".mCustomScrollBox").length,s=0;t.is(e.advanced.autoScrollOnFocus)&&(o(i),clearTimeout(i[0]._focusTimeout),i[0]._focusTimer=c?(s+17)*c:0,i[0]._focusTimeout=setTimeout(function(){var n=[f(t)[0],f(t)[1]],o=[r[0].offsetTop,r[0].offsetLeft],c=[o[0]+n[0]>=0&&o[0]+n[0]<h.height()-t.outerHeight(!1),o[1]+n[1]>=0&&o[0]+n[1]<h.width()-t.outerWidth(!1)],l="yx"!==e.axis||c[0]||c[1]?"all":"none";"x"===e.axis||c[0]||u(i,n[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s});"y"===e.axis||c[1]||u(i,n[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s})},i[0]._focusTimer))})},li=function(){var u=n(this),i=u.data(t),f=t+"_"+i.idx,r=n("#mCSB_"+i.idx+"_container").parent();r.bind("scroll."+f,function(){0===r.scrollTop()&&0===r.scrollLeft()||n(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},ai=function(){var f=n(this),r=f.data(t),o=r.opt,u=r.sequential,i=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",h=n(s+">a");h.bind("contextmenu."+i,function(n){n.preventDefault()}).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i+" mouseup."+i+" touchend."+i+" pointerup."+i+" MSPointerUp."+i+" mouseout."+i+" pointerout."+i+" MSPointerOut."+i+" click."+i,function(t){function i(n,t){u.scrollAmount=o.scrollButtons.scrollAmount;ut(f,n,t)}if(t.preventDefault(),yt(t)){var s=n(this).attr("class");switch(u.type=o.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===u.type)return;e=!0;r.tweenRunning=!1;i("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===u.type)return;e=!1;u.dir&&i("off",s);break;case"click":if("stepped"!==u.type||r.tweenRunning)return;i("on",s)}}})},vi=function(){function a(t){function w(n,t){s.type=r.keyboard.scrollType;s.scrollAmount=r.keyboard.scrollAmount;"stepped"===s.type&&i.tweenRunning||ut(e,n,t)}var c,y,p,l,a;switch(t.type){case"blur":i.tweenRunning&&s.dir&&w("off",null);break;case"keydown":case"keyup":if(c=t.keyCode?t.keyCode:t.which,y="on","x"!==r.axis&&(38===c||40===c)||"y"!==r.axis&&(37===c||39===c)){if((38===c||40===c)&&!i.overflowed[0]||(37===c||39===c)&&!i.overflowed[1])return;"keyup"===t.type&&(y="off");n(document.activeElement).is(v)||(t.preventDefault(),t.stopImmediatePropagation(),w(y,c))}else 33===c||34===c?((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)&&(o(e),p=34===c?-1:1,"x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=Math.abs(f[0].offsetLeft)-p*.9*h.width()):(l="y",a=Math.abs(f[0].offsetTop)-p*.9*h.height()),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})):35!==c&&36!==c||n(document.activeElement).is(v)||((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"!==t.type)||("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=35===c?Math.abs(h.width()-f.outerWidth(!1)):0):(l="y",a=35===c?Math.abs(h.height()-f.outerHeight(!1)):0),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))}}var e=n(this),i=e.data(t),r=i.opt,s=i.sequential,c=t+"_"+i.idx,w=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),h=f.parent(),v="input,textarea,select,datalist,keygen,[contenteditable='true']",y=f.find("iframe"),p=["blur."+c+" keydown."+c+" keyup."+c];y.length&&y.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){a(n)})})});w.attr("tabindex","0").bind(p[0],function(n){a(n)})},ut=function(r,f,e,s,h){function y(n){l.snapAmount&&(c.scrollAmount=l.snapAmount instanceof Array?"x"===c.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var i="stepped"!==c.type,f=h?h:n?i?k/1.5:d:1e3/60,e=n?i?7.5:40:2.5,t=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],o=[v.scrollRatio.y>10?10:v.scrollRatio.y,v.scrollRatio.x>10?10:v.scrollRatio.x],w="x"===c.dir[0]?t[1]+c.dir[1]*o[1]*e:t[0]+c.dir[1]*o[0]*e,b="x"===c.dir[0]?t[1]+c.dir[1]*parseInt(c.scrollAmount):t[0]+c.dir[1]*parseInt(c.scrollAmount),a="auto"!==c.scrollAmount?b:w,g=s?s:n?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",nt=!!n;return n&&17>f&&(a="x"===c.dir[0]?t[1]:t[0]),u(r,a.toString(),{dir:c.dir[0],scrollEasing:g,dur:f,onComplete:nt}),n?void(c.dir=!1):(clearTimeout(c.step),void(c.step=setTimeout(function(){y()},f)))}function b(){clearTimeout(c.step);a(c,"step");o(r)}var v=r.data(t),l=v.opt,c=v.sequential,p=n("#mCSB_"+v.idx+"_container"),w="stepped"===c.type,k=l.scrollInertia<26?26:l.scrollInertia,d=l.scrollInertia<1?17:l.scrollInertia;switch(f){case"on":if(c.dir=[e===i[16]||e===i[15]||39===e||37===e?"x":"y",e===i[13]||e===i[15]||38===e||37===e?-1:1],o(r),tt(e)&&"stepped"===c.type)return;y(w);break;case"off":b();(w||v.tweenRunning&&c.dir)&&y(!0)}},ft=function(i){var u=n(this).data(t).opt,r=[];return"function"==typeof i&&(i=i()),i instanceof Array?r=i.length>1?[i[0],i[1]]:"x"===u.axis?[null,i[0]]:[i[0],null]:(r[0]=i.y?i.y:i.x||"x"===u.axis?null:i,r[1]=i.x?i.x:i.y||"y"===u.axis?null:i),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},at=function(i,r){var h,e;if(null!=i&&"undefined"!=typeof i){var c=n(this),l=c.data(t),v=l.opt,u=n("#mCSB_"+l.idx+"_container"),o=u.parent(),y=typeof i;r||(r="x"===v.axis?"x":"y");var p="x"===r?u.outerWidth(!1)-o.width():u.outerHeight(!1)-o.height(),a="x"===r?u[0].offsetLeft:u[0].offsetTop,w="x"===r?"left":"top";switch(y){case"function":return i();case"object":return(e=i.jquery?i:n(i),!e.length)?void 0:"x"===r?f(e)[1]:f(e)[0];case"string":case"number":return tt(i)?Math.abs(i):-1!==i.indexOf("%")?Math.abs(p*parseInt(i)/100):-1!==i.indexOf("-=")?Math.abs(a-parseInt(i.split("-=")[1])):-1!==i.indexOf("+=")?(h=a+parseInt(i.split("+=")[1]),h>=0?0:Math.abs(h)):-1!==i.indexOf("px")&&tt(i.split("px")[0])?Math.abs(i.split("px")[0]):"top"===i||"left"===i?0:"bottom"===i?Math.abs(o.height()-u.outerHeight(!1)):"right"===i?Math.abs(o.width()-u.outerWidth(!1)):"first"===i||"last"===i?(e=u.find(":"+i),"x"===r?f(e)[1]:f(e)[0]):n(i).length?"x"===r?f(n(i))[1]:f(n(i))[0]:(u.css(w,i),void s.update.call(null,c[0]))}}},et=function(r){function c(){return clearTimeout(e[0].autoUpdate),0===o.parents("html").length?void(o=null):void(e[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(u.poll.change.n=v(),u.poll.change.n!==u.poll.change.o)?(u.poll.change.o=u.poll.change.n,void h(3)):f.advanced.updateOnContentResize&&(u.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+e[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,u.poll.size.n!==u.poll.size.o)?(u.poll.size.o=u.poll.size.n,void h(1)):!f.advanced.updateOnImageLoad||"auto"===f.advanced.updateOnImageLoad&&"y"===f.axis||(u.poll.img.n=e.find("img").length,u.poll.img.n===u.poll.img.o)?void((f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&c()):(u.poll.img.o=u.poll.img.n,void e.find("img").each(function(){l(this)}))},f.advanced.autoUpdateTimeout))}function l(t){function u(n,t){return function(){return t.apply(n,arguments)}}function f(){this.onload=null;n(t).addClass(i[2]);h(2)}if(n(t).hasClass(i[2]))return void h();var r=new Image;r.onload=u(r,f);r.src=t.src}function v(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var n=0,t=e.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){n+=this.offsetHeight+this.offsetWidth}),n}function h(n){clearTimeout(e[0].autoUpdate);s.update.call(null,o[0],n)}var o=n(this),u=o.data(t),f=u.opt,e=n("#mCSB_"+u.idx+"_container");return r?(clearTimeout(e[0].autoUpdate),void a(e[0],"autoUpdate")):void c()},yi=function(n,t,i){return Math.round(n/t)*t-i},o=function(i){var r=i.data(t),u=n("#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal");u.each(function(){pi.call(this)})},u=function(i,r,u){function h(n){return f&&e.callbacks[n]&&"function"==typeof e.callbacks[n]}function rt(){return[e.callbacks.alwaysTriggerOffsets||w>=l[0]+v,e.callbacks.alwaysTriggerOffsets||-y>=w]}function a(){var n=[o[0].offsetTop,o[0].offsetLeft],t=[c[0].offsetTop,c[0].offsetLeft],r=[o.outerHeight(!1),o.outerWidth(!1)],f=[p.height(),p.width()];i[0].mcs={content:o,top:n[0],left:n[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(n[0])/(Math.abs(r[0])-f[0])),leftPct:Math.round(100*Math.abs(n[1])/(Math.abs(r[1])-f[1])),direction:u.dir}}var f=i.data(t),e=f.opt,ut={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:e.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=n.extend(ut,u),k=[u.dur,u.drag?0:u.dur],p=n("#mCSB_"+f.idx),o=n("#mCSB_"+f.idx+"_container"),b=o.parent(),g=e.callbacks.onTotalScrollOffset?ft.call(i,e.callbacks.onTotalScrollOffset):[0,0],nt=e.callbacks.onTotalScrollBackOffset?ft.call(i,e.callbacks.onTotalScrollBackOffset):[0,0],tt;if(f.trigger=u.trigger,0===b.scrollTop()&&0===b.scrollLeft()||(n(".mCSB_"+f.idx+"_scrollbar").css("visibility","visible"),b.scrollTop(0).scrollLeft(0)),"_resetY"!==r||f.contentReset.y||(h("onOverflowYNone")&&e.callbacks.onOverflowYNone.call(i[0]),f.contentReset.y=1),"_resetX"!==r||f.contentReset.x||(h("onOverflowXNone")&&e.callbacks.onOverflowXNone.call(i[0]),f.contentReset.x=1),"_resetY"!==r&&"_resetX"!==r){(!f.contentReset.y&&i[0].mcs||!f.overflowed[0]||(h("onOverflowY")&&e.callbacks.onOverflowY.call(i[0]),f.contentReset.x=null),!f.contentReset.x&&i[0].mcs||!f.overflowed[1]||(h("onOverflowX")&&e.callbacks.onOverflowX.call(i[0]),f.contentReset.x=null),e.snapAmount)&&(tt=e.snapAmount instanceof Array?"x"===u.dir?e.snapAmount[1]:e.snapAmount[0]:e.snapAmount,r=yi(r,tt,e.snapOffset));switch(u.dir){case"x":var c=n("#mCSB_"+f.idx+"_dragger_horizontal"),it="left",w=o[0].offsetLeft,l=[p.width()-o.outerWidth(!1),c.parent().width()-c.width()],s=[r,0===r?0:r/f.scrollRatio.x],v=g[1],y=nt[1],et=v>0?v/f.scrollRatio.x:0,ot=y>0?y/f.scrollRatio.x:0;break;case"y":var c=n("#mCSB_"+f.idx+"_dragger_vertical"),it="top",w=o[0].offsetTop,l=[p.height()-o.outerHeight(!1),c.parent().height()-c.height()],s=[r,0===r?0:r/f.scrollRatio.y],v=g[0],y=nt[0],et=v>0?v/f.scrollRatio.y:0,ot=y>0?y/f.scrollRatio.y:0}s[1]<0||0===s[0]&&0===s[1]?s=[0,0]:s[1]>=l[1]?s=[l[0],l[1]]:s[0]=-s[0];i[0].mcs||(a(),h("onInit")&&e.callbacks.onInit.call(i[0]));clearTimeout(o[0].onCompleteTimeout);vt(c[0],it,Math.round(s[1]),k[1],u.scrollEasing);!f.tweenRunning&&(0===w&&s[0]>=0||w===l[0]&&s[0]<=l[0])||vt(o[0],it,Math.round(s[0]),k[0],u.scrollEasing,u.overwrite,{onStart:function(){u.callbacks&&u.onStart&&!f.tweenRunning&&(h("onScrollStart")&&(a(),e.callbacks.onScrollStart.call(i[0])),f.tweenRunning=!0,d(c),f.cbOffsets=rt())},onUpdate:function(){u.callbacks&&u.onUpdate&&h("whileScrolling")&&(a(),e.callbacks.whileScrolling.call(i[0]))},onComplete:function(){if(u.callbacks&&u.onComplete){"yx"===e.axis&&clearTimeout(o[0].onCompleteTimeout);var n=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){h("onScroll")&&(a(),e.callbacks.onScroll.call(i[0]));h("onTotalScroll")&&s[1]>=l[1]-et&&f.cbOffsets[0]&&(a(),e.callbacks.onTotalScroll.call(i[0]));h("onTotalScrollBack")&&s[1]<=ot&&f.cbOffsets[1]&&(a(),e.callbacks.onTotalScrollBack.call(i[0]));f.tweenRunning=!1;o[0].idleTimer=0;d(c,"hide")},n)}}})}},vt=function(n,t,i,r,u,f,e){function a(){o.stop||(s||g.call(),s=w()-it,v(),s>=o.time&&(o.time=s>o.time?s+h-(s-o.time):s+h-1,o.time<s+1&&(o.time=s+1)),o.time<r?o.id=c(a):tt.call())}function v(){r>0?(o.currVal=d(o.time,l,p,r,u),y[t]=Math.round(o.currVal)+"px"):y[t]=i+"px";nt.call()}function b(){h=1e3/60;o.time=s+h;c=window.requestAnimationFrame?window.requestAnimationFrame:function(n){return v(),setTimeout(n,.01)};o.id=c(a)}function k(){null!=o.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(o.id):clearTimeout(o.id),o.id=null)}function d(n,t,i,r,u){switch(u){case"linear":case"mcsLinear":return i*n/r+t;case"mcsLinearOut":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeInOutSmooth":return n/=r/2,1>n?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeInOutStrong":return n/=r/2,1>n?i/2*Math.pow(2,10*(n-1))+t:(n--,i/2*(-Math.pow(2,-10*n)+2)+t);case"easeInOut":case"mcsEaseInOut":return n/=r/2,1>n?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t);case"easeOutSmooth":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutStrong":return i*(-Math.pow(2,-10*n/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n)}}var p;n._mTween||(n._mTween={top:{},left:{}});var h,c,e=e||{},g=e.onStart||function(){},nt=e.onUpdate||function(){},tt=e.onComplete||function(){},it=w(),s=0,l=n.offsetTop,y=n.style,o=n._mTween[t];"left"===t&&(l=n.offsetLeft);p=i-l;o.stop=0;"none"!==f&&k();b()},w=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},pi=function(){var n=this,r,i,t;for(n._mTween||(n._mTween={top:{},left:{}}),r=["top","left"],i=0;i<r.length;i++)t=r[i],n._mTween[t].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._mTween[t].id):clearTimeout(n._mTween[t].id),n._mTween[t].id=null,n._mTween[t].stop=1)},a=function(n,t){try{delete n[t]}catch(i){n[t]=null}},yt=function(n){return!(n.which&&1!==n.which)},nt=function(n){var t=n.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},tt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},f=function(n){var t=n.parents(".mCSB_container");return[n.offset().top-t.offset().top,n.offset().left-t.offset().left]},wi=function(){function t(){var t=["webkit","moz","ms","o"],n;if("hidden"in document)return"hidden";for(n=0;n<t.length;n++)if(t[n]+"Hidden"in document)return t[n]+"Hidden";return null}var n=t();return n?document[n]:!1};n.fn[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c].defaults=ot;window[c]=!0;n(window).bind("load",function(){n(it)[c]();n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(t){var e,r,i=n(t),u=i.parents(".mCSB_container");if(u.length)return e=u.parent(),r=[u[0].offsetTop,u[0].offsetLeft],r[0]+f(i)[0]>=0&&r[0]+f(i)[0]<e.height()-i.outerHeight(!1)&&r[1]+f(i)[1]>=0&&r[1]+f(i)[1]<e.width()-i.outerWidth(!1)},mcsInSight:n.expr[":"].mcsInSight||function(t,i,r){var e,u,o,s,h=n(t),c=h.parents(".mCSB_container"),l="exact"===r[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return e=[h.outerHeight(!1),h.outerWidth(!1)],o=[c[0].offsetTop+f(h)[0],c[0].offsetLeft+f(h)[1]],u=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],s=[e[0]<u[0]?l[0]:l[1],e[1]<u[1]?l[0]:l[1]],o[0]-u[0]*s[0][0]<0&&o[0]+e[0]-u[0]*s[0][1]>=0&&o[1]-u[1]*s[1][0]<0&&o[1]+e[1]-u[1]*s[1][1]>=0},mcsOverflow:n.expr[":"].mcsOverflow||function(i){var r=n(i).data(t);if(r)return r.overflowed[0]||r.overflowed[1]}})})})}),function(n){function t(t){this.options=t;this.currLevel=t.currLevel?parseInt(t.currLevel):1;this.maxLevel=1;this.isFilter=t.isFilter;this.defaultText=t.defaultText;Array.isArray(t.hddValue)?(this.maxLevel=t.hddValue.length,this.Value=n("#"+t.hddValue[this.currLevel-1])):this.Value=n("#"+t.hddValue);this.divOptions=n("#"+t.id);for(var i in t)this.divOptions.attr(i,t[i]);return this.divOptions.attr("currLevel",this.currLevel),this.txtMinValue=t.minValue!==undefined?n("#"+t.minValue):null,this.txtMaxValue=t.maxValue!==undefined?n("#"+t.maxValue):null,this.lstValue=this.divOptions.children("ul").children(),this.selectText=n("#"+t.ddlId),this.labelText=this.divOptions.parents().children(".select-control-label"),t.siblingId!=undefined&&(this.siblingId=n("#"+t.siblingId)),t.siblingText!=undefined&&(this.siblingText=n("."+t.siblingText)),this.displayText=this.isFilter?this.selectText.children(".filter-label").find("span"):this.selectText.parent().find(".custom-value"),this.textDefault=n(this.lstValue[0]).text(),this.valueDefault=n(this.lstValue[0]).attr("vl"),this.unitPrice=t.unit!==undefined?t.unit:null,this.lblMin=n("#"+t.lblMin),this.lblMax=n("#"+t.lblMax),this}t.prototype.CheckToClose=function(t){var i,r,u;if(this.txtMaxValue!=null&&this.txtMinValue!=null&&(this.txtMaxValue.val().length>0||this.txtMinValue.val().length>0)?(i=parseFloat(this.txtMinValue.val()),r=parseFloat(this.txtMaxValue.val()),r<i&&(u=this.txtMaxValue.val(),this.txtMaxValue.val(this.txtMinValue.val()),this.txtMinValue.val(u)),this.UpdateTextValue()):this.SetValue(null,this),this.divOptions.closest(".select-control").hasClass("active")&&(this.divOptions.closest(".select-control").removeClass("active"),this.divOptions.closest(".advance-select-options").hide()),n(".select-filter-dropbox").hide(),n("body").unbind("click"),this.selectText.removeClass("select-text-content-focus"),this.selectText.parent().removeClass("select-text-focus"),(t===undefined||t==!1)&&this.options.onClose!==undefined&&this.options.onClose!=null)this.options.onClose(1);return!0};t.prototype.UpdateTextValue=function(){var i,t,n,r,u;this.txtMaxValue!=null&&this.txtMinValue!=null&&(this.txtMinValue.val().length==0&&this.txtMaxValue.val().length==0?(this.SetValue(null),this.displayText.html("Tất cả"),t=!1):(i="",t=!1,this.unitPrice=="money"?(this.txtMinValue.val().length>0?(n=GetMoneyText2(parseFloat(this.txtMinValue.val())*1e6),i+=this.txtMaxValue.val().length>0?n:">= "+n,this.lblMin.text(n),t=!0):this.lblMin.text(""),this.txtMaxValue.val().length>0?(n=GetMoneyText2(parseFloat(this.txtMaxValue.val())*1e6),i+=this.txtMinValue.val().length>0?" - "+n:"< "+n,this.lblMax.text(n),t=!0):this.lblMax.text("")):this.unitPrice=="area"&&(r=this.txtMinValue.val(),r.indexOf("m²")<0&&(r=r+" m²"),u=this.txtMaxValue.val(),u.indexOf("m²")<0&&(u=u+" m²"),this.txtMinValue.val().length>0&&(i+=this.txtMaxValue.val().length>0?r:">= "+r,t=!0),this.txtMaxValue.val().length>0&&(i+=this.txtMinValue.val().length>0?" - "+u:"< "+u,t=!0)),t?(this.selectText.addClass("hasvalue"),this.selectText.parent().find(".custom-value").addClass("hasvalue")):(this.selectText.removeClass("hasvalue"),this.selectText.parent().find(".custom-value").removeClass("hasvalue")),this.displayText.html(i.replace("  - ","-").replace(" - ","-").replace("-",`<span class="arrow-icon"></span>`))))};t.prototype.SetValue=function(t){var r="",f=!1,u,i;t!==undefined&&t!=null&&this.divOptions.find("ul").children("[vl="+t+"]").length>0?r=this.divOptions.find("ul").children("[vl="+t+"]").text():(this.options.isallowfreevalue&&(u=this.selectText.children().val(),u.length>0&&(i=this.divOptions.children("ul").children("[vl="+u+"]"),i.length==0?(r=u,t=u):(i=i[0],r=i.text(),t=i.attr("vl")))),r.length==0&&(i=this.divOptions.children("ul").children("li.current:visible").length>0?n(this.divOptions.children("ul").children("li.current:visible")[0]):this.divOptions.children("ul").children("li:visible").length>0?n(this.divOptions.children("ul").children("li:visible")[0]):this.divOptions.children("ul").children(":nth-child(1)"),r=i.text(),t=i.attr("vl")));this.valueDefault==undefined&&(this.valueDefault=this.divOptions.find("li").first().attr("vl"));t==this.valueDefault?r=this.textDefault:t!=undefined&&(f=!0);f?(this.selectText.addClass("hasvalue"),this.selectText.parent().find(".custom-value").addClass("hasvalue"),this.isFilter&&this.displayText.addClass("hasvalue")):(this.selectText.removeClass("hasvalue"),this.isFilter&&this.displayText.removeClass("hasvalue"));this.Value.val(t);this.txtMaxValue!=null&&this.txtMaxValue.val("");this.txtMinValue!=null&&this.txtMinValue.val("")};CheckToCloseAll=function(){n(".select-control").removeClass("active");n(".advance-select-options:visible").length>=0&&n(".advance-select-options:visible").each(function(i,r){var u=n(r).attr("hddValue"),f;u!=undefined&&u.split(",").length>1&&(u=u.split(","));f={hddValue:u,id:n(r).attr("id"),minValue:n(r).attr("minValue"),maxValue:n(r).attr("maxValue"),maxValue:n(r).attr("maxValue"),ddlId:n(r).attr("ddlId"),unit:n(r).attr("unit"),lblMin:n(r).attr("lblMin"),lblMax:n(r).attr("lblMax"),currLevel:n(r).attr("currLevel")};new t(f).CheckToClose(!0)})};CheckToCloseFilter=function(){n(".fly-options.advance-select-options:visible").length>=0&&n(".fly-options.advance-select-options:visible").each(function(){n(this).hide()});n(".custom-dropbox-filter").hide()};AdvanceHiddenDropbox=function(i){function e(t,i){var f=i.keyCode?i.keyCode:i.which,r,u;f==13?(i.data.CheckToClose(),i.preventDefault()):(r=n(t).attr("decimal")=="true",u=numbersonly(t,i,r),u==!1&&i.preventDefault())}function o(t,r){r.data.UpdateTextValue();var u=n(t).val();n(t).attr("id")==i.minValue?r.data.minValue=parseFloat(u):r.data.maxValue=parseFloat(u);r.data.me.Value.val("");r.data.me.divOptions.find("ul").find("li").removeClass("active current");r.originalEvent&&r.originalEvent.isTrusted&&r.data._ChangeFunc!=null&&r.data._ChangeFunc(r.data._ChangeFuncScope)}var r=n(this),f,s,u;if(r.length==0)return null;i=n.extend(i,{ddlId:r.attr("id")});this.me=new t(i);i.css&&this.me.divOptions.css(i.css);f=window.navigator.userAgent;(i.autocomplete==!0||i.id=="divCityOptions"||i.id=="divDistrictOptions"||i.id=="divWardOptions"||i.id=="divStreetOptions"||i.id=="divProjectOptions"||i.id=="divCityCompareOptions"||i.id=="divDistrictCompareOptions"||i.id=="divWardCompareOptions"||i.id=="divStreetCompareOptions"||i.id=="divProjectCompareOptions")&&f.indexOf("MSIE")<0&&f.indexOf("Trident")<0&&r.attr("enable")!="false"&&(s=i.isrequired?" required":"");this.me.selectText.children(".select-text-content").off("keypress keydown keyup");this.me.labelText.on("click",this,function(t){if(r.attr("enable")!="false"){if(n(t.target).hasClass("filter-label")||(n(".fly-options").hide(),n(".select-text-content.icon-arrow-up").hide(),n(".custom-dropbox-filter").hide()),t.preventDefault(),t.stopPropagation(),t.data.me.selectText.children("input.select-text-content").length>0&&t.data.me.selectText.children("input.select-text-content").val(""),t.data.me.selectText.is(":visible")){if(n(this).parent().removeClass("active"),t.data.me.selectText.hide(),n(this).children().attr("readonly","true"),r.attr("id")!=="divBedRoom"&&r.attr("id")!=="divMedia"&&t.data.SetValue(),t.data.me.options.onClose!==undefined&&t.data.me.options.onClose!=null)t.data.me.options.onClose(2)}else n(".advance-select-options").hide(),n(".select-control").removeClass("active"),n(this).parent().addClass("active"),t.data.me.selectText.children("input.select-text-content").removeAttr("readonly"),t.data.me.selectText.show(),t.data.me.lstValue.removeClass("current"),t.data.me.lstValue.show(),t.data.me.Value.val().length>0&&(t.data.me.txtMaxValue==null||t.data.me.txtMaxValue.val().length==0)&&(t.data.me.txtMinValue==null||t.data.me.txtMinValue.val().length==0)&&t.data.me.divOptions.children("ul").children("[vl="+t.data.me.Value.val()+"]").addClass("current"),t.data.me.options.onShow!==undefined&&t.data.me.options.onShow!=null&&t.data.me.options.onShow(),n("body").bind("click",t.data,function(i){n(i.target).hasClass("advance-options")||n(i.target).parents(".advance-select-options").length>0?(i.preventDefault(),i.stopPropagation()):(t.data&&t.data.CheckToClose(),n("body").unbind("click"))}),n(window).bind("resize",function(){n("body").trigger("click")});return t.data.me.selectText.children("input.select-text-content").length>0&&t.data.me.selectText.children("input.select-text-content").focus(),n(this)}});this.me.selectText.children(".select-text-content").on("click",function(){if(i.isFilter){CheckToCloseFilter();n("#"+i.id).css("top",n(this).offset().top-n(".select-filter-dropbox").offset().top+108+"px");var t=n(window).height()-(n(this).offset().top+48);t<308?n("#"+i.id).css("max-height",t+"px"):n("#"+i.id).css("max-height","308px");n("#"+i.id).show();n("#"+i.id).find("li").css("display","block");n(this).removeAttr("readonly")}}).on("focus",function(){return n(this).data("before",n(this).val()),n(this).val(""),n(this)}).on("change",this,function(t){var i=t.data,r=UnicodeToKoDau(n(this).val()).trim().toLowerCase();r.length>0?n(i.me.lstValue).each(function(){var t=UnicodeToKoDau(n(this).text()).trim().toLowerCase();n(this).attr("vl")==""||n(this).attr("vl")=="0"||n(this).attr("vl")=="CN"||t.indexOf(r)<0?n(this).hide():n(this).show()}):n(i.me.lstValue).show()}).on("keydown",this,function(t){var r=t.keyCode?t.keyCode:t.which,s,i,f,e,c,a,l,u;if(r==13||r==9){try{i=t.data.me.divOptions.find("ul").children("li.current:visible");i.length==1?t.data._listValueItemClick(i):(s=t.data.me.divOptions.find("ul").children("li:visible"),s!==undefined&&s.length>0&&t.data._listValueItemClick(s[0]))}catch(v){}if(r==13)return t.preventDefault(),t.stopPropagation(),!1}else if(r==40||r==38)if(i=t.data.me.divOptions.find("ul").children("li:visible"),i.length>0){if(i=t.data.me.divOptions.find("ul").children("li.current:visible"),i.length>0){if(i=n(i[0]),i.removeClass("current"),r==40){for(f=i;f.hasClass("advance-options")&&f.next(":not(:visible)").length>0;)f=f.next();f.next(":visible").length>0&&(i=f.next())}else if(r==38){for(e=i;e.hasClass("advance-options")&&e.prev(":not(:visible)").length>0;)e=e.prev();e.prev(":visible").length>0&&(i=e.prev())}}else t.data.me.divOptions.find("ul").children("li").removeClass("current"),i=n(t.data.me.divOptions.find("ul").children("li:visible")[0]);if(i!==undefined&&i.length>0){i.addClass("current");n(this).val(i.text().trim());var l=t.data.me.divOptions.find("ul").children("li:first").outerHeight(),h=t.data.me.divOptions.height()-l,y=i.siblings(":visible").andSelf().index(i),o=0;for(c=1;c<i.index()+1;c++)o+=t.data.me.divOptions.find("ul").children("li:nth-child("+c+")").outerHeight();r==40?t.data.me.divOptions.scrollTop()+h<o&&(t.data.me.divOptions.scrollTop(o-h),t.data.me.divOptions.hasClass("mCustomScrollbar")&&t.data.me.divOptions.mCustomScrollbar("scrollTo",o-h)):t.data.me.divOptions.scrollTop()>o&&(t.data.me.divOptions.scrollTop(o),t.data.me.divOptions.hasClass("mCustomScrollbar")&&t.data.me.divOptions.mCustomScrollbar("scrollTo",o-h))}}else t.data.me.selectText.trigger("click");else r==35?(a=t.data.me.divOptions.children("ul").children("li").length,l=t.data.me.divOptions.children("ul").children("li:first").outerHeight(),t.data.me.divOptions.children("ul").scrollTop(a*l),u=t.data.me.divOptions.children("ul").children("li"),u.length>0&&(n(u).removeClass("current"),n(u[u.length-1]).addClass("current"))):r==36&&(t.data.me.divOptions.children("ul").scrollTop(0),u=t.data.me.divOptions.children("ul").children("li"),u.length>0&&(n(u).removeClass("current"),n(u[0]).addClass("current")));return!0}).on("keyup",function(t){var i=t.keyCode?t.keyCode:t.which;return i==13?(t.preventDefault(),t.stopPropagation()):i==9?n(this).val().length==0&&t.data._listValueItemClick(cur):i!=40&&i!=38&&n(this).data("before")!==n(this).val()&&(n(this).data("before",n(this).val()),n(this).trigger("change")),!0}).on("keypress",function(n){var r=n.keyCode?n.keyCode:n.which,t;return(r==13&&(n.preventDefault(),n.stopPropagation()),i.isnumberonly)?(t=n.which?n.which:event.keyCode,t>31&&(t<48||t>57))?!1:!0:!0}).on("blur",this,function(){}).on("paste input",function(){return n(this).data("before")!==n(this).val()&&(n(this).data("before",n(this).val()),n(this).trigger("change")),n(this)});return this.minValue=0,this.maxValue=0,this.me.txtMinValue!=null&&(this.me.txtMinValue.bind("keydown",this,function(n){e(this,n)}),this.me.txtMinValue.bind("keyup",this,function(n){o(this,n)}),this.me.txtMinValue.bind("focus",this,function(){n(this).attr("placeholder","")}),this.me.txtMinValue.bind("blur",this,function(){n(this).attr("placeholder","Từ")})),this.me.txtMaxValue!=null&&(this.me.txtMaxValue.bind("keydown",this,function(n){e(this,n)}),this.me.txtMaxValue.bind("keyup",this,function(n){o(this,n)}),this.me.txtMaxValue.bind("focus",this,function(){n(this).attr("placeholder","")}),this.me.txtMaxValue.bind("blur",this,function(){n(this).attr("placeholder","Đến")})),this.ShowOptions=function(){this.me.selectText.trigger("click")},this.CheckToClose=function(n){return n===undefined&&(n=this.me),n.CheckToClose()},this.UpdateTextValue=function(n){n===undefined&&(n=this.me);n.UpdateTextValue()},this.UpdateOptions=function(t,r){if(r!=undefined&&typeof r=="number"){for(var u=r+1;u<=this.me.maxLevel;u++)n("#"+i.hddValue[u-1]).val("");this.me.currLevel=r;this.me.Value=n("#"+i.hddValue[r-1]);this.me.divOptions.attr("currLevel",r)}r>1?(this.me.divOptions.find("ul").html(t),this.me.lstValue=this.me.divOptions.find("ul").children()):(this.me.divOptions.find("ul").html(t),this.me.lstValue=this.me.divOptions.find("ul").children());this.BindOptionEvent()},this.SetValue=function(n,t){t===undefined&&(t=this.me);t.SetValue(n)},this.GetValue=function(t){if(t===undefined)return this.me.Value.val();var i=this.me.divOptions.children("ul").children("[vl="+this.me.Value.val()+"]");if(i.length>0||(i=this.me.divOptions.children("ul").children(".current"),i.length>0))return n(i[0]).attr(t)},this.GetValueAtLevel=function(t){if(t>0&&t<=this.me.maxLevel)return n("#"+i.hddValue[t-1]).val()},this.GetCurrentLevel=function(){return this.me.currLevel},this.GetMaxValue=function(){return this.me.txtMaxValue!=null?this.me.txtMaxValue.val():""},this.GetMinValue=function(){return this.me.txtMinValue!=null?this.me.txtMinValue.val():""},this.CheckValue=function(n){return this.me.divOptions.children("ul").children("li[vl="+n+"]").length>0},this.GetOptions=function(){var t=[];return this.me.divOptions.children("ul").children("li").each(function(){t.push({value:n(this).attr("vl"),text:n(this).text()})}),t},this.GetText=function(){return this.me.options.id=="divAreaOptions"||this.me.options.id=="divPriceOptions"?this.me.displayText.html().replace(/<img[^>]*>/g,"-"):this.me.displayText.text()},this.ResetOption=function(n){this.SetValue(n);this.me.defaultText!=undefined&&this.me.defaultText.length>0?this.me.displayText.text(this.me.defaultText):this.me.displayText.text(this.me.divOptions.children("ul").children("[vl="+n+"]").text());this.me.divOptions.children("ul").children("li").removeClass("active").removeClass("current");this.me.divOptions.children("ul").children("[vl="+n+"]").addClass("current")},this.BindOptionEvent=function(){this.me.lstValue.bind("click",this,function(t){t.originalEvent&&t.originalEvent.isTrusted&&t.data._listValueItemClick(n(this))})},this._listValueItemClick=function(t){var r,o,s,e,u,f;if(this.me.divOptions.find("li").removeClass("active"),t.addClass("active"),r=t.attr("vl"),this.me.siblingId!=undefined&&(this.me.siblingId.find("li").removeClass("active"),this.me.siblingId.find("ul").children("[vl="+r+"]").addClass("active")),o=t.attr("opt")=="all",this.me.valueDefault==undefined&&(this.me.valueDefault=this.me.divOptions.find("li").first().attr("vl")),s=r!=this.me.valueDefault,this.me.Value.val(r),this.me.txtMinValue!=null&&this.me.txtMaxValue!=null&&(this.me.txtMinValue.val(""),this.me.txtMaxValue.val("")),s?(this.me.selectText.addClass("hasvalue"),this.me.selectText.parent().find(".custom-value").addClass("hasvalue")):(this.me.selectText.removeClass("hasvalue"),this.me.selectText.parent().find(".custom-value").removeClass("hasvalue")),e=i.id,e=="divAreaOptions"||e=="divPriceOptions"?(u=t.html(),r!="0"&&r!="-1"||r==="0"&&e==="divPriceOptions"||this.me.defaultText!=undefined&&this.me.defaultText.length>0&&(u=this.me.defaultText),this.me.displayText.html(u)):o?(u=this.me.selectText.children(".city-root").children("a").text(),this.me.displayText.text(u)):(u=t.text(),r=="0"||r=="-1"||r=="CN"?(this.me.defaultText!=undefined&&this.me.defaultText.length>0&&(u=this.me.defaultText),this.me.isFilter&&this.me.displayText.removeClass("hasvalue")):this.me.isFilter&&this.me.displayText.addClass("hasvalue"),this.me.displayText.text(u),this.me.isFilter&&(this.me.selectText.children("input.select-text-content").hide(),this.me.displayText.show()),this.me.siblingText!=undefined&&this.me.siblingText.text(u)),f=!0,this._ChangeFunc!=null&&(f=this._ChangeFunc(this._ChangeFuncScope)),o&&(f=!0),(f==undefined||f==!0)&&(n("body").unbind("click"),this.me.displayText.parent().parent().removeClass("active"),this.me.isFilter==!0?this.me.divOptions.hide():this.me.selectText.hide(),this.me.options.onClose!==undefined&&this.me.options.onClose!=null))this.me.options.onClose(3)},this._ChangeFunc=null,this._ChangeFuncScope=null,this.BindChangeEvent=function(n,t){this._ChangeFunc=t;this._ChangeFuncScope=n},this._GoNextEventFunc=null,this._GoNextEventScope=null,this.BindTabEvent=function(n,t){this._TabEventFunc=t;this._TabEventScope=n},this.BindOptionEvent(),this.me.txtMaxValue!=null&&this.me.txtMinValue!=null&&(this.me.txtMaxValue.val().length>0||this.me.txtMinValue.val().length>0)?this.UpdateTextValue():this.me.divOptions.children("ul").children(".current").length>0?(u=this.me.divOptions.children("ul").children(".current").attr("vl"),this.SetValue(u)):i.isallowfreevalue?(u=this.me.selectText.children().val(),this.SetValue(u)):(u=this.me.divOptions.children("ul").children(":first").attr("vl"),this.SetValue(u)),this};AdvanceHiddenDropbox.getValueById=function(){};n.fn.AdvanceHiddenDropbox=AdvanceHiddenDropbox;n.fn.AdvanceHiddenDropbox.getValueById=AdvanceHiddenDropbox.getValueById;n.CheckToCloseAllAdvanceHiddenDropbox=CheckToCloseAll}(jQuery);var cm=new CommonJS.Common,captcha=new CaptchaJS.CommonCaptcha,fengShuiSendMail={};(function(){fengShuiSendMail.FengShuiSendMail=function(){function f(n){if($(n.lnkSendEmail).removeAttr("onclick"),getCookie("userinfo")!==undefined&&getCookie("userinfo")!==""&&getCookie("userinfo")!==null&&getCookie("userinfo")!=="null"){var f=$("#staticDomain").data("content"),t=$("#domainUserInfo").data("value")+"/HandlerWeb/UserHandler.ashx?type=getuserstatus",u={type:"GET",dataType:"json",url:t,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(n){n!=null&&n.email!==""&&n.email!=undefined&&(i=n.email,r=n.name)},error:function(){}};cm.AjaxWrapper(u)}$(n.lnkSendEmail).click(function(){s(n)});btnSendMail=n.btnSendMail;formSubmitSendMail=n.formSubmitSendMail}function e(){captcha.GetCaptcha("secodeRegister","hddSecodeRegister");$("#reloadCaptchaRegister").click();$("#reloadCaptchaRegister").click(function(){captcha.GetCaptcha("secodeRegister","hddSecodeRegister")});$("#btnSendMail").click(function(){$("#formSubmitSendMail").submit()})}function o(){var i;if(n="",$(".field-validation-error, .field-validation-valid").each(function(){n+=$(this).html();n.replace("undefined","")}),i=n.length,i===0){var r=t!=null?t:"Gửi bài cho bạn bè",u={style:"static",classClose:"fancybox-item fancybox-close new2019",classHeader:"newsletter-register sendMail",classFooter:"col center",title:'<div class="news-text sendMail" id="newsletter-title">'+r+"<\/div>",width:660,height:320,content:'<div id="success">Thông tin của bạn đã được gửi thành công. Cảm ơn bạn đã sử dụng!<\/div >'};cm.ShowDialog(u);$(".close").click(function(){cm.ModalEvent($("#dialogPopup"),"hide")})}$("input").blur(function(){var n=$(this).attr("name");$('.field-validation-error[data-valmsg-for="'+n+'"]').html("")})}function s(n){t=n.tilePopup!=null?n.tilePopup:"Gửi bài cho bạn bè";var f={classClose:"fancybox-item fancybox-close new2019",classHeader:"newsletter-register sendMail",classFooter:"col center",title:'<div class="news-text sendMail" id="newsletter-title">'+t+"<\/div>",width:660,url:u+n.urlSendMail,type:"GET",data:{detailUrl:n.detailUrl,email:i,name:r}};cm.ShowDialog(f)}var i="",r="",n="",u=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"",h=$("#staticDomain").data("msvrouter-personal")!==undefined?$("#staticDomain").data("msvrouter-personal"):"",t;return{Initialize:f,InitializeContent:e,ResultFormSendMail:o}}})(fengShuiSendMail);window.FrontEnd||(window.FrontEnd={});FrontEnd.BoxSearch=function(n){var t=new CommonJS.Common,i=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"";this.GetData=function(){function f(n,t){return Math.round(n.getTime()-t.getTime())/6e4}var u,r;return localStorage&&(u=localStorage.getItem(n.boxSearchDataCacheKey),u&&(r=JSON.parse(u),r&&r.lastAsync&&f(new Date,new Date(r.lastAsync))<=n.boxSearchDataCacheTime))?new Promise(function(n){return n(r)}):t.AjaxWrapperWithPromise({method:"GET",url:`${i}${n.getDataForBoxSearchUrl}`}).then(function(t){return t.lastAsync=new Date,localStorage?(localStorage.setItem(n.boxSearchDataCacheKey,JSON.stringify(t)),t):void 0})}};window.FrontEnd||(window.FrontEnd={});FrontEnd.SearchingHistoriesServices=function(n){function h(){var n=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(n)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(n)?"mobile":"desktop"}function e(){var n=new Date;return n.toUTCString()}function r(n){if(localStorage){var i=JSON.stringify(n);localStorage.setItem(t,i)}}function o(){var i=[],n;return localStorage&&(n=localStorage.getItem(t),n&&(i=JSON.parse(n))),i}function c(i){if(localStorage){var f=localStorage.getItem(t),u;for(u=f?JSON.parse(f):[],u=u.filter(function(n){return JSON.stringify(n.searchingInfos)!==JSON.stringify(i)}),u.push({searchingInfos:i,platform:h(),saveTime:e()});u.length>(n.maxLength||20);)u.shift();r(u)}}function s(n){if(localStorage){var u=localStorage.getItem(t),i;i=u?JSON.parse(u):[];i=i.filter(function(t,i){return i!=n});r(i)}}function l(){var n;if(localStorage&&(n=localStorage.getItem(i),n))return new Date(n)}function a(){localStorage&&localStorage.setItem(i,e())}function v(n,t){return Math.round(n.getTime()-t.getTime())/6e4}var t="SEARCHING_HISTORIES",i="SEARCHING_HISTORIES_SYNC_TIME",u=new CommonJS.Common,f=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"";this.GetSearchingHistories=function(){return new Promise(function(n){n(o())})};this.SyncSearchingHistories=function(t){var i=l(),e;(i==null||i!=null&&v(new Date,i)>=n.syncTimeSearchingHistories)&&(e=o(),t.userid&&u.AjaxWrapperWithPromise({type:"POST",url:`${f}${n.syncSearchingHistoriesUrl}?userId=${t.userid}`,data:{searchingHistories:e}}).then(function(n){r(n)}),a())};this.AddSearchingHistory=function(n){return new Promise(function(t){c(n);t()})};this.RemoveSearchingHistory=function(t,i){return getCookie("userinfo")&&i?u.AjaxWrapperWithPromise({type:"POST",url:`${f}${n.removeSearchingHistoryUrl}?id=${i}`}).then(function(n){return n&&s(t),n}):new Promise(function(n){s(t);n(!0)})};this.RemoveAllSearchingHistoiesInLocal=function(){localStorage&&(localStorage.removeItem(t),localStorage.removeItem(i))}};window.FrontEnd||(window.FrontEnd={});FrontEnd.YourLocationServices=function(){function r(i,r){return new Promise(function(u,f){$.post(n,{type:"getward2",lat:i,lon:r},function(n){n?u({cityCode:n.CityCode,districtId:n.DistrictId,wardId:n.WardId,streetId:0,projectId:0}):t().then(u).catch(f(ex))})})}function t(){return new Promise(function(n,t){try{$.ajax({url:"https://api.ipify.org?format=jsonp&callback=?",dataType:"jsonp"}).done(function(r){i(r.ip).then(n,t)}).fail(function(){i("").then(n,t)})}catch(r){t(r)}})}function i(t){return new Promise(function(i,r){try{$.post(n,{type:"getward3",ip:t},function(n){i({cityCode:n.CityCode})})}catch(u){r(u)}})}var n="https://apimap.batdongsan.com.vn/api/map_sync";this.GetYourLocation=function(){return new Promise(function(n,i){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){return r(t.coords.latitude,t.coords.longitude).then(n).catch(function(n){n&&console.log(n)})},function(){i()},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):t().then(n).catch(function(n){n&&console.log(n)})})}};window.FrontEnd||(window.FrontEnd={});FrontEnd.MarkingProductsServices=function(){function r(n,t,i){var r=[{prop:t?"priceSort":"areaSort",direction:-1},{prop:"dateSort",direction:1}];return n.sort(function(n,t){for(var u=0,o=0,s=i?Number.MIN_VALUE:Number.MAX_VALUE,f=0,e=0;u<r.length&&o===0;)o=0,f=0,e=0,u==0?(f=n[r[u].prop]>0?n[r[u].prop]:s,e=t[r[u].prop]>0?t[r[u].prop]:s,o+=i?r[u].direction*(f<e?-1:f>e?1:0):r[u].direction*(f>e?-1:f<e?1:0)):u==1&&(o+=r[u].direction*(new Date(n[r[u].prop])>new Date(t[r[u].prop])?-1:new Date(n[r[u].prop])<new Date(t[r[u].prop])?1:0)),u++;return o})}function o(n,t){return Math.round(n.getTime()-t.getTime())/36e5}function n(){if(localStorage&&(listProductSaveAsString=localStorage.getItem(t),listProductSaveAsString)){var n=JSON.parse(listProductSaveAsString);return n||[]}return[]}function s(){var r,s;return localStorage?(r=localStorage.getItem(u),r&&o(new Date,new Date(r))<i.markedProductsSyncTime?new Promise(function(t){t(n())}):(s=n().map((n,t)=>`productIds[${t}]=${n.productId}`).join("&"),f.AjaxWrapperWithPromise({method:"GET",url:`${e}${i.getMarkedProductsByIdsUrl}?${s}`}).then(function(i){var r=n();return i.forEach(n=>{var t=r.filter(t=>t.productId===n.productId);t.length&&(n.oId=t[0].oId,n.url||(n.url=t[0].url),n.saveTime||(n.saveTime=t[0].saveTime))}),i.sort((n,t)=>new Date(t.saveTime).getTime()-new Date(n.saveTime).getTime()),localStorage.setItem(u,new Date),localStorage.setItem(t,JSON.stringify(i)),i}))):new Promise(function(n){n([])})}var t="MARKED_PRODUCTS",u="MARKED_PRODUCTS_SYNC_TIME",i=JSON.parse($("script[marking-product-service-params]").attr("marking-product-service-params")),f=new CommonJS.Common,e=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"";this.MarkOrUnmarkProduct=function(r){return new Promise(function(u){var o=n(),s=o.filter(n=>n.productId===r.productId);s.length>0?(o=o.filter(n=>n.productId!==r.productId),getCookie("userinfo")&&s[0].oId?f.AjaxWrapperWithPromise({type:"POST",url:`${e}${i.unmarkProductUrl}?oId=${s[0].oId}`}).then(function(i){i?(localStorage&&o&&localStorage.setItem(t,JSON.stringify(o)),u({marked:!1,markedProductsCount:o.length})):u({marked:!0,markedProductsCount:n().length})}):(localStorage&&o&&localStorage.setItem(t,JSON.stringify(o)),u({marked:!1,markedProductsCount:o.length}))):(o.length>i.listingLimit-1&&o.pop(),r.saveTime=(new Date).toUTCString(),o.unshift(r),localStorage&&o&&(o.sort((n,t)=>new Date(t.saveTime).getTime()-new Date(n.saveTime).getTime()),localStorage.setItem(t,JSON.stringify(o))),u({marked:!0,markedProductsCount:o.length}))})};this.GetMarkedProductsFromLocal=function(){return new Promise(function(t){t(n())})};this.GetMarkedProducts=function(n){return s().then(function(t){return t.length&&n&&(n==5?t=r(t,!1,!0):n==4?t=r(t,!1,!1):n==3?t=r(t,!0,!0):n==2?t=r(t,!0,!1):n==1&&(t=t.sort((n,t)=>{let i=new Date(n.dateSort),r=new Date(t.dateSort);return r-i}))),t})}};SearchingHistoriesServices=FrontEnd.SearchingHistoriesServices;YourLocationServices=FrontEnd.YourLocationServices,function(n){(function t(n){if(window.jQuery&&window.AdvanceHiddenDropbox&&$.fn.slider){var i=!!document.documentMode;n.BoxProductSearchBinnova=function(n){function it(n){var t="";ht(n);t+=n===38?`<ul>
                                    <li vl="0"><span class="active current">Tất cả nhà đất</span></li>
                                    <li vl="324"><span>Căn hộ chung cư</span></li>
                                    <li vl="362"><span>Các loại nhà bán</span>
                                        <ul>
                                            <li vl="41"><span>Nhà riêng</span></li>
                                            <li vl="325"><span>Nhà biệt thự, liền kề</span></li>
                                            <li vl="163"><span>Nhà mặt phố</span></li>
                                        </ul>
                                    </li>
                                    <li vl="361"><span>Các loại đất bán</span>
                                        <ul>
                                            <li vl="40"><span>Đất nền dự án</span></li>
                                            <li vl="283"><span>Bán đất</span></li>
                                        </ul>
                                    </li>
                                    <li vl="44"><span>Trang trại, khu nghỉ dưỡng</span></li>
                                    <li vl="45"><span>Kho, nhà xưởng</span></li>
                                    <li vl="48"><span>Bất động sản khác</span></li>
                                </ul>`:`<ul>
                                    <li vl="0"><span class="active current">Tất cả nhà đất</span></li>
                                    <li vl="326"><span>Căn hộ chung cư</span></li>
                                    <li vl="52"><span>Nhà riêng</span></li>
                                    <li vl="51"><span>Nhà mặt phố</span></li>
                                    <li vl="57"><span>Nhà trọ, phòng trọ</span></li>
                                    <li vl="50"><span>Văn phòng</span></li>
                                    <li vl="55"><span>Cửa hàng, ki ốt</span></li>
                                    <li vl="53"><span>Kho, nhà xưởng, đất</span></li>
                                    <li vl="59"><span>Bất động sản khác</span></li>
                                </ul>`;$("#divCate").html(t);$(".select-cate").find(".custom-value").text("Tất cả");$(".select-cate").find(".custom-value").removeClass("hasvalue");$("#hdCboCatagory").val(0);$(".price-control").find(".custom-value").text("Tất cả");o.SetValueExtension(-1);$(".custom-dropbox-cate").find("li").click(function(n){$(".select-cate").find(".custom-dropbox-cate").hide();$(".custom-dropbox-cate").find("li").find("span").removeClass("active current");$(this).children("span").addClass("active current");var t=parseInt($(this).attr("vl"));t>0?($(".select-cate").find(".custom-value").text($(this).children("span").text()),$(".select-cate").find(".custom-value").addClass("hasvalue"),$(".select-cate").removeClass("active")):($(".select-cate").find(".custom-value").text("Tất cả"),$(".select-cate").removeClass("active"),$(".select-cate").find(".custom-value").removeClass("hasvalue"));n.preventDefault();n.stopPropagation();$("#hdCboCatagory").val(t)});w.val(n)}function ht(t){var i=[],r;t===38?(i=n.prices[0],$("#price-slider-range").slider({range:!0,orientation:"horizontal",min:0,max:3e4,values:[0,3e4],step:100,slide:function(n,t){if(t.values[0]===t.values[1])return!1;$("#txtPriceMinValue").val(t.values[0]);$("#txtPriceMaxValue").val(t.values[1]);$("#txtPriceMinValue").trigger("keyup");$("#txtPriceMaxValue").trigger("keyup")}})):t===49&&(i=n.prices[1],$("#price-slider-range").slider({range:!0,orientation:"horizontal",min:0,max:100,values:[0,100],step:.5,slide:function(n,t){if(t.values[0]===t.values[1])return!1;$("#txtPriceMinValue").val(t.values[0]);$("#txtPriceMaxValue").val(t.values[1]);$("#txtPriceMinValue").trigger("keyup");$("#txtPriceMaxValue").trigger("keyup")}}));r=`<li vl="-1" class="advance-options">Tất cả</li>`;r+=i.map(n=>`<li vl="${n.value}" class="advance-options">${n.name.replace(` - `,`<span class="arrow-icon"></span>`)}</li>`).join("");o.UpdateOptions(r);o.SetValueExtension(-1)}function ft(){return $(this).find("li").removeClass("current"),s(),!1}function s(){var n=0;u.GetValue()>0?n+=1:$("#divBedRoomOptions ul").children("[vl=-1]").removeClass("active");r.GetValue()>0&&(n+=1);i.GetValue()>0&&(n+=1);c.GetValue()>0&&(n+=1);f.GetValue()>0?n+=1:$("#divMediaOptions ul").children("[vl=0]").removeClass("active");n>0?($(".filter-info .icon-number").text(n),$(".filter-info .icon-number").css("display","inline-block"),$(".filter-info .icon-filter").hide()):($(".filter-info .icon-number").text(""),$(".filter-info .icon-number").hide(),$(".filter-info .icon-filter").show())}function et(){$(".advance-select-options").hide();$(".select-control").removeClass("active");$(".select-text-content.icon-arrow-up").hide();$(".select-filter-dropbox").hide();$("#hdbFilter").val("0")}function ct(){var t=$("header").outerHeight()+$(".search-bar").outerHeight(),f=$(".select-filter-dropbox").outerHeight(),i=8,e=t+f+i,r=$(window).height(),u,n;e>r?(u=32,n=r-(t+i+u),$(".custom-scroll-outside").css("max-height",n-56+"px"),$(".select-filter-dropbox").css("height",n+"px")):($(".custom-scroll-outside").css("max-height","460px"),$(".select-filter-dropbox").css("height","516px"))}var w=$("#type"),t=$("#divCity").AdvanceHiddenDropbox({id:"divCityOptions",hddValue:["hdCboCity","hdCboDistrict"],defaultText:"Toàn quốc"}),r=$("#divWard").AdvanceHiddenDropbox({id:"divWardOptions",hddValue:"hdCboWard",isFilter:!0}),i=$("#divStreet").AdvanceHiddenDropbox({id:"divStreetOptions",hddValue:"hdCboStreet",isFilter:!0}),u=$("#divBedRoom").AdvanceHiddenDropbox({id:"divBedRoomOptions",hddValue:"hdCboBedRoom"}),f=$("#divMedia").AdvanceHiddenDropbox({id:"divMediaOptions",hddValue:"hdCboMedia"}),c=$("#divHomeDirection").AdvanceHiddenDropbox({id:"divHomeDirectionOptions",hddValue:"hdCboHomeDirection",isFilter:!0}),e=$("#divProjects").AdvanceHiddenDropbox({id:"divProjectsOptions",hddValue:"hdCboProjects",defaultText:"Tất cả"}),o=$("#divPrice").AdvanceHiddenDropbox({id:"divPriceOptions",minValue:"txtPriceMinValue",maxValue:"txtPriceMaxValue",unit:"money",lblMin:"lblPriceMin",lblMax:"lblPriceMax",hddValue:"hdCboPrice",defaultText:"Tất cả"}),h=$("#divArea").AdvanceHiddenDropbox({id:"divAreaOptions",minValue:"txtAreaMinValue",maxValue:"txtAreaMaxValue",unit:"area",hddValue:"hdCboArea",defaultText:"Tất cả"}),rt="Toàn quốc",d="CN",g="Tất cả",v=0,b="Tất cả phường, xã",l=0,nt="Tất cả đường, phố",y=0,tt=new SearchingHistoriesServices({maxLength:n.maxSearchingHistoriesLength,syncTimeSearchingHistories:n.syncTimeSearchingHistories,syncSearchingHistoriesUrl:n.syncSearchingHistoriesUrl,removeSearchingHistoryUrl:n.removeSearchingHistoryUrl}),p="SEARCHING_HISTORY",a,ot=new YourLocationServices,k="YOUR_LOCATION",ut="Tìm bất động sản gần bạn",st=function(){function a(){var f,w,u,vt,ct;if(ot(),t){if(t.GetCurrentLevel()===1){p();var st=t.GetValue()+"",yt=t.GetText()+"",at=`<li vl="0" opt="all" class="advance-options active level">Tất cả quận, huyện</li>`,ut=`<li vl="${v}" class="advance-options">${g}</li>`,et=`<li vl="${y}" class="advance-options">${nt}</li>`,lt=`<li vl="${l}" class="advance-options">${b}</li>`,o=[],c=[],it=[],h=[];for(f=0;f<n.cities.length;f++)if(n.cities[f].code===st){for(o=n.cities[f].districts,w=0;w<o.length;w++)o[w].order=o[w].id,st==="HN"&&(o[w].id===718?o[w].order=15:o[w].id>15&&(o[w].order=o[w].id+1));o=o.sort(function(n,t){return n.order>t.order?1:-1});break}for(f=0;f<o.length;f++){for(at+=`<li vl="${o[f].id}" class="advance-options level">${o[f].name}</li>`,it=o[f].projects,u=0;u<it.length;u++)c.push(it[u]);for(h=o[f].streets,h=h.sort(k),u=0;u<h.length;u++)et+=`<li vl="${h[u].id}" class="advance-options">${h[u].name}</li>`}for(c.sort(ft("name")),u=0;u<c.length;u++)ut+=`<li vl="${c[u].id}" class="advance-options">${c[u].name}</li>`;return(e.UpdateOptions(ut),e.SetValueExtension(v),i.UpdateOptions(et),i.SetValueExtension(y),r.UpdateOptions(lt),r.SetValueExtension(l),s(),st!=="CN")?(t.UpdateOptions(at,2),$("#divCityOptions").mCustomScrollbar("scrollTo","top"),t.children("#select-context-content").attr("placeholder","Tìm Quận/ Huyện").val(""),$(".city-root").html(`<a href='javascript:void(0)' vl="0" city="${st}" class="advance-options level">${yt}</li>`),$(".city-root").show(),$(".city-root a").click(function(){t.SetValueExtension(0);a()}),!1):(ht(),!0)}if(vt=+t.GetValue(),vt===0){for(p(),city=$(".city-root a").attr("city"),$(".city-root").hide(),t.children("#select-context-content").attr("placeholder","Tìm Tỉnh/ Thành phố").val(""),ct=`<li vl="${d}" class="advance-options">${rt}</li>`,o=[],c=[],it=[],h=[],f=0;f<n.cities.length;f++)n.cities[f].code===city?(o=n.cities[f].districts.sort(function(n,t){return n.order>t.order?1:-1}),ct+=`<li vl="${n.cities[f].code}" class="advance-options adv-arrow active current">${n.cities[f].name}</li>`):ct+=`<li vl="${n.cities[f].code}" class="advance-options adv-arrow">${n.cities[f].name}</li>`;for(t.UpdateOptions(ct,1),t.SetValueExtension(city),ut=`<li vl="${v}" class="advance-options">${g}</li>`,et=`<li vl="${y}" class="advance-options">${nt}</li>`,lt=`<li vl="${l}" class="advance-options">${b}</li>`,f=0;f<o.length;f++){for(it=o[f].projects,u=0;u<it.length;u++)c.push(it[u]);for(h=o[f].streets,h=h.sort(k),u=0;u<h.length;u++)et+=`<li vl="${h[u].id}" class="advance-options">${h[u].name}</li>`}for(c.sort(ft("name")),u=0;u<c.length;u++)ut+=`<li vl="${c[u].id}" class="advance-options">${c[u].name}</li>`;return e.UpdateOptions(ut),e.SetValueExtension(v),i.UpdateOptions(et),i.SetValueExtension(y),r.UpdateOptions(lt),r.SetValueExtension(l),s(),!1}return tt()}return!0}function tt(){var it,a,f,u,w,d,tt;if(t){for(it=t.GetValueAtLevel(1),a=+t.GetValueAtLevel(2),p(),a>0&&st(),f=0;f<n.cities.length;f++)if(n.cities[f].code===it)for(u=0;u<n.cities[f].districts.length;u++)if(n.cities[f].districts[u].id===a){var c=n.cities[f].districts[u].projects,o=n.cities[f].districts[u].wards,h=n.cities[f].districts[u].streets;break}if(c){for(w=`<li vl="${v}" class="advance-options">${g}</li>`,u=0;u<c.length;u++)w+=`<li vl="${c[u].id}" class="advance-options">${c[u].name}</li>`;e.UpdateOptions(w);e.SetValueExtension(0)}if(o){for(h=h.sort(k),d=`<li vl="${y}" class="advance-options">${nt}</li>`,u=0;u<h.length;u++)d+=`<li vl="${h[u].id}" class="advance-options">${h[u].name}</li>`;i.UpdateOptions(d);i.SetValueExtension(0)}if(h){for(o=o.sort(lt),tt=`<li vl="${l}" class="advance-options">${b}</li>`,u=0;u<o.length;u++)tt+=`<li vl="${o[u].id}" class="advance-options">${o[u].name}</li>`;r.UpdateOptions(tt);r.SetValueExtension(l,b)}s()}return!0}function ot(){$("#divWard").attr("role","tooltip");$("#divStreet").attr("role","tooltip");$(".project-control").attr("role","tooltip")}function st(){$("#divWard").attr("role","");$("#divStreet").attr("role","");$(".project-control").attr("role","")}function ht(){$("#divStreet").attr("role","tooltip");$(".project-control").attr("role","tooltip")}function p(){$("#divStreet").attr("role","");$(".project-control").attr("role","")}function it(){s()}function w(){s()}function ut(){$(".project-control").is(":visible")||s()}function ct(n,l){var v=et();return(t.UpdateOptions(v,1),t.SetValueExtension(d),u.SetValueExtension(-1),c.SetValueExtension(-1),o.SetValueExtension(-1),h.SetValueExtension(-1),f.SetValueExtension(0),!n)?(a(),new Promise(function(n){n()})):(n.cityCode&&(t.SetValueExtension(n.cityCode),a()),n.districtId&&(t.SetValueExtension(n.districtId),tt()),n.wardId&&(r.SetValueExtension(n.wardId),it()),n.streetId&&(i.SetValueExtension(n.streetId),w()),n.projectId&&(e.SetValueExtension(n.projectId),ut()),s(),l&&showFillterSearch(),new Promise(function(n){n()}))}function k(n,t){return n.id>t.id?1:-1}function lt(n,t){return n.name>t.name?1:-1}function ft(n){var t=1;return n[0]==="-"&&(t=-1,n=n.substr(1)),function(i,r){var u=i[n]<r[n]?-1:i[n]>r[n]?1:0;return u*t}}function et(){var t=`<li vl="${d}" class="advance-options adv-arrow">${rt}</li>`;return n.cities&&n.cities.length&&(t+=n.cities.map(n=>`<li vl="${n.code}" class="advance-options adv-arrow">${n.name}</li>`).join("")),t}return function(){if(t){var n=et();t.UpdateOptions(n);t.BindChangeEvent(t,a)}r&&r.BindChangeEvent(r,it);i&&i.BindChangeEvent(i,w);i&&i.BindChangeEvent(i,w);e&&e.BindChangeEvent(e,ut)}(),{ChangeLocation:ct}};(function(){$("#divWardOptions").mCustomScrollbar();$("#divStreetOptions").mCustomScrollbar();$("#divProjectsExtOptions").mCustomScrollbar(),function(){function n(n){if(n<=0)return"0 đồng";n=Math.round(n*10)/10;var i="",t=0;return n>=1e9&&(t=Math.floor(n/1e9),i+=t+" tỷ ",n=n-t*1e9),n>=1e6&&(t=Math.floor(n/1e6),i+=t+" triệu ",n=n-t*1e6),n>=1e3&&(t=Math.floor(n/1e3),i+=t+" nghìn ",n=n-t*1e3),n=Math.floor(n),n>0&&(i+=n+" đồng"),i.trim()}window.GetMoneyText2=function(t){t=Math.round(t*10)/10;var i=0;return t>=1e9?(i=t/1e9,i+" tỷ "):t>=1e6?(i=t/1e6,i+" triệu "):n(t)}}(),function(){$.fn.SetValueExtension=function(n){var t,i,r;this.SetValue(n);$(this).find("ul").length>0?(t=$(this).find(`li.advance-options[vl="${n}"]`).html(),t&&($(this).find(`li.advance-options[vl]`).removeClass("active"),$(this).find(`li.advance-options[vl="${n}"]`).addClass("active"),this.me.displayText.html(t),this.me&&this.me.displayText&&this.me.displayText.html()&&this.me.displayText.html().indexOf("Tất cả")<0&&this.me.displayText.html().indexOf("Toàn quốc")<0?this.me.displayText.addClass("hasvalue"):this.me.displayText.removeClass("hasvalue"),this.me.isFly&&this.me.alterControl&&this.me.alterControl.children().find("span").text(t))):(i=$(this).attr("id"),r=$(`[ddlid="${i}"]`).find(`li[vl="${n}"]`).html(),r&&($(`[ddlid="${i}"]`).find(`li.advance-options[vl]`).removeClass("active"),$(`[ddlid="${i}"]`).find(`li.advance-options[vl="${n}"]`).addClass("active"),$(this).find(".filter-label span").html(r)))}}();$(".custom-scroll").mCustomScrollbar();$(".custom-scroll-outside").mCustomScrollbar({scrollbarPosition:"outside"});it(+$(".search-bar-tab li.actived").attr("ptype"));$(".search-bar-tab li").click(function(){$(".search-bar-tab li").removeClass("actived");$(this).addClass("actived");var n=+$(this).attr("ptype");it(n)});$("#divCategoryRe").click(function(){});$(".select-cate .select-control-label").click(function(){$(".select-control").removeClass("active");$(".select-cate .advance-select-options").is(":visible")?($(".select-cate").removeClass("active"),$(this).parent().children(".custom-dropbox-cate").hide(),$(".advance-select-options").hide()):($(".advance-select-options").hide(),$(".select-cate").addClass("active"),$(this).parent().children(".custom-dropbox-cate").show())});$(".filter-label").click(function(){$(this).children(".filter-text").hide();$(this).parent().children(".select-text-content").show();$(this).parent().children(".select-text-content").trigger("click");$(this).parent().children(".select-text-content").trigger("focus")});$(".select-control-label").click(function(){$(this).parent().hasClass("filter-control")||$("#hdbFilter").val("0")});$(".filter-control .select-control-label").click(function(){var n=$("#hdbFilter").val();n=="0"?($(".select-filter-dropbox").show(),$("#hdbFilter").val("1"),$("#divBedRoomOptions ul").children("[vl=-1]").removeClass("current"),$("#divMediaOptions ul").children("[vl=0]").removeClass("current")):($(".select-filter-dropbox").hide(),$(".fly-options").hide(),$("#hdbFilter").val("0"))});$(".select-filter-dropbox").mousedown(function(n){$(n.target).hasClass("filter-label")||($(".fly-options").hide(),$(".select-text-content.icon-arrow-up").hide(),$(".custom-dropbox-filter").hide())});$(document).mousedown(function(n){$(n.target).hasClass("advance-select-options")||$(n.target).parents(".advance-select-options").length>0||$(n.target).hasClass("dropbox-label")||$(n.target).hasClass("custom-value")||$(n.target).hasClass("select-control-label")||$(n.target).hasClass("icon-filter")||$(n.target).hasClass("icon-number")||et()});a=new st,function(){$.ui.autocomplete.prototype._renderMenu=function(n,t){var i=this,r=[],u=[],f=[],e;$.each(t,function(t,e){if(e.type==k){n.css("width",$("#search-suggestion").outerWidth());i._renderItem(n,e);return}e.type==p||(n.css("width","inherit"),e.id?e.id.projid?r.push(e):u.push(e):f.push(e))});f.length>0&&$.each(f,function(t,r){i._renderItem(n,r)});e=t.filter(function(n){return n.type===p});e.length>0&&(n.append("<li class='ui-autocomplete-category'>Tìm kiếm gần đây<\/li>"),e.forEach(function(t){i._renderItem(n,t)}));u.length>0&&(n.append("<li class='ui-autocomplete-category'>Khu vực<\/li>"),$.each(u,function(t,r){i._renderItem(n,r)}));r.length>0&&(n.append("<li class='ui-autocomplete-category'>Dự án<\/li>"),$.each(r,function(t,r){i._renderItem(n,r)}))};$.ui.autocomplete.prototype._renderItem=function(n,t){var o,f,r,e,u;if(t.type==k)return $("<li><\/li>").data("item.autocomplete",t).append(`<a class="location ga-search-geography">${t.label}</a>`).appendTo(n);if(t.type===p)return o=$("#staticDomain").data("cssserver"),$(`<li class="searching-history"></li>`).data("item.autocomplete",t).append(`<a class="history ga-search-history" title='${t.label}'>${t.label}</a>
                                            <span class="remove-searching-history" index="${t.index}">
                                                <img class="remove-searching-history ga-search-remove-history" index="${t.index}" o-id="${t.oId||""}" src="${o}/images/icons/16x16/grey/ic_close.png" />
                                            </span>`).appendTo(n);var s=this.term.split(" "),h=t.label.split(" "),i="",c=new RegExp("(~|!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|_|\\+|\\{|\\}|\\||\"|:|\\?|>|<|,|\\.|\\/|;|'|\\|[|]|=|-)","gi");for(f=0;f<h.length;f++){for(i.length>0&&(i+=" "),r=h[f],e=0;e<s.length;e++)if(UnicodeToKoDau(s[e].replace(c,"")).toLowerCase()===UnicodeToKoDau(r.replace(c,"")).toLowerCase()){r="<b>"+r+"<\/b>";break}i+=r}return t.id&&t.id.city&&t.id.city!="CN"?(u=function(){return t.id.projid?`project ga-search-project`:`location ga-search-location`},+w.val()==38?t.id.ts>0?$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n):$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n):t.id.tr>0?$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n):$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n)):$("<li><\/li>").data("item.autocomplete",t).append(`<a class="keyword">Tìm theo từ khóa: ${i}</a>`).appendTo(n)};$("#search-suggestion").autocomplete({source:function(n,t){var u,f,i,e,r,o,s;if(n.term){if(f=UnicodeToKoDau(n.term).trim(),i=null,JSON!==undefined&&localStorage!==undefined&&(i=JSON.parse(localStorage.getItem("suggestion-cache-2019"))),i||(i={}),e=i[f],e){r=[];r.push({id:null,label:n.term,value:n.term});r=r.concat(e);t(r);return}o="";o=+w.val()==38?$("#staticDomain").data("sug-sell")?$("#staticDomain").data("sug-sell"):"https://suggestion1.batdongsan.com.vn/":$("#staticDomain").data("sug-rent")?$("#staticDomain").data("sug-rent"):"https://suggestion2.batdongsan.com.vn/";s=function(r){i[f]=r;localStorage&&localStorage.setItem("suggestion-cache-2019",JSON.stringify(i));var u=[];u.push({id:null,label:n.term,value:n.term});u=u.concat(r);t(u)};cnt=0;$.ajax({url:o+f,success:s})}else u=[{type:k,label:ut,value:ut}],tt.GetSearchingHistories().then(function(n){n.length>0&&(u=u.concat(n.map(function(n,t){var i="";return n.searchingInfos.productType&&n.searchingInfos.productType.label&&(i+=n.searchingInfos.productType.label),i+=n.searchingInfos.category&&n.searchingInfos.category.label?` ${n.searchingInfos.category.label.toLowerCase()}`:` BĐS`,i+=n.searchingInfos.location&&n.searchingInfos.location.project&&n.searchingInfos.location.project.label?`, ${n.searchingInfos.location.project.label}`:n.searchingInfos.location&&n.searchingInfos.location.street&&n.searchingInfos.location.street.label?`, ${n.searchingInfos.location.street.label}`:n.searchingInfos.location&&n.searchingInfos.location.ward&&n.searchingInfos.location.ward.label?`, ${n.searchingInfos.location.ward.label}`:n.searchingInfos.location&&n.searchingInfos.location.district&&n.searchingInfos.location.district.label?`, ${n.searchingInfos.location.district.label}`:n.searchingInfos.location&&n.searchingInfos.location.city&&n.searchingInfos.location.city.label?`, ${n.searchingInfos.location.city.label}`:" trên toàn quốc",n.searchingInfos.keywork&&(i=n.searchingInfos.location||n.searchingInfos.category?`"${n.searchingInfos.keywork}", ${i}`:`"${n.searchingInfos.keywork}", ${n.searchingInfos.productType.label} BĐS`),n.searchingInfos.price&&n.searchingInfos.price.label&&(i+=`, ${n.searchingInfos.price.label.charAt(0).toUpperCase()+n.searchingInfos.price.label.slice(1)}`),n.searchingInfos.area&&n.searchingInfos.area.label&&(i+=`, ${n.searchingInfos.area.label.charAt(0).toUpperCase()+n.searchingInfos.area.label.slice(1)}`),n.searchingInfos.room&&n.searchingInfos.room.label&&(i+=`, ${n.searchingInfos.room.label} phòng ngủ`),n.searchingInfos.direction&&n.searchingInfos.direction.label&&(i+=`, Hướng ${n.searchingInfos.direction.label.toLowerCase()}`),n.searchingInfos.media&&n.searchingInfos.media.label&&(i+=`, Tin có ${n.searchingInfos.media.label.charAt(0).toLowerCase()+n.searchingInfos.media.label.slice(1)}`),{type:p,id:{productType:n.searchingInfos.productType&&n.searchingInfos.productType.id?n.searchingInfos.productType.id:38,categoryId:n.searchingInfos.category&&n.searchingInfos.category.id?n.searchingInfos.category.id:0,city:n.searchingInfos.location?n.searchingInfos.location.city?n.searchingInfos.location.city.code:null:null,distr:n.searchingInfos.location?n.searchingInfos.location.district?n.searchingInfos.location.district.id:null:null,wardid:n.searchingInfos.location?n.searchingInfos.location.ward?n.searchingInfos.location.ward.id:null:null,streetid:n.searchingInfos.location?n.searchingInfos.location.street?n.searchingInfos.location.street.id:null:null,projid:n.searchingInfos.location?n.searchingInfos.location.project?n.searchingInfos.location.project.id:null:null,priceid:n.searchingInfos.price&&n.searchingInfos.price.id>=0?n.searchingInfos.price.id:-1,maxprice:n.searchingInfos.price?n.searchingInfos.price.max:null,minprice:n.searchingInfos.price?n.searchingInfos.price.min:null,areaid:n.searchingInfos.area&&n.searchingInfos.area.id>=0?n.searchingInfos.area.id:-1,maxarea:n.searchingInfos.area?n.searchingInfos.area.max:null,minarea:n.searchingInfos.area?n.searchingInfos.area.min:null,roomid:n.searchingInfos.room&&n.searchingInfos.room.id>=0?n.searchingInfos.room.id:-1,directionid:n.searchingInfos.direction&&n.searchingInfos.direction.id>=0?n.searchingInfos.direction.id:-1,mediaid:n.searchingInfos.media?n.searchingInfos.media.id:null},label:i,value:i,keywork:n.searchingInfos.keywork,index:t,oId:n.oId}}).reverse().filter(function(n,t){return t<4})));t(u)})},minLength:0,position:{offset:"0 16"},select:function(n,t){var i;t.item.type===k?(n.preventDefault(),ot.GetYourLocation().then(function(n){a.ChangeLocation({cityCode:n.cityCode,districtId:n.districtId});$("#btnSearch").click()}).catch(function(){alert("Vui lòng bật chia sẻ địa điểm để sử dụng tính năng này.")})):t.item.type===p?(n.preventDefault(),t.item.keywork&&$("#search-suggestion").val(t.item.keywork),t.item&&t.item.id?(i=t.item.id,$(`li[ptype]`).removeClass("actived"),$(`li[ptype="${i.productType}"]`).addClass("actived"),it(i.productType),a.ChangeLocation({cityCode:i.city,districtId:i.distr,wardId:i.wardid,streetId:i.streetid,projectId:i.projid}).then(function(){if($("#suggestionTemp").val(t.item.value),i.categoryId){var n=$("#divCategoryRe").find(`li[vl="${i.categoryId}"]>span`).html();n&&($("#divCategoryRe").find(`li[vl] span`).removeClass("active"),$("#divCategoryRe").find(`li[vl="${i.categoryId}"]>span`).addClass("active"),$("#divCategoryRe").find("div.custom-value").html(n),$("#divCategoryRe").find("div.custom-value").addClass("hasvalue"));$("#hdCboCatagory").val(i.categoryId)}+i.priceid>=0?o.SetValueExtension(i.priceid):(i.maxprice&&($("#price-slider-range").slider("values",1,i.maxprice),$("#txtPriceMaxValue").val(i.maxprice),$("#txtPriceMaxValue").trigger("keyup")),i.minprice&&($("#price-slider-range").slider("values",0,i.minprice),$("#txtPriceMinValue").val(i.minprice),$("#txtPriceMinValue").trigger("keyup")));i.areaid?h.SetValueExtension(i.areaid||-1):(i.maxarea&&($("#area-slider-range").slider("values",1,i.maxarea),$("#txtAreaMaxValue").val(i.maxarea),$("#txtAreaMaxValue").trigger("keyup")),i.minarea&&($("#area-slider-range").slider("values",0,i.minarea),$("#txtAreaMinValue").val(i.minarea),$("#txtAreaMinValue").trigger("keyup")));f.SetValueExtension(i.mediaid);u.SetValueExtension(i.roomid);c.SetValueExtension(i.directionid);s();$("#btnSearch").click()})):$("#btnSearch").click()):t.item&&t.item.id&&(n.preventDefault(),$("#search-suggestion").val(null),i=t.item.id,a.ChangeLocation({cityCode:i.city,districtId:i.distr,wardId:i.wardid,streetId:i.streetid,projectId:i.projid}),$("#suggestionTemp").val(t.item.value),n.preventDefault(),$("#btnSearch").click())}}).on("click",function(){$(this).val()===""&&$(this).autocomplete("search","")}).keyup(function(){$(this).val().trim().length>0?$(".icon-close").show():$(".icon-close").hide()}).keypress(function(n){n.which===13&&$("#btnSearch").click()});$("#search-suggestion").attr("autocomplete","off");$(".icon-close").click(function(){$("#search-suggestion").val("");$("#Keyword").val("");$(this).hide()});$(".history-close").click(function(){var t=$(this).parent().next("li"),n=$(this).parent().prev("li");t.hasClass("ui-autocomplete-category")&&n.hasClass("ui-autocomplete-category")&&n.remove();$(this).parent().remove()});$(".ui-autocomplete").click(function(n){n.target.className.indexOf("remove-searching-history")>=0&&tt.RemoveSearchingHistory(+$(n.target).attr("index"),$(n.target).attr("o-id")).then(function(){$("#search-suggestion").click()})});$(document).mouseup(function(n){var t=$(".ui-autocomplete");t.is(n.target)||t.has(n.target).length!==0||$("#search-suggestion").autocomplete("close")})}(),function(){window.serverCss=n.serverCss;$(".price-reset").click(function(){var n=$("#price-slider-range"),t=n.slider("option");n.slider("values",[t.min,t.max]);o.SetValueExtension(-1);$(".price-control .custom-value").removeClass("hasvalue")});o.BindChangeEvent(o,function(n){var f=+w.val(),r=3e4,t,i,e,u,o;f===49&&(r=100);t=0;i=r;n.GetValue().length>0?(e=f===38?{"1":[0,500],"2":[500,800],"3":[800,1e3],"4":[1e3,2e3],"5":[2e3,3e3],"6":[3e3,5e3],"7":[5e3,7e3],"8":[7e3,1e4],"9":[1e4,2e4],"10":[2e4,3e4],"11":[3e4,3e4]}:{"1":[0,1],"2":[1,3],"3":[3,5],"4":[5,10],"5":[10,40],"6":[40,70],"7":[70,100],"8":[100,100]},u=e[n.GetValue()],u&&(t=u[0],i=u[1])):(n.GetMinValue().length>0&&(t=parseFloat(n.GetMinValue())),n.GetMaxValue().length>0&&(i=parseFloat(n.GetMaxValue())));i<t&&(o=i,i=t,t=o);t<0&&(t=0);t>r&&(t=r);i<0&&(i=0);i>r&&(i=r);$("#price-slider-range").slider("values",[t,i])})}(),function(){window.serverCss=n.serverCss;$("#area-slider-range").slider({range:!0,orientation:"horizontal",min:0,max:500,values:[0,500],step:5,slide:function(n,t){if(t.values[0]===t.values[1])return!1;$("#txtAreaMinValue").val(t.values[0]);$("#txtAreaMaxValue").val(t.values[1]);$("#txtAreaMinValue").trigger("keyup");$("#txtAreaMaxValue").trigger("keyup")}});$(".area-reset").click(function(){var n=$("#area-slider-range"),t=n.slider("option");n.slider("values",[t.min,t.max]);h.SetValueExtension(-1);$(".area-control .custom-value").removeClass("hasvalue")});h.BindChangeEvent(h,function(n){var t=0,i=500,u=n.GetText(),r,f;(n.GetValue().length>0||n.GetMaxValue().length>0||n.GetMinValue().length>0)&&(n.GetValue().length>0?parseInt(n.GetValue())>0&&(r=u.split("-"),r.length===2?(t=parseInt(r[0].replace(/[^0-9-]/ig,"")),i=parseInt(r[1].replace(/[^0-9-]/ig,""))):u.startsWith("<")?(i=parseInt(r[0].replace(/[^0-9-]/ig,"")),t=0):t=parseInt(r[0].replace(/[^0-9-]/ig,""))):(n.GetMinValue().length>0&&(t=parseFloat(n.GetMinValue().replace(/[^0-9-]/ig,""))),n.GetMaxValue().length>0&&(i=parseFloat(n.GetMaxValue().replace(/[^0-9-]/ig,"")))));i<t&&(f=i,i=t,t=f);t<0&&(t=0);t>500&&(t=500);i<0&&(i=0);i>500&&(i=500);$("#area-slider-range").slider("values",[t,i])})}(),function(){u.BindChangeEvent(u,ft);f.BindChangeEvent(f,ft);c.BindChangeEvent(c,s);$(".filter-reset").click(function(){u.ResetOption(-1);f.ResetOption(0);r.SetValueExtension(0);i.SetValueExtension(0);c.SetValueExtension(-1);s()})}(),function(){if(n.model.categoryId){var t=$("#divCategoryRe").find(`li[vl="${n.model.categoryId}"]>span`).html();t&&($("#divCategoryRe").find(`li[vl] span`).removeClass("active"),$("#divCategoryRe").find(`li[vl="${n.model.categoryId}"]>span`).addClass("active"),$("#divCategoryRe").find("div.custom-value").html(t),$("#divCategoryRe").find("div.custom-value").addClass("hasvalue"));$("#hdCboCatagory").val(n.model.categoryId)}$("#search-suggestion").val($("#Keyword").val().replace(/-/ig," "));$("#Keyword").val()&&$(".icon-close").show();a.ChangeLocation(n.model);n.model.priceId!==-1?o.SetValueExtension(n.model.priceId):(n.model.minPrice&&($("#price-slider-range").slider("values",0,n.model.minPrice),$("#txtPriceMinValue").val(n.model.minPrice),$("#txtPriceMinValue").trigger("keyup")),n.model.maxPrice&&($("#price-slider-range").slider("values",1,n.model.maxPrice),$("#txtPriceMaxValue").val(n.model.maxPrice),$("#txtPriceMaxValue").trigger("keyup")));n.model.areaId!==-1?h.SetValueExtension(n.model.areaId):(n.model.minArea&&($("#area-slider-range").slider("values",0,n.model.minArea),$("#txtAreaMinValue").val(n.model.minArea),$("#txtAreaMinValue").trigger("keyup")),n.model.maxArea&&($("#area-slider-range").slider("values",1,n.model.maxArea),$("#txtAreaMaxValue").val(n.model.maxArea),$("#txtAreaMaxValue").trigger("keyup")));n.model.roomId!==-1&&(n.model.roomId>4?u.SetValueExtension(n.model.roomId-1):u.SetValueExtension(n.model.roomId));n.model.directionId!==-1&&c.SetValueExtension(n.model.directionId);n.model.tabIndex>0&&f.SetValueExtension(n.model.tabIndex);s()}();$("#btnSearch").click(function(){function ot(n){return n.indexOf('<span class="arrow-icon"><\/span>')>=0&&(n=`từ ${n}`,n=n.replace('<span class="arrow-icon"><\/span>'," đến ").trim()),n.indexOf("&gt;=")>=0&&(n=n.replace("&gt;=","từ").trim()),n.indexOf("&lt;")>=0&&(n=n.replace("&lt;","tối đa").trim()),n}var s=$("#search-suggestion").val(),b=$("#suggestionTemp").val(),n,et,ht,k,st,d,g,nt,a,v,y,it,p,w,l,rt,ut,ft;s===b&&(s="");n={productType:{id:+$(".search-bar-tab li.actived").attr("ptype"),label:$(".search-bar-tab li.actived").html()}};!(s||$("#Keyword").val())||(et=s||$("#Keyword").val(),n.keywork=et.toLocaleLowerCase());+$("#hdCboCatagory").val()>0&&(n.category={id:+$("#hdCboCatagory").val(),label:+$("#hdCboCatagory").val()>0?$("#divCategoryRe .custom-value").html():null});t.GetValueAtLevel(1)&&t.GetValueAtLevel(1)!="CN"&&(n.location={city:{code:t.GetValueAtLevel(1),label:$(`.advance-options.level[city="${t.GetValueAtLevel(1)}"]`).html()}},+t.GetValueAtLevel(2)>0&&(n.location.district={id:+t.GetValueAtLevel(2),label:t.GetText()},+r.GetValue()>0&&(n.location.ward={id:+r.GetValue(),label:r.GetText()}),+i.GetValue()>0&&(n.location.street={id:+i.GetValue(),label:i.GetText()}),+e.GetValue()>0&&(n.location.project={id:+e.GetValue(),label:e.GetText()})));(+$("#txtAreaMaxValue").val()>0||+$("#txtAreaMinValue").val()>0||+h.GetValue()>0)&&(ht=h.GetText()+"",n.area={max:+$("#txtAreaMaxValue").val(),min:+$("#txtAreaMinValue").val(),id:+h.GetValue(),label:ot(h.GetText())});l=o.GetValue();l=l==undefined||l==null||l===""||l==NaN?-1:+l;(+$("#txtPriceMaxValue").val()>0||+$("#txtPriceMinValue").val()>0||l>=0)&&(n.price={max:+$("#txtPriceMaxValue").val(),min:+$("#txtPriceMinValue").val(),id:l,label:ot(o.GetText())});+u.GetValue()>0&&(k=+u.GetValue()||-1,n.room={id:k,label:u.find(`li[vl="${k}"]`).html()});+c.GetValue()>0&&(st=+u.GetValue()||-1,n.direction={id:st,label:`${c.GetText()}`});+f.GetValue()>0&&(n.media={id:+f.GetValue(),label:f.find(`li[vl="${+f.GetValue()}"]`).html()});tt.AddSearchingHistory(n);d=t.GetValueAtLevel(1);strInput=$("#search-suggestion").val().toLowerCase();g=+$("#hdCboCatagory").val();d!==""&&d!=="CN"||strInput.length===0||$.trim(strInput)===""||$.trim(strInput)===$("#search-suggestion").attr("placeholder")||!(!g||g<0)?(s=$("#search-suggestion").val().toLowerCase().trim(),b=$("#suggestionTemp").val().toLowerCase().trim(),s===b&&(s=""),s=s.replace(/'/ig,""),s=UnicodeToKoDauUrl(s),$("#Keyword").val(s),$("form#boxSearchForm").submit()):(strInput=$("#search-suggestion").val().toLowerCase(),strInput=strInput.replace(/'/ig,""),strInput=UnicodeToKoDauUrl(strInput),nt=window.location.origin,nt+=+$(".search-bar-tab li.actived").attr("ptype")==38?"/tags/ban/"+strInput:"/tags/cho-thue/"+strInput,a=new URL(nt),v=$("#txtAreaMinValue").val(),v&&a.searchParams.set("areaMin",v),y=$("#txtAreaMaxValue").val(),y&&a.searchParams.set("areaMax",y),it=+h.GetValue(),!v&&!y&&it>=0&&a.searchParams.set("areas",it),p=$("#txtPriceMinValue").val(),p&&a.searchParams.set("priceMin",p),w=$("#txtPriceMaxValue").val(),w&&a.searchParams.set("priceMax",w),l=+o.GetValue(),!p&&!w&&l>=0&&a.searchParams.set("price",l),rt=+c.GetValue(),rt>0&&a.searchParams.set("direction",rt),ut=+u.GetValue(),ut>0&&a.searchParams.set("room",ut),ft=+f.GetValue(),ft&&a.searchParams.set("tabIndex",ft),window.location.href=a.href)});$("#link-reset").click(function(){$("#search-suggestion").val("");$("#Keyword").val("");$(".icon-close").hide();$(".search-bar-tab li[ptype=38]").trigger("click");$(".select-control").removeClass("active");$(".custom-value").removeClass("hasvalue");a.ChangeLocation(null);o.SetValue("-1");h.SetValue("-1");u.SetValue("-1");c.SetValue("-1");f.SetValue("-1")})})();$(window).on("resize",function(){et();s();ct();var n=window.innerWidth;n<=1024?$(".search-bar-filter .search-bar-tab").length||($(".search-bar-tab").clone(!0,!0).appendTo(".search-bar-filter"),$(".search-bar-filter .search-bar-tab").show()):($(".search-bar-tab").show(),$(".search-bar-filter").html(""))});return $(window).scroll(function(){}),$(window).trigger("resize"),{}}}else setTimeout(function(){t(n)},100)})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={})),function(n){(function t(n){window.jQuery?n.Breadcrumbs=function(){function i(){var i,t;if($('.breadcrumb a[level="1"]').length>0){for(i=+$(".breadcrumb span").css("line-height").replace("px","")+2,t=1;t<n-1;t++)$(".breadcrumb").height()>i&&$(`.breadcrumb a[level="${t+1}"]`).attr("shown-title")!=="true"&&($(`.breadcrumb a[level="${t+1}"]`).attr("shown-title")||r($(`.breadcrumb a[level="${t+1}"]`)),$(`.breadcrumb a[level="${t+1}"]`).html("..."));$(".breadcrumb").height()>i&&$(`.breadcrumb a[level="${n}"]`).attr("shown-title")!=="true"&&($(`.breadcrumb a[level="${n}"]`).attr("shown-title")||r($(`.breadcrumb a[level="${n}"]`)),function u(){var t=$(`.breadcrumb a[level="${n}"]`).html();$(`.breadcrumb a[level="${n}"]`).html(t.substring(0,t.length-1));$(".breadcrumb").height()>i?u():$(`.breadcrumb a[level="${n}"]`).html(t.substring(0,t.length-5)+"...")}())}}function r(n){n.css("cursor","pointer");n.attr("hidden-html",n.html());n.attr("hidden-href",n.attr("href"));n.attr("shown-title","false");n.removeAttr("href");n.on("click",function(t){t.preventDefault();n.attr("href",n.attr("hidden-href"));n.removeAttr("hidden-href");n.html(n.attr("hidden-html"));n.removeAttr("hidden-html");n.attr("shown-title","true");n.unbind("click")})}var t=[],n=$(`.breadcrumb a[level]`).length;(function(){$(document).ready(function(){for(var r=0;r<n;r++)t.push($(`.breadcrumb a[level="${r+1}"]`).html());i()});$(window).resize(function(){for(var r=0;r<n;r++)$(`.breadcrumb a[level="${r+1}"]`).html(t[r]);i()})})()}:setTimeout(function(){t(n)},100)})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={})),function(n){(function(n){n.DetailsBinnova=function(n){(function(){if(n.productCookieName&&n.productCookieValue&&setCookie(n.productCookieName,n.productCookieValue,null,"/"),localStorage){var t=JSON.parse(localStorage.getItem("USER_LOCATION"));t=$.extend(t,n.contextValue);localStorage.setItem("USER_LOCATION",JSON.stringify(t))}eraseCookie("PRODUCT_FILTER","/",null)})()}})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={}));MarkingProductsServices=FrontEnd.MarkingProductsServices,function(n){(function(n){(function t(n){window.jQuery&&window.Swiper?n.ListingHistory=function(n){function s(){var u,f;return localStorage&&(u=localStorage.getItem(r),u&&(u=new Date(u),h(new Date,u)>n.asyncTime))?(f=t.map((n,t)=>`productIds[${t}]=${n.productId}`).join("&"),i.AjaxWrapperWithPromise({method:"GET",url:`${o}${n.getListingHistory}?${f}`}).then(n=>(localStorage.setItem(r,new Date),n))):new Promise(function(n){n(null)})}function h(n,t){return Math.round(n.getTime()-t.getTime())/36e5}var i=new CommonJS.Common,o=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"",u=$("#staticDomain").data("cssserver"),e=new MarkingProductsServices,t=[],f="listingHistoryInDetailsPage",r="listingHistoryAsyncInDetailsPage";return function(){var o,h;localStorage&&(o=localStorage.getItem(f),o&&(t=JSON.parse(o)),h=localStorage.getItem(r),h||localStorage.setItem(r,new Date));t=t.filter(t=>t.productId!==n.product.productId);s().then(function(n){n&&(t.forEach(t=>{var i=n.find(n=>n.productId===t.productId);i?(t.avatar=i.avatar,t.vipClass=i.vipClass,t.isAddon=i.isAddon,t.has3D=i.has3D,t.has360=i.has360,t.hasVideo=i.hasVideo,t.title=i.title,t.price=i.price,t.area=i.area,t.address=i.address,t.duration=i.duration,t.updatedTime=i.updatedTime,t.avatarinfo=i.avatarinfo,t.avatarinfowap=i.avatarinfowap,t.priceSort=i.priceSort,t.areaSort=i.areaSort,t.room=i.room,t.toilets=i.toilets,t.description=i.description,t.dateSort=i.dateSort,t.contactName=i.contactName,t.contactMobile=i.contactMobile,t.totalMedia=i.totalMedia,t.createByUser=i.createbyUser):t.productId=-1}),t=t.filter(function(n){return n.productId>0}),localStorage.setItem(f,JSON.stringify(t)))}).then(function(){function r(n){return n!=="Không xác định"&&n!=="Kh&#xF4;ng x&#xE1;c &#x111;&#x1ECB;nh"?`<span class="ic_dot">·</span><div class="pro-m2">${n.replace(`m2`,`m²`)}</div>`:""}t.length>n.listingLimit&&t.pop();t.unshift({productId:n.product.productId,url:location.href,avatar:n.product.avatar,avatarinfo:n.product.avatarinfo,avatarinfowap:n.product.avatarinfowap,vipClass:n.product.vipClass,isAddon:n.product.isAddon,has3D:n.product.has3D,has360:n.product.has360,hasVideo:n.product.hasVideo,title:n.product.title,price:n.product.price,area:n.product.area,address:n.product.address,duration:n.product.duration,updatedTime:n.product.updatedTime,priceSort:n.product.priceSort,areaSort:n.product.areaSort,room:n.product.room,toilets:n.product.toilets,description:n.product.description,dateSort:n.product.dateSort,contactName:n.product.contactName,contactMobile:n.product.contactMobile,totalMedia:n.product.totalMedia,createByUser:n.product.createByUser});localStorage&&localStorage.setItem(f,JSON.stringify(t));$(".list-history ul").html(t.filter(function(t,i){return i<n.displayedItemCount}).map(t=>`<li class="${t.vipClass} swiper-slide">
                                        <div class="img-product">
                                            <a href="${t.url}"><img src="${t.avatar}" alt="${t.title}" error-image-src="${n.errorImageSrc}"></a>
                                            <span class="product-feature">
                                                ${t.has3D?`<img src="${u}/images/icons/24x24/outlined/ic_3d.svg">`:``}
                                                ${t.has360?`<img src="${u}/images/icons/24x24/outlined/ic_360.svg">`:``}
                                                ${t.hasVideo?`<img src="${u}/images/icons/24x24/outlined/ic_video.svg">`:``}
                                            </span>
                                        </div>
                                        <div class="info-product">
                                            <h3 class="p-title"><a href="${t.url}" title="${t.title}">${t.title}</a></h3>
                                            <div class="pro-price">${t.price}</div>
                                            ${r(t.area)}
                                            <div class="pro-adress">${t.address}</div>
                                            <div class="date">${t.duration}<span class="tooltip-time">${t.updatedTime}</span></div>
                                            <span class="tooltipMarking" aria-label="Bấm để lưu tin" data-microtip-position="top" role="tooltip">
                                                <i class="iconSave"
                                                    data-productid="${t.productId}"
                                                    data-avatar="${encodeURIComponent(t.avatarinfo)}"
                                                    data-avatarwap="${encodeURIComponent(t.avatarinfowap)}"
                                                    data-vipclass="${t.vipClass}"
                                                    data-isaddon="${t.isAddon}"
                                                    data-has3d="${t.has3D}"
                                                    data-has360="${t.has360}"
                                                    data-hasvideo="${t.hasVideo}"
                                                    data-title="${t.title}"
                                                    data-price="${t.price}"
                                                    data-area="${t.area}"
                                                    data-pricesort="${t.priceSort}"
                                                    data-areasort="${t.areaSort}"
                                                    data-room="${t.room}"
                                                    data-toilets="${t.toilets}"
                                                    data-address="${t.address}"
                                                    data-description="${t.description}"
                                                    data-duration="${t.duration}"
                                                    data-updatedtime="${t.updatedTime}"
                                                    data-datesort="${t.dateSort}"
                                                    data-contactname="${t.contactName}"
                                                    data-contactmobile="${t.contactMobile}"
                                                    data-url="${t.url}"
                                                    data-totalmedia="${t.totalMedia}"
                                                    data-createbyuser="${t.createByUser}"></i>
                                                </span>
                                        </div>
                                    </li>`).join(""));$(".list-history ul li").each(function(){detectTelNumberNew($(this).find(".p-title a"),!0,"box")});$(".list-history ul li .hidden-mobile").each(function(){var n=$(this).text();$(this).attr("raw",n);$(this).text(reformatToHideMobileNumber(n))});$(".list-history .p-title a").each(function(){$(this).attr("title",$(this).text().replace(/(?:\r\n|\r|\n)/g," ").trim())});var o=new Swiper($(".list-history .swiper-container"),{slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,navigation:{nextEl:".list-history .slide-next",prevEl:".list-history .slide-prev"}});$(document).ready(function(){t.length<=4&&($(".list-history .slide-next").hide(),$(".list-history .slide-prev").hide())});$(".list-history ul img").each(function(){$(this).on("error",function(){$(this).attr("src",$(this).attr("error-image-src")||"https://file1.batdongsan.com.vn/Images/no-photo.jpg")})});e.GetMarkedProductsFromLocal().then(function(n){$(".list-history .iconSave").each(function(){n.filter(n=>n.productId===+$(this).data("productid")).length&&i.MarkProduct($(this))})});$(".list-history .iconSave").click(function(){var t=$(this),r=$("body").width(),n;$(window).resize(function(){r=$("body").width()});n=$(".product-save.iconSave");e.MarkOrUnmarkProduct(i.GetMarkedProductFromView(t,!0)).then(function(u){u.marked?(i.MarkProduct(t,u.markedProductsCount),i.MarkProduct(n,u.markedProductsCount),n.html(n.html().replace("Lưu tin ","Bỏ lưu ")),r<=1300&&ShowToolTipSave($(".popupMarking.save"))):(i.UnmarkProduct(t,u.markedProductsCount),i.UnmarkProduct($(".product-save.iconSave"),u.markedProductsCount),n.html(n.html().replace("Bỏ lưu ","Lưu tin ")),r<=1300&&ShowToolTipSave($(".popupMarking.unsave")))});menu.ShowListSaveNoti()})})}(),{}}:setTimeout(function(){t(n)},100)})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={}));MarkingProductsServices=FrontEnd.MarkingProductsServices,function(n){(function(n){(function t(n){window.jQuery&&window.Swiper?n.SimilarListing=function(){var n=new MarkingProductsServices;return function(){var t=new Swiper($(".list-product-area .swiper-container"),{slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,navigation:{nextEl:".list-product-area .slide-next",prevEl:".list-product-area .slide-prev"}});n.GetMarkedProductsFromLocal().then(function(n){$(".list-product-area .iconSave").each(function(){n.filter(n=>n.productId===+$(this).data("productid")).length&&(cm.MarkProduct($(this)),$(this).html($(this).html().replace("Lưu tin ","Bỏ lưu ")))})});$(".list-product-area .iconSave").click(function(){var t=$(this),i=$("body").width();$(window).resize(function(){i=$("body").width()});n.MarkOrUnmarkProduct(cm.GetMarkedProductFromView(t)).then(function(n){n.marked?(cm.MarkProduct(t,n.markedProductsCount),i<=1300&&ShowToolTipSave($(".popupMarking.save"))):(cm.UnmarkProduct(t,n.markedProductsCount),i<=1300&&ShowToolTipSave($(".popupMarking.unsave")))});menu.ShowListSaveNoti()})}(),{}}:setTimeout(function(){t(n)},100)})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={})),function(n){(function(n){(function t(n){window.jQuery&&$.fn.fancybox?n.ContactBox=function(n){function l(n){var t=document.createElement("textarea"),i;t.style.position="fixed";t.style.top=0;t.style.left=0;t.style.width="2em";t.style.height="2em";t.style.padding=0;t.style.border="none";t.style.outline="none";t.style.boxShadow="none";t.style.background="transparent";t.value=n;document.body.appendChild(t);t.select();try{i=document.execCommand("copy")}catch(r){console.log("Oops, unable to copy")}document.body.removeChild(t)}function a(n){n.hasClass("tooltip")==!1&&(n.addClass("tooltip"),n.append('<dl class="tooltip-text">Đã sao chép<\/dl>'));$(".tooltip-text").css("display","none");n.hasClass("tooltip")&&n.children(".tooltip-text").css("display","block").animate({opacity:"1"},1e3,"easeInOutQuint").delay(800).animate({opacity:"0"},2e3,"easeInOutQuint",function(){$(this).css("display","none")})}function v(){var n,t,i;window.innerWidth>1024&&(n=$(window).scrollTop(),$(".search-bar").hasClass("fix")&&!$(".box-header").hasClass("fix")?$(".product-detail-scroll").css("top","56px"):$(".box-header").hasClass("fix")?$(".product-detail-scroll").css("top","118px"):$(".product-detail-scroll").css("top","0"),t=$(".box-contact").offset().top+$(".box-contact").outerHeight(),i=t+56,n<t?($(".product-detail-scroll").css("opacity",0),$(".product-detail-scroll").hide(),$(".search-bar").removeClass("shadow-lv-2")):n>=t&&n<=i?($(".product-detail-scroll").show(),$(".search-bar").addClass("shadow-lv-2"),$(".product-detail-scroll").css("opacity",($(window).scrollTop()-t)/56)):n>i&&($(".product-detail-scroll").show(),$(".search-bar").addClass("shadow-lv-2"),$(".product-detail-scroll").css("opacity",1)))}function f(){var i;if(window.innerWidth>1023){var r=$(".product-detail-scroll .scroll-info").outerWidth(!0)+18,n=$(".product-detail-scroll .scroll-contact").outerWidth(!0)+16,t=$(".main-container").width();r+n>t?(i=t-n-18,$(".product-detail-scroll .scroll-info").css("width",i+"px")):$(".product-detail-scroll .scroll-info").css("width","auto")}}function o(){if(window.innerWidth<=1023){var n=$(window).width(),t=(n-696)/2;$(".product-detail-fix .phone").css("width",n-$(".fix-wrap").outerWidth()-1+"px")}}function r(n,t){var i="",r=$(n).attr("id");i+='<div id="validateFor'+r+'" class="error-message">';i+=t;i+="<\/div>";$("#validateFor"+r).length?($("#validateFor"+r).remove(),$(n).after(i),$(n).removeClass("input-ok-field"),$(n).addClass("input-error-field")):($(n).after(i),$(n).removeClass("input-ok-field"),$(n).addClass("input-error-field"))}function t(n){var t=$(n).attr("id");$("#validateFor"+t).length&&($("#validateFor"+t).remove(),$(n).removeClass("input-error-field"),$(n).addClass("input-ok-field"))}function y(){var n=navigator.userAgent,t={iPhone:n.match(/(iPhone)/),iPod:n.match(/(iPod)/),iPad:n.match(/(iPad)/),blackberry:n.match(/BlackBerry/),android:n.match(/Android/),wphone:n.match(/windows phone/)};return t.android?"Android":t.iPhone?"iPhone":t.iPad?"iPad":t.iPod?"iPod":t.blackberry?"BlackBerry":t.wphone?"Windows phone":"Unknown device"}function s(n){return/^\d+$/.test(n)}function h(n){return/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,5}|[0-9]{1,3})(\]?)$/.test(n)}function p(f){var o,l;u||(u=!0,o=!0,function(){var n=$("#txtSenderMobile").val().trim()+"",i=$("#txtSenderEmail").val().trim()+"";n||i?t($("#txtSenderMobile")):(r($("#txtSenderMobile"),"Vui lòng nhập số điện thoại hoặc email."),o=!1);(n||i)&&(n&&(n.length!==10||!s(n))?(r($("#txtSenderMobile"),"Số điện thoại nhập vào không đúng"),o=!1):t($("#txtSenderMobile")),i.length&&!h(i)?(r($("#txtSenderEmail"),"Email không hợp lệ"),o=!1):t($("#txtSenderEmail")))}(),o)&&(l=y(),e.AjaxWrapperWithPromise({type:"POST",url:c+n.contactToBrokerUrl,data:{type:"productcontact",emailSender:$("#txtSenderEmail").val().trim(),emailSeller:n.emailSeller,mobileSender:$("#txtSenderMobile").val().trim(),nameSender:$("#txtSenderName").val().trim(),nameSeller:n.nameSeller,userid:n.userId,loginid:i.userid,content:$("#txtSenderContent").val().trim(),productid:n.productId,platform:"Desktop web",device:l,referrer:document.referrer,producturl:window.location.href,token:f}}).then(function(n){u=!1;var t="";n.success?(t='<div class="sending sending_ok">',t+='<div><img src="https://file4.batdongsan.com.vn/images/ic_send.png"/><\/div>',t+='<div class="sending_code">Thành công<\/div>',t+='<div class="sending_msg">Đã gửi đi yêu cầu liên hệ lại cho người đăng tin<\/div>',t+="<\/div>"):+n.type==0?($(".contact-result").text(n.msg),$(".contact-result").css("color","red"),$(".contact-result").show()):(t='<div class="sending sending_fail">',t+='<div><img src="https://file4.batdongsan.com.vn/images/ic_failed.png"/><\/div>',t+='<div class="sending_code">Thất bại<\/div>',t+='<div class="sending_msg">Lỗi hệ thống khi gửi yêu cầu, vui lòng thực hiện lại<\/div>',t+="<\/div>");t.length>0&&(parent.$.fancybox.close(),$.fancybox(t,{padding:0}),setTimeout(function(){parent.$.fancybox.close()},3e3))},function(){u=!1}))}var e=new CommonJS.Common,i={},u=!1,c=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"";return function(){$("#email").click(function(){l($("#email").data("email"));a($("#email"))});$(window).scroll(function(){v();f()});$(window).resize(function(){f();o();$(".product-detail-scroll").css("opacity",0);$(".search-bar").removeClass("shadow-lv-2");$(window).scroll()});f();o(),function(){function u(){if(getCookie("userinfo")){if(i&&i.email===getCookie("userinfo"))return new Promise(function(n){return n(i)});var n=$("#domainUserInfo").data("value")+"/HandlerWeb/UserHandler.ashx?type=getuserstatus";return e.AjaxWrapperWithPromise({type:"GET",url:n}).then(function(n){return i=n,n})}return new Promise(function(n){return n({email:"",name:"",mobile:"",userid:""})})}var n="Tôi có quan tâm đến bất động sản này.";i.name&&(n+=" Tên liên hệ: "+i.name);$("#btnSendContact").fancybox({margin:0,beforeShow:function(){u().then(function(i){$(".contact-result").html("");t($("#txtSenderMobile"));t($("#txtSenderEmail"));$("#txtSenderName").val(i.name);$("#txtSenderMobile").val(i.mobile);$("#txtSenderEmail").val(i.email);$("#txtSenderContent").html(n)})},afterClose:function(){u().then(function(t){$("#txtSenderName").val(t.name);$("#txtSenderMobile").val(t.mobile);$("#txtSenderEmail").val(t.email);$("#txtSenderContent").html(n)})}});$("#txtSenderContent").blur(function(){$(this).val().trim()||$(this).val(n)});$("#txtSenderMobile").blur(function(){var n=$("#txtSenderMobile").val().trim(),i=$("#txtSenderEmail").val().trim();if(n||i){if(n&&(n.length!==10||!s(n))){r($("#txtSenderMobile"),"Số điện thoại nhập vào không đúng.");return}t($("#txtSenderMobile"))}else{r($("#txtSenderMobile"),"Vui lòng nhập số điện thoại hoặc email.");return}});$("#txtSenderEmail").blur(function(){$(this).val(($(this).val()||"").trim());var i=$("#txtSenderMobile").val().trim(),n=$("#txtSenderEmail").val().trim();if(i||n){if(n&&!h(n)){r($("#txtSenderEmail"),"Email không hợp lệ");return}t($("#txtSenderEmail"));t($("#txtSenderMobile"))}else{r($("#txtSenderMobile"),"Vui lòng nhập số điện thoại hoặc email.");t($("#txtSenderEmail"));return}});$("input,textarea").blur(function(){$(this).val(($(this).val()||"").trim())})}()}(),{SendRequest:function(n){p(n)}}}:setTimeout(function(){t(n)},100)})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={}));MarkingProductsServices=FrontEnd.MarkingProductsServices,function(n){(function(n){(function t(n){window.jQuery?n.Details=function(n){function u(n){var t=document.createElement("textarea"),i;t.style.position="fixed";t.style.top=0;t.style.left=0;t.style.width="2em";t.style.height="2em";t.style.padding=0;t.style.border="none";t.style.outline="none";t.style.boxShadow="none";t.style.background="transparent";t.value=n;document.body.appendChild(t);t.select();try{i=document.execCommand("copy")}catch(r){console.log("Oops, unable to copy")}document.body.removeChild(t)}function f(i){var s,o,u;$(".pl-popup-message").html("");var f=0,e="",r="";if($(".pl-popup-tab div.button[rel=info]").hasClass("current")?(f=1,r="info"):$(".pl-popup-tab div.button[rel=stats]").hasClass("current")?(f=2,r="stats"):$(".pl-popup-tab div.button[rel=map]").hasClass("current")&&(f=3,r="map"),$(".tab-"+r+" input[type=checkbox]:checked").each(function(){e=e+$(this).val()+". "}),s=$(".tab-"+r+" textarea").val().trim()+"",!e.trim()&&!s.trim()){alert("Bạn cần chọn/nhập phản hồi");return}if(o=$("#userEmail").val().trim()+"",o.trim()){if(!t.IsEmail(o)){alert("Email không hợp lệ");return}}else{alert("Bạn cần nhập Email");return}if(u=$("#userMobile").val().trim()+"",u.trim()){if(u.length!==10||!t.IsPhoneNumber(u)){alert("Mobile nhập vào không đúng");return}}else{alert("Bạn cần nhập mobile");return}$(".pl-popup-message").html("Đang gửi phản hồi");try{ga("send","event","ProductDetail","Feedback","Gửi phản hồi tin rao")}catch(h){}t.AjaxWrapper({url:n.urlSubmitFeedback,type:"POST",data:{type:f,content:e+". "+s,email:o,mobile:u,name:$("#userFullName").val().trim(),productUrl:window.location.href,etag:$("#popup-etag").val(),token:i},"async":!1,success:function(n){$(".pl-popup-message").html("");n.length>0?alert(n):($(".pl-popup").css("display","none"),$("body").unbind("click"),$(".pl-popup-tab-content label input").removeAttr("checked"),$(".pl-popup-tab-content textarea").val(""),alert("Cảm ơn bạn đã gửi phản hồi đến chúng tôi!"))}})}var t=new CommonJS.Common,r=new CaptchaJS.CommonCaptcha,i=new MarkingProductsServices;return function(){$(document).ready(function(){var n=$(".detail-product .detail-1 .des-product").height();n>160&&$(".detail-product .detail-1 .des-product").siblings("div.box-view-less").show()});var n=0;$(".product-detail .detail-1 .box-view-more").click(function(){$(this).hide();$(".detail-1").removeClass("maxheight");$(".product-detail .detail-1 .box-view-less").show();n=$("html, body").scrollTop()});$(".product-detail .box-view-less").click(function(){$(this).hide();$(".detail-1").addClass("maxheight");$(".product-detail .detail-1 .box-view-more").show();var n=$(".detail-product").offset().top-($(".search-bar").outerHeight()+$(".box-header").outerHeight());$("html, body").scrollTop()>n&&$("html, body").animate({scrollTop:n},500)});$(".product-share").click(function(){$(".box-share").slideToggle()});$(document).mousedown(function(n){$(n.target).hasClass("product-share")||$(n.target).parents(".product-share").length>0||$(n.target).parents(".box-share").length>0?(n.preventDefault(),n.stopPropagation()):$(".box-share").is(":visible")&&$(".box-share").slideToggle()});$("#copyLink").click(function(){u(window.location.href);$(".box-share").hide()});$("#report").click(function(){t.GetCurrentUserInfo(function(n){n&&(n.email&&$("#userEmail").val(n.email),n.mobile&&$("#userMobile").val(n.mobile),n.name&&$("#userFullName").val(n.name))});$("#popup_feedback").show();r.GetCaptcha("pl-popup-img-captcha","popup-etag");$("body").click(function(n){var t=$(".fb-popup,#report");t.is(n.target)||t.has(n.target).length!==0||($("#popup_feedback").hide(),$("body").unbind("click"))})}),function(){$("#pl-popup-close").click(function(){$("#popup_feedback").hide()});$(".pl-popup-tab > div.button").click(function(){$(".pl-popup-tab > div.button").removeClass("current");$(this).addClass("current");var n=$(this).attr("rel");$(".pl-popup-tab-content").hide();$(".tab-"+n).show()})}();i.GetMarkedProductsFromLocal().then(function(n){$(".description .iconSave").each(function(){n.filter(n=>n.productId===+$(this).data("productid")).length&&(t.MarkProduct($(this)),$(this).html($(this).html().replace("Lưu tin ","Bỏ lưu ")))})});$(".description .iconSave").click(function(){var n=$(this),f=$(this).data("productid"),r=$("body").width(),u;$(window).resize(function(){r=$("body").width()});u=$('.list-history .iconSave[data-productid="'+f+'"]');i.MarkOrUnmarkProduct(t.GetMarkedProductFromView(n)).then(function(i){i.marked?(t.MarkProduct(n,i.markedProductsCount),n.html(n.html().replace("Lưu tin ","Bỏ lưu ")),t.MarkProduct(u),r<=1300&&ShowToolTipSave($(".popupMarking.save"))):(t.UnmarkProduct(n,i.markedProductsCount),n.html(n.html().replace("Bỏ lưu ","Lưu tin ")),t.UnmarkProduct(u),r<=1300&&ShowToolTipSave($(".popupMarking.unsave")))});menu.ShowListSaveNoti()})}(),{SendFeedback:function(n){f(n)}}}:setTimeout(function(){t(n)},100)})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={})),function(n){(function(n){(function t(n){window.jQuery&&$.fn.fancybox?n.OtherContactForm=function(n){function t(n,t){var i="",r=$(n).attr("id");i+='<div id="validateFor'+r+'" class="error-message">';i+=t;i+="<\/div>";$("#validateFor"+r).length?($("#validateFor"+r).remove(),$(n).after(i),$(n).removeClass("input-ok-field"),$(n).addClass("input-error-field")):($(n).after(i),$(n).removeClass("input-ok-field"),$(n).addClass("input-error-field"))}function i(n){var t=$(n).attr("id");$("#validateFor"+t).length&&($("#validateFor"+t).remove(),$(n).removeClass("input-error-field"),$(n).addClass("input-ok-field"))}function l(){var n=navigator.userAgent,t={iPhone:n.match(/(iPhone)/),iPod:n.match(/(iPod)/),iPad:n.match(/(iPad)/),blackberry:n.match(/BlackBerry/),android:n.match(/Android/),wphone:n.match(/windows phone/)};return t.android?"Android":t.iPhone?"iPhone":t.iPad?"iPad":t.iPod?"iPod":t.blackberry?"BlackBerry":t.wphone?"Windows phone":"Unknown device"}function s(n){return/^\d+$/.test(n)}function h(n){return/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,5}|[0-9]{1,3})(\]?)$/.test(n)}function a(a){var v=!0,y;(function(){var n=$("#otherMobile").val().trim()+"",r=$("#otherEmail").val().trim()+"";n||r?i($("#otherMobile")):(t($("#otherMobile"),"Vui lòng nhập số điện thoại hoặc email."),v=!1);(n||r)&&(n&&(n.length!==10||!s(n))?(t($("#otherMobile"),"Số điện thoại nhập vào không đúng"),v=!1):i($("#otherMobile")),r.length&&!h(r)?(t($("#otherEmail"),"Email không hợp lệ"),v=!1):i($("#otherEmail")))}(),v)&&(y=l(),o.AjaxWrapperWithPromise({type:"POST",url:c+n.contactToBrokerUrl,data:{type:"productcontact",emailSender:$("#otherEmail").val().trim(),emailSeller:n.emailSeller,mobileSender:$("#otherMobile").val().trim(),nameSender:$("#otherName").val().trim(),nameSeller:n.nameSeller,userid:n.userId,loginid:userInfo.userid,content:$("#otherContent").val().trim(),productid:n.productId,platform:"Desktop web",device:y,referrer:document.referrer,producturl:window.location.href,token:a}}).then(function(n){var t="";n.success?(t='<div class="sending sending_ok">',t+='<div><img src="https://file4.batdongsan.com.vn/images/ic_send.png"/><\/div>',t+='<div class="sending_code">Thành công<\/div>',t+='<div class="sending_msg">Đã gửi đi yêu cầu liên hệ lại cho người đăng tin<\/div>',t+="<\/div>"):+n.type==0?($(".contact-result").text(n.msg),$(".contact-result").css("color","red"),$(".contact-result").show()):(t='<div class="sending sending_fail">',t+='<div><img src="https://file4.batdongsan.com.vn/images/ic_failed.png"/><\/div>',t+='<div class="sending_code">Thất bại<\/div>',t+='<div class="sending_msg">Lỗi hệ thống khi gửi yêu cầu, vui lòng thực hiện lại<\/div>',t+="<\/div>");t.length>0&&($.fancybox(t,{padding:0,afterClose:function(){n.success&&($(".otherName, .otherMobile, .otherEmail, .otherContent, .btnOtherSendRequest").attr("disabled","disabled"),$(".error-message").remove(),$(".btnOtherSendRequest").text("Đã gửi yêu cầu").addClass("btn-disable"))}}),n.success&&($("#otherName").val(u),$("#otherMobile").val(f),$("#otherEmail").val(e),$("#otherContent").html(r)),setTimeout(function(){parent.$.fancybox.close()},3e3))},function(){isLoading=!1}))}function v(a){var v=!0,y;(function(){var n=$("#otherMobile1").val().trim()+"",r=$("#otherEmail1").val().trim()+"";n||r?i($("#otherMobile1")):(t($("#otherMobile1"),"Vui lòng nhập số điện thoại hoặc email."),v=!1);(n||r)&&(n&&(n.length!==10||!s(n))?(t($("#otherMobile1"),"Số điện thoại nhập vào không đúng"),v=!1):i($("#otherMobile1")),r.length&&!h(r)?(t($("#otherEmail1"),"Email không hợp lệ"),v=!1):i($("#otherEmail1")))}(),v)&&(y=l(),o.AjaxWrapperWithPromise({type:"POST",url:c+n.contactToBrokerUrl,data:{type:"productcontact",emailSender:$("#otherEmail1").val().trim(),emailSeller:n.emailSeller,mobileSender:$("#otherMobile1").val().trim(),nameSender:$("#otherName1").val().trim(),nameSeller:n.nameSeller,userid:n.userId,loginid:userInfo.userid,content:$("#otherContent1").val().trim(),productid:n.productId,platform:"Desktop web",device:y,referrer:document.referrer,producturl:window.location.href,token:a}}).then(function(n){var t="";n.success?(t='<div class="sending sending_ok">',t+='<div><img src="https://file4.batdongsan.com.vn/images/ic_send.png"/><\/div>',t+='<div class="sending_code">Thành công<\/div>',t+='<div class="sending_msg">Đã gửi đi yêu cầu liên hệ lại cho người đăng tin<\/div>',t+="<\/div>"):+n.type==0?($(".contact-result").text(n.msg),$(".contact-result").css("color","red"),$(".contact-result").show()):(t='<div class="sending sending_fail">',t+='<div><img src="https://file4.batdongsan.com.vn/images/ic_failed.png"/><\/div>',t+='<div class="sending_code">Thất bại<\/div>',t+='<div class="sending_msg">Lỗi hệ thống khi gửi yêu cầu, vui lòng thực hiện lại<\/div>',t+="<\/div>");t.length>0&&($.fancybox(t,{padding:0,afterClose:function(){n.success&&($(".otherName, .otherMobile, .otherEmail, .otherContent, .btnOtherSendRequest").attr("disabled","disabled"),$(".error-message").remove(),$(".btnOtherSendRequest").text("Đã gửi yêu cầu").addClass("btn-disable"))}}),n.success&&($("#otherName1").val(u),$("#otherMobile1").val(f),$("#otherEmail1").val(e),$("#otherContent1").html(r)),setTimeout(function(){parent.$.fancybox.close()},3e3))},function(){isLoading=!1}))}var o=new CommonJS.Common,c=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"",u="",f="",e="",r="";return function(){(function(){(function(){if(getCookie("userinfo")){var n=$("#domainUserInfo").data("value")+"/HandlerWeb/UserHandler.ashx?type=getuserstatus";return o.AjaxWrapperWithPromise({type:"GET",url:n})}return new Promise(function(n){return n({email:"",name:"",mobile:"",userid:""})})})().then(function(n){r="Tôi có quan tâm đến bất động sản này.";n.name&&(r+=" Tên liên hệ: "+n.name);e=n.email;u=n.name;f=n.mobile;$(".otherName").val(u);$(".otherMobile").val(f);$(".otherEmail").val(e);$(".otherContent").html(r)});$(".otherContent").blur(function(){$(this).val().trim()||$(this).val(r)});$(".otherMobile").blur(function(){var n=$(this).val().trim(),r=$(this).parent().children(".otherEmail").val().trim();if(n||r){if(n&&(n.length!==10||!s(n))){t($(this),"Số điện thoại nhập vào không đúng.");return}i($(this))}else{t($(this),"Vui lòng nhập số điện thoại hoặc email.");return}});$(".otherEmail").blur(function(){$(this).val(($(this).val()||"").trim());$mobile=$(this).parent().children(".otherMobile");var r=$mobile.val().trim(),n=$(this).val().trim();if(r||n){if(n&&!h(n)){t($(this),"Email không hợp lệ");return}i($(this));i($mobile)}else{t($mobile,"Vui lòng nhập số điện thoại hoặc email.");i($(this));return}});$("input,textarea").blur(function(){$(this).val(($(this).val()||"").trim())})})()}(),{SendRequest:function(n){a(n)},SendRequestTablet:function(n){v(n)}}}:setTimeout(function(){t(n)},100)})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={})),function(n){(function(n){(function t(n){window.jQuery&&window.Swiper?n.MediaSlide=function(){function n(n){return new Promise(function(t){var i=new Image;i.onload=function(){var n=this.width,i=this.height;t({width:n,height:i})};i.src=n})}return function(){function e(){$("#video").each(function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function p(n,t,i){var r=n/t;r>1||r===0?$(`.img-responsive[src="${i}"]`).parent().hide():$(`.img-responsive[src="${i}"]`).parent().parent().find(".media-bg").hide()}function b(n){var t=r.slides.length;$(".swiper-pagination-full-360 .swiper-pagination-current").text(n);$(".swiper-pagination-full-360 .swiper-pagination-total").text(t);+n==+t?$("#photo360 .img360-next").addClass("hidden"):$("#photo360 .img360-next").removeClass("hidden");+n==1?$("#photo360 .img360-prev").addClass("hidden"):$("#photo360 .img360-prev").removeClass("hidden")}function c(){if(t(),$(".slide-3d iframe").attr("src").length<=0){var n=$(".gallery-top li[data-filter=3d]").data("src");$(".slide-3d iframe").attr("src",n)}$(".slide-3d").show()}function l(n){t();$(".slide-360").show();n>0?$("#photo360 .thumbs360 li[data-order="+n+"]").trigger("click"):$(".thumbs360 li.current").length||$("#photo360 .thumbs360 li:first").trigger("click");$(".popup-pagination").show();$(".swiper-pagination-full-360").show()}function a(n){t();n>=0&&i.slideTo(n,0);$(".popup-pagination").show();$(".swiper-pagination-full").show();$(".slide-image").show()}function k(){t();$(".slide-map").show();$(".slide-map iframe").length||$(".detail-2 .map iframe").clone().appendTo(".slide-map");$(".popup-choice").addClass("popup-choice-map");$("#popup .icon-close").addClass("icon-close-black")}function t(){$("#popup .icon-close").removeClass("icon-close-black");$(".popup-choice").removeClass("popup-choice-map");$(".popup-pagination").hide();$(".swiper-pagination-fraction").hide();e()}function f(){$("#popup").css("visibility","hidden");$("#popup").css("z-index","-1")}function v(){$("#popup").css("visibility","visible");$("#popup .icon-close").show();$("#popup").css("z-index","9999")}function y(){window.innerWidth>=1024&&$("#video").css("width",$(".video-cell").height()*16/9)}var o,s,h,i,u;(function(){navigator.userAgent.match(/iPad/i)!==null?$("[full-for-ipad]").each((n,t)=>{$(t).attr("full",$(t).attr("full-for-ipad")),$(t).removeAttr("full-for-ipad")}):$("[full-for-ipad]").each((n,t)=>{$(t).removeAttr("full-for-ipad")})})();$(".img-responsive").on("load",function(){p(this.width,this.height,this.src)});o=$(".gallery-thumbs-full .swiper-wrapper div").length*120;$(".product-detail .gallery-thumbs-full.swiper-container").css("max-width",o+"px");s=$(".thumbs360 li").length*120;$(".thumbs360").css("max-width",s+"px");$(document).ready(function(){h=new Swiper(".gallery-thumbs-full",{spaceBetween:8,slidesPerView:"auto",watchSlidesVisibility:!0,watchSlidesProgress:!0});i=new Swiper(".gallery-top-full",{slidesPerView:1,slideToClickedSlide:!0,keyboard:{enabled:!0},pagination:{el:".swiper-pagination-full",type:"fraction"},navigation:{nextEl:".slide-image .swiper-button-next",prevEl:".slide-image .swiper-button-prev"},thumbs:{swiper:h},on:{slideChange:function(){e()}}})});var w=new Swiper(".gallery-thumbs",{spaceBetween:8,slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}),nt=new Swiper(".gallery-top",{spaceBetween:10,keyboard:{enabled:!0},pagination:{el:".gallery-top .swiper-pagination",type:"fraction"},navigation:{nextEl:".gallery-top .swiper-button-next",prevEl:".gallery-top .swiper-button-prev"},thumbs:{swiper:w}}),r=new Swiper(".gallery-thumbs-360",{keyboard:{enabled:!0},slidesPerView:"auto",spaceBetween:8,freeMode:!0,watchSlidesVisibility:!0,navigation:{nextEl:".slide-360 .swiper-button-next",prevEl:".slide-360 .swiper-button-prev"}});$(".thumbs360 li").bind("click",this,function(){var n=$(this).data("order")+1;b(n)});$(".slide-product").bind("keypress",this,function(n){var t=n.keyCode?n.keyCode:n.which;alert(t)});$("#photo360 .img360-next").on("click",function(){var n=r.slides.length,t=$(".thumbs360 li.current").data("order")+1;t<n&&$(".thumbs360 li.current").next().trigger("click")});$("#photo360 .img360-prev").on("click",function(){var t=r.slides.length,n=$(".thumbs360 li.current").data("order");n>0&&$(".thumbs360 li.current").prev().trigger("click")});u=null;$(".gallery-top").on("mousemove",function(){clearTimeout(u);$(".swiper-button-next.slide-next1").addClass("hover");$(".swiper-button-prev.slide-prev1").addClass("hover");u=setTimeout(function(){$(".swiper-button-next.slide-next1").removeClass("hover");$(".swiper-button-prev.slide-prev1").removeClass("hover")},3e3)});$(".gallery-top").on("mouseleave",function(){$(".swiper-button-next.slide-next1").removeClass("hover");$(".swiper-button-prev.slide-prev1").removeClass("hover")});$("#popup .icon-close").click(function(){f();t();$(".swiper-pagination.swiper-pagination-fraction").removeAttr("style")});document.onkeydown=function(n){n=n||window.event;var t=!1;t="key"in n?n.key+""=="Escape"||n.key+""=="Esc":+n.keyCode==27;t&&f()};$(".map-overlay").click(function(){v();$(".popup-choice li[data-filter=map]").trigger("click")});$(window).resize(function(){$("#popup-choice li.active").data("filter")+""=="360"&&$(".thumbs360 li.current").trigger("click")});$(".gallery-top li").click(function(){var n=$(this).data("filter")+"",i=$(this).data("index"),t;$(".popup-choice li").removeClass("active");$(".popup-choice li[data-filter="+n+"]").addClass("active");$(".slide-content").hide();n==="3d"?c():n==="360"?(t=$(this).data("order"),l(t)):a(i);v()});$(".popup-choice li").on("click",function(){var n=$(this).data("filter")+"";$(".popup-choice li").removeClass("active");$(this).addClass("active");$(".slide-content").hide();n==="map"?k():n==="3d"?c():n==="360"?l():a()});window.innerWidth<1024&&$(".content .slide-image").swipe({swipe:function(n,t){(t+""=="up"||t+""=="down")&&f()}});y();$(window).on("resize",function(){i.update();y()});$("img.youtubeMaxres").load(function(){n($("img.youtubeMaxres").attr("src")).then(function(n){if(n.width===120&&n.height===90){var t=$("img.youtubeMaxres").attr("src");t=t.replace("maxresdefault","hqdefault");$("a.youtubeMaxres").attr("style",`background-image:url('${t}'`)}})});$("img.image360").load(function(){n($("img.youtubeMaxres").attr("src")).then(function(){})})}(),{}}:setTimeout(function(){t(n)},100)})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={})),function(n){(function(n){(function t(n){var h,r,u,f,e,o,c,i,s;return})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={}));$(document).ready(function(){function t(){$("#product-detail-wap .h-sr-t .hidden-mobile, #product-detail-wap .seoInfo .hidden-mobile, .blockInfo .text-right .hidden-mobile").each(function(){var n=$(this),t=n.attr("raw");n.addClass("showPhone");n.html(t)})}function i(){$("#product-detail-wap #content .hidden-mobile").each(function(){var n=$(this),t=n.attr("raw");n.addClass("showPhone");n.html(t)})}function e(){var n=$("#product-detail-wap .btn-hotline .content .numberPhone"),t=n.attr("raw");n.addClass("showHotline");n.html(t)}function r(){$("#product-detail-web .tile-product .hidden-mobile, .note .hidden-mobile, .scroll-wrap .scroll-info .hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).addClass("showPhone");$(this).html(n)})}function u(){$("#product-detail-web .des-product .hidden-mobile, .box-round-grey3 .r2 .hidden-mobile").each(function(){$(this).addClass("showPhone hidden-phone");$(this).html($(this).attr("raw"))})}function f(){$(".phoneEvent").each(function(){var n=$(this).attr("raw");$(this).text(formatMobileToDisplay(n)+" · Sao chép");$(this).addClass("showHotline")})}var n;$("#product-detail-wap .btn-sms a, .product-detail-fix a.link_sms").click(function(){var i=navigator.userAgent.toLowerCase(),n=$(this).data("href"),t;/(iphone|ipod|ipad)/i.test(i)&&(t=parseFloat(String(window.navigator.userAgent.match(/[0-9]{1,3}_[0-9]/)).split("_")[0]+"."+String(window.navigator.userAgent.match(/[0-9]{1,3}_[0-9]/)).split("_")[1]),n=t>7?n.replace("/?body=","/&body="):n.replace("/?body=","/;body="));window.location.href=n});$("#list-product-area .div-list-product .item").each(function(){detectTelNumberNew($(this).find(".hh-sr"),!0,"m-on-title");$(this).find("a").attr("title",detectTelNumberNewFromHtml($(this).find("a").attr("title"),!0,"",!0))});$(".ul-list-product li").each(function(){var n=$(this).find(".p-title a");detectTelNumberNew(n,!0,"m-on-title");n.attr("title",detectTelNumberNewFromHtml(n.attr("title"),!0,"",!0))});$("#ul_for_u li").each(function(){var t,n;detectTelNumberNew($(this).find(".hh-sr"),!0,"m-on-title");t=$(this).find("a");t.attr("title",detectTelNumberNewFromHtml(t.attr("title"),!0,"",!0));n=$(this).find(".sp-contact");n.length>0&&(n.attr("mobile",n.text()),n.html('<i class="fa fa-phone"><\/i>'+reformatToHideMobileNumber(n.text())+" · Hiện số"))});$("#ul_for_u li .sp-contact").click(function(n){var t=$(this).attr("raw"),i;if($(this).hasClass("show")==!1){i=$(this).parent("div.line").parent("div.sr-info");i.siblings("h3.hh-sr").find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});i.siblings("h3.hh-sr").parent("div.padding").parent("a").attr("title",i.siblings("h3.hh-sr").text().replace(/(?:\r\n|\r|\n)/g," ").trim());$(this).addClass("show");n.preventDefault();$(this).closest(".padding").find(".hidden-mobile").each(function(){$(this).text(t)});$(this).html('<i class="fa fa-phone"><\/i>'+t);copyToClipboard(t);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",t)}catch(r){}}else{window.location.href="tel:"+t;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",t)}catch(r){}return!1}});$("#product-list-wap.s-list li, #s-list.s-list li").each(function(){var t,n;detectTelNumberNew($(this).find(".hh-sr"),!0,"m-on-title");t=$(this).find("a");t.attr("title",detectTelNumberNewFromHtml(t.attr("title"),!0,"",!0));n=$(this).find(".sp-contact");n.length>0&&(n.attr("mobile",n.text()),n.html('<i class="fa fa-phone"><\/i>'+formatMobileToDisplay(reformatToHideMobileNumber(n.text()))+" · Hiện số"))});$("#product-list-wap.s-list .sp-contact, #s-list.s-list .sp-contact").click(function(n){var t=$(this).attr("raw"),i;if($(this).hasClass("show")==!1){i=$(this).parent("div.line").parent("div.sr-info");i.siblings("h3.hh-sr").find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});i.siblings("h3.hh-sr").parent("div.padding").parent("a").attr("title",i.siblings("h3.hh-sr").text().replace(/(?:\r\n|\r|\n)/g," ").trim());$(this).addClass("show");n.preventDefault();$(this).closest(".padding").find(".hidden-mobile").each(function(){$(this).text(t)});$(this).html('<i class="fa fa-phone"><\/i>'+formatMobileToDisplay(t));copyToClipboard(t);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",t)}catch(r){}}else{window.location.href="tel:"+t;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",t)}catch(r){}return!1}});$("#product-detail-wap").length>0&&(current=$("#product-detail-wap"),detectTelNumberNew(current.find(".h-sr-t"),!0,"m-on-title"),detectTelNumberNew($("#content"),!1,"detail",!1,$("#vipOrder").val()>=5),detectTelNumberNew($(".seoInfo"),!1,"detail"),$(".blockInfo .text-right").each(function(){detectTelNumberNew($(this),!1,"detail",!1,$("#vipOrder").val()>=5)}),detectTelNumberNew($(".block-contact .col-right h3"),!1,"",!0),n=current.find(".numberPhone"),n.length>0&&(n.attr("mobile",n.text()),n.html(formatMobileToDisplay(reformatToHideMobileNumber(n.text()))+" · Hiện số")));$("#product-detail-wap .h-sr-t .hidden-mobile, #product-detail-wap .seoInfo .hidden-mobile, .blockInfo .text-right .hidden-mobile").click(function(){var n=$(this).attr("raw"),r=$(this);if(r.hasClass("showPhone")==!1){$(this).addClass("showPhone");r.html(n);t();i();e();copyToClipboard(n);showToolTip(r);try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(u){}}else{window.location.href="tel:"+n;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(u){}return!1}});$("#product-detail-wap #content .hidden-mobile").click(function(){var n=$(this).attr("raw"),r=$(this);if(r.hasClass("showPhone")==!1){$(this).addClass("showPhone");r.html(n);t();i();e();copyToClipboard(n);showToolTip(r);try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(u){}}else{window.location.href="tel:"+n;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(u){}return!1}});$("#product-detail-wap .btn-hotline").click(function(){$(this).children(".content").trigger("click")});$("#product-detail-wap .btn-hotline .content").click(function(){var r=$(this).children("span.numberPhone"),n=r.attr("raw");if($(this).hasClass("showHotline")==!1){$(this).addClass("showHotline");r.html(formatMobileToDisplay(n));t();i();copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(u){}}else{window.location.href="tel:"+n;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(u){}return!1}});window.handleHiddenPhoneNumberInListProducts=function(n){var i=$(n).find(".product-link"),t;detectTelNumberNew(i,!0,"m-on-title");i.attr("title",detectTelNumberNewFromHtml(i.attr("title"),!0,"",!0));detectTelNumberNew($(n).find(".product-content"),!0,"des");t=$(n).find(".btn-blue-7");t.length>0&&t.text().indexOf("*")<0&&(t.attr("mobile",t.text()),t.html(formatMobileToDisplay(reformatToHideMobileNumber(t.text()))+" · Hiện số"))};$("#product-lists-web.product-lists .product-item, #broker-page.product-lists .product-item").each(function(){$(this).parent().attr("id")!=="list-marking"&&window.handleHiddenPhoneNumberInListProducts(this)});$("#product-lists-web.product-lists .btn-blue-7, #broker-page.product-lists .btn-blue-7").click(function(){var n=$(this).attr("raw"),i,t;if($(this).hasClass("show")==!1){i=$(this).parent("div.product-contact").parent("div.product-wrap");t=i.siblings("h3.product-title").children("a.product-link");t.find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});t.attr("title",t.text().replace(/(?:\r\n|\r|\n)/g," ").trim());i.siblings("div.product-content").find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});$(this).text(formatMobileToDisplay(n)+" · Sao chép");$(this).addClass("show");try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(r){}}else{copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(r){}return!1}});$("#product-detail-web").length>0&&(current=$("#product-detail-web"),detectTelNumberNew(current.find(".tile-product"),!0,"m-on-title"),detectTelNumberNew($(".scroll-wrap .scroll-info"),!0,"m-on-title"),detectTelNumberNew(current.find(".des-product"),!1,"des",!1,$("#vipOrder").val()>=5),detectTelNumberNew($(".note"),!0,"des"),$(".box-round-grey3 .r2").each(function(){detectTelNumberNew($(this),!1,"des",!1,$("#vipOrder").val()>=5)}),detectTelNumberNew($(".product-detail-scroll .name"),!1,"",!0),detectTelNumberNew($(".main-right .box-contact .name"),!1,"",!0),detectTelNumberNew($(".tablet-box-contact .name"),!1,"",!0),n=$(".phoneEvent"),n.each(function(){$(this).attr("moblie",n.text());$(this).html(formatMobileToDisplay(reformatToHideMobileNumber($(this).text()))+"&nbsp;·&nbsp;Hiện số")}));$("#product-detail-web .tile-product .hidden-mobile, .note .hidden-mobile, .scroll-wrap .scroll-info .hidden-mobile").click(function(){var n=$(this).attr("raw"),t=$(this);if(t.hasClass("showPhone")==!1){r();u();f();try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(i){}}else{copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(i){}return!1}});$("#product-detail-web .des-product .hidden-mobile, .box-round-grey3 .r2 .hidden-mobile").click(function(){var n=$(this).attr("raw"),t=$(this);if(t.hasClass("showPhone")==!1){r();u();f();try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(i){}}else{copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(i){}return!1}});$(".phoneEvent").click(function(){var n=$(this).attr("raw");if($(this).hasClass("showHotline")==!1){r();u();f();try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(t){}}else{copyToClipboard(n);showToolTip($(".phoneEvent"));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(t){}return!1}});$(".box-contact .phone, .product-detail-fix .phone").click(function(){$(this).children(".phoneEvent").trigger("click")});$(".home-product.product-4-you li").each(function(){detectTelNumberNew($(this).find(".textTitle a"),!0,"m-on-title");$(this).find(".textTitle a").attr("title",detectTelNumberNewFromHtml($(this).find("a").attr("title"),!0,"",!0))});$("#product-detail").length>0&&(detectTelNumberNew($(".h-sr-t"),!1,"detail"),detectTelNumberNew($(".pm-desc"),!1,"detail"),detectTelNumberNew($(".pm-bottom div"),!0,"detail"),$("#product-other-detail").find(".right").each(function(){detectTelNumberNew($(this),!0,"detail")}),$("#divCustomerInfo").find(".right").each(function(){$(this).hasClass("contact-phone")==!1&&$(this).hasClass("contact-email")==!1&&detectTelNumberNew($(this),!0,"detail")}),$(".contact-phone").each(function(){var n=$(this).text();$(this).html('<span class="hidden-phone hidden-mobile detail border-phone">'+n+"<\/span>")}));$(".product-list,.product-lists").find(".p-main-text").each(function(){detectTelNumberNew($(this),!0,"")});$(".product-list,.product-lists").find(".p-title").find("a").each(function(){$(this).attr("title",detectTelNumberNewFromHtml($(this).attr("title"),!0,"",!0));detectTelNumberNew($(this),!0,"")});$(".product-list,.product-lists").find(".p-title").find("a").each(function(){$(this).attr("title",detectTelNumberNewFromHtml($(this).attr("title"),!0,"",!0));detectTelNumberNew($(this),!0,"")});$(".product-list,.product-lists").find(".contact").find("strong").each(function(){$(this).hasClass("mobile")?($(this).removeClass("mobile"),$(this).addClass("hidden-phone hidden-mobile border-phone")):detectTelNumberNew($(this),!0)});window.hiddenMobilePhoneInTitle=function(){$(".hidden-mobile").each(function(){$(this).parent().css("overflow","visible");var n=$(this).text();n.indexOf("*")<0&&($(this).attr("raw",n),$(this).text(reformatToHideMobileNumber(n)))})};window.hiddenMobilePhoneInTitle()});var lstHeaderFone=[20,210,211,218,219,22,230,231,240,241,25,26,27,280,281,29,30,31,320,321,33,350,351,36,37,38,39,4,500,501,510,511,52,53,54,55,56,57,58,59,60,61,62,63,64,65,650,651,66,67,68,69,70,710,711,72,73,74,75,76,77,780,781,79,80,82,83,84,85,87,862,863,866,868,871,873],lstHeaderPhone=[24,28,212,213,214,215,216,219,203,204,205,206,207,208,209,211,210,218,220,221,222,225,226,227,228,229,232,233,234,235,236,237,238,239,252,255,256,257,258,259,260,261,262,263,269,251,254,270,271,272,273,274,275,276,277,290,291,292,293,294,296,297,299],lstHeaderMobile10=[99,92,90,93,89,91,94,88,96,97,98,86,52,81,82,83,84,85,87,32,33,34,35,36,37,38,39,70,76,77,78,79,56,58,59],lstHeaderMobile11=[199,188,186,120,121,122,126,128,123,124,125,127,129,162,163,164,165,166,167,168,169];(function(n){(function(n){(function t(n){window.jQuery&&window.Swiper?n.BrokerSlide=function(){return function(){for(var i,t=$(".box-broker .broker-wrap"),n=0;n<t.length;n+=4)t.slice(n,n+4).wrapAll("<div class='swiper-slide'><\/div>");t.length>4?i=new Swiper(".box-broker .swiper-container",{slidesPerView:1,longSwipes:!1,autoplay:{delay:3500,disableOnInteraction:!0},loop:!0,pagination:{el:".box-broker .swiper-pagination",clickable:!0},navigation:{nextEl:".box-broker .swiper-button-next",prevEl:".box-broker .swiper-button-prev"}}):$(".broker-pagination").hide()}(),{}}:setTimeout(function(){t(n)},100)})(n.Details||(n.Details={}))})(n.Product||(n.Product={}))})(window.FrontEnd||(window.FrontEnd={}));